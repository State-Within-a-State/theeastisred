###########################
# Belgian Congo Events
###########################

add_namespace = conbel

### Kivu RISE UP

country_event = { # Happening
        id = conbel.1
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event conbel.1"
		hidden_effect = {
			#load_focus_tree = KTG_Civilwar
			set_global_flag = CONGO_SHITSHOW
		every_owned_state = {
			limit = {
				OR = {
					state = 977
				}
			}
			KIV = { transfer_state = PREV }
		}
		if = {
			limit = {
				country_exists = KIV
				KIV = { NOT = { has_country_flag = MAF_already_exists } }
			}
			KIV = {
				add_state_core = 718
				add_state_core = 1181
				add_state_core = 977
				load_oob = KIV
				load_focus_tree = KTG_Civilwar
				add_to_array = { global.MAF_collapse_tags = THIS }
			}
		}
		if = {
			limit = {
				country_exists = KTG
				country_exists = KIV
				KTG = { NOT = { has_country_flag = MAF_already_exists } }
			}
			KIV = { declare_war_on = { target = KTG type = annex_everything } }
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 881
				}
			}
			LPD = { transfer_state = PREV }
		}
		if = {
			limit = {
				country_exists = KIV
				LPD = { NOT = { has_country_flag = MAF_already_exists } }
			}
			LPD = {
				add_state_core = 881
				add_state_core = 295
				load_oob = LPD
				load_focus_tree = KTG_Civilwar
				add_to_array = { global.MAF_collapse_tags = THIS }
			}
		}
		
		every_owned_state = {
			limit = {
				OR = {
					state = 879
				}
			}
			UMN = { transfer_state = PREV }
		}
		if = {
			limit = {
				country_exists = KIV
				UMN = { NOT = { has_country_flag = MAF_already_exists } }
			}
			UMN = {
				add_state_core = 879
				add_state_core = 1183
				load_oob = UMN
				load_focus_tree = KTG_Civilwar
				add_to_array = { global.MAF_collapse_tags = THIS }
			}
		}

		every_owned_state = {
			limit = {
				OR = {
					state = 1025
				}
			}
			KSV = { transfer_state = PREV }
		}
		if = {
			limit = {
				country_exists = KSV
				KSV = { NOT = { has_country_flag = MAF_already_exists } }
			}
			KSV = {
				add_state_core = 538
				add_state_core = 1180
				add_state_core = 1025
				load_oob = KSV
				load_focus_tree = KTG_Civilwar
				add_to_array = { global.MAF_collapse_tags = THIS }
			}
		}
		if = {
			limit = {
				country_exists = KTG
				country_exists = KSV
				KTG = { NOT = { has_country_flag = MAF_already_exists } }
			}
			KSV = { declare_war_on = { target = KTG type = annex_everything } }
		}

		if = {
			limit = {
				country_exists = KIV
				country_exists = KSV
				KSV = { NOT = { has_country_flag = MAF_already_exists } }
			}
			KSV = { declare_war_on = { target = KIV type = annex_everything } }
		}
		KTG = { 
			country_event = {
				id = conbel.7
				days = 1
			}
			add_to_array = { global.MAF_collapse_tags = THIS }
		}
		set_cosmetic_tag = KTG_civilwar
		set_global_flag = KTG_is_in_civil_war
	}
	}
	title = conbel.1.t
	desc = conbel.1.d
	picture = GFX_Union_Miniere

	fire_only_once = yes

    trigger = {
        tag = KTG
		country_exists = TZN	
    }
    
	option = {
		name = conbel.1.a
		ai_chance = {
			factor = 100
		}
	
	}
	option = {
		name = conbel.1.b
		
		ai_chance = {
			factor = 100
		}
		KSV = {
			change_tag_from = KTG
		}
	}
}

country_event = { # Fix Colonial Rule
        id = conbel.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event conbel.2"}
	title = conbel.2.t
	desc = conbel.2.d
	picture = GFX_Union_Miniere

	fire_only_once = yes
	trigger = {
                tag = KTG
			}
			mean_time_to_happen = {
		days = 1
	}
	option = {
		name = conbel.2.a
		custom_effect_tooltip = KTG_COLONIAL_RULE
		ai_chance = {
			factor = 100
		}
		hidden_effect = {
		set_country_flag = KTG_COLONIAL_RULE
		}
	}
	}
	
country_event = { # Approaching the Mwami (democracy)
        id = conbel.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event conbel.3"}
	title = conbel.3.t
	desc = conbel.3.d
	picture = GFX_Union_Miniere

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = conbel.3.a
		ai_chance = {
			factor = 100
		}
		hidden_effect = {
		KTG = {
			country_event = {
				id = conbel.4
				days = 1
			}
		}
		}
	}
	}
	
country_event = { # Mwami Accepts
        id = conbel.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event conbel.4"}
	title = conbel.4.t
	desc = conbel.4.d
	picture = GFX_Union_Miniere

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = conbel.4.a
		ai_chance = {
			factor = 100
		}
	1183 = { set_demilitarized_zone = no }
	}
	}
	
country_event = { # MAF is notified of colonialism choice (Dominer)
        id = conbel.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event conbel.5"}
	title = conbel.5.t
	desc = conbel.5.d
	picture = GFX_Union_Miniere

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = conbel.5.a
		ai_chance = {
			factor = 100
		}
	}
	}
	
country_event = { # MAF is notified of colonialism choice (Evoluer)
        id = conbel.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event conbel.6"}
	title = conbel.6.t
	desc = conbel.6.d
	picture = GFX_Union_Miniere

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = conbel.6.a
		ai_chance = {
			factor = 100
		}
	}
	}
	
country_event = { # Dealing with the traitors
        id = conbel.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event conbel.6"}
	title = conbel.7.t
	desc = conbel.7.d
	picture = GFX_Union_Miniere

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = conbel.7.a
		ai_chance = {
			factor = 75
		}
		if = { limit = {
			country_exists = LPD
			country_exists = UMN
		}
		create_faction = "Force Publique"
		add_to_faction = LPD
		add_to_faction = UMN
		}
	}
	option = {
		name = conbel.7.b
		ai_chance = {
			factor = 25
		}
		if = { limit = {
			country_exists = LPD
			country_exists = UMN
		}
		LPD = { transfer_state = 295 }
		UMN = { transfer_state = 1183 }
		KTG = { declare_war_on = { target = LPD type = annex_everything } }
		KTG = { declare_war_on = { target = UMN type = annex_everything } }
		}
	}
	option = {
		name = conbel.7.c
		ai_chance = {
			factor = 0
		}
		LPD = { transfer_state = 295 }
		UMN = { transfer_state = 1183 }
	}
}

country_event = { #What are we to do?
    id = conbel.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event conbel.8"}
	title = conbel.8.t
	desc = conbel.8.d
	picture = GFX_Union_Miniere
	
	is_triggered_only = yes

	option = { #For Germany and the Empire!
		name = conbel.8.a
		trigger = {
			BEL = {
				is_subject_of = GER
			}
		}
		ai_chance = {
			factor = 75
		}
		GER = {
			add_to_faction = ROOT
		}
	}
	option = { #For Germany and the Empire!
		name = conbel.8.a
		trigger = {
			BEL = {
				is_subject = no
				is_in_faction_with = GER
			}
		}
		ai_chance = {
			factor = 75
		}
		GER = {
			add_to_faction = ROOT
		}
	}
	option = { #For the Entente and the Empire!
		name = conbel.8.b
		ai_chance = {
			factor = 25
		}
		trigger = {
			BEL = {
				is_subject_of = GER
			}
			NOT = {
				tag = KIV
			}
		}
		ENT = {
			add_to_faction = ROOT
		}
	}
	option = {
		name = conbel.7.c #We Need Nobody!
		ai_chance = {
			factor = 0
		}
	}
}