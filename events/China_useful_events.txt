add_namespace = annex_peace
add_namespace = china_socialistgenerals

country_event = { #peace out
	id = annex_peace.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event dei.100" }
	title = dei.100.t
	desc = dei.100.d

	trigger = {
		OR = {
			is_chinese_tag = yes
			tag = TAN
			tag = JST
			tag = JSR
			tag = INC
			tag = TAI
		}
		NOT = { tag = INS }
		DEI = {
			has_capitulated = yes
			is_subject_of = HOL
		}
		has_war_with = HOL
		controls_state = 1020
		controls_state = 1021
		controls_state = 672
		controls_state = 1019
	}

	fire_only_once = yes
	option = {
		name = dei.100.b
			every_enemy_country = {
				limit = {
					is_in_faction_with = HOL
				}
				white_peace_with_ROOT = yes
			}
			annex_country = { target = DEI }
			white_peace = HOL
	}
	option = {
		name = dei.100.a
		add_war_support = 0.075
	}
}

country_event = { #peace out
	id = annex_peace.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event Ostasien.306" }
	title = Ostasien.306.t
	desc = Ostasien.306.d

	trigger = {
		OR = {
			is_chinese_tag = yes
			tag = TAN
			tag = TAI
			tag = JSR
			tag = JST
			tag = INC
		}
		GEA = {
			has_capitulated = yes
			is_subject_of = GER
		}
		has_war_with = GER
		OR = {
			AND = {
			tag = JAP
			336 = { controller = { is_ally_with = ROOT } }
		    }
			AND = {
			NOT = { is_in_faction_with = JAP }
			controls_state = 336
			}
		}
	}

	fire_only_once = yes
	option = {
		name = Ostasien.306.b	
		every_enemy_country = {
			limit = {
				is_in_faction_with = GER
			}
			white_peace_with_ROOT = yes
		}
		annex_country = { target = GEA }
	}
	
	option = {
		name = Ostasien.306.a
		add_war_support = 0.075
	}
}

country_event = { #peace out
	id = annex_peace.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event dei.100" }
	title = "An Attempt At Negotiation?"
	desc = "When the Europeans tried attacking us for removing the consessions, they clearly did not expect us to be strong enought to fight back. With our victory, is it time to force the Europeans to accept the end of their privileges in Asia?"

	trigger = {
		OR = {
			is_chinese_tag = yes
			tag = TAN
			tag = JST
			tag = JSR
			tag = INC
			tag = TAI
			tag = VIN
			tag = SIA
			tag = BRM
			tag = INS
			tag = PHI
			tag = AST
			tag = NZL
			tag = JAP
			tag = INS
		}
		has_war_with = LEC
		NOT = {
		has_global_flag = shanghai_revolution
		}
		LEC = {
			NOT = { has_country_flag = LEC_Triad_Power }
		}
		OR = {
		controls_state = 743
		controls_state = 326
		controls_state = 746
		}
	}

	fire_only_once = yes
	
	option = {
		name = "It Is Time To Seek Peace!"
		country_event = { id = lec.93 days = 30 }
	}
	option = {
		name = "Holy War Against Europe!"
		add_war_support = 0.075
	}

}

country_event = { #peace out
	id = annex_peace.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event dei.100" }
	title = "An Attempt At Negotiation?"
	desc = "When Portugal tried attacking us for removing the consessions, they clearly did not expect us to be strong enought to fight back. With our victory, is it time to force the Portuguese to accept the end of their privileges in Asia?"

	trigger = {
		OR = {
			is_chinese_tag = yes
			tag = TAN
			tag = JST
			tag = JSR
			tag = INC
			tag = TAI
			tag = VIN
			tag = SIA
			tag = BRM
			tag = INS
			tag = PHI
			tag = AST
			tag = NZL
			tag = JAP
			tag = INS
		}
		controls_state = 729
		has_war_with = POR
	}

	fire_only_once = yes
	
	option = {
		name = "It Is Time To Seek Peace!"
		every_enemy_country = {
			limit = {
				is_in_faction_with = POR
			}
			white_peace_with_ROOT = yes
		}
		transfer_state = 729
	}
	option = {
		name = "Holy War Against Portugal!"
		add_war_support = 0.075
	}

}

country_event = { #Taiwan
	id = china_socialistgenerals.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event hnn.1" }
	title = china_socialistgenerals.0.t
	desc = china_socialistgenerals.1.d
	picture = "GFX_report_event_TWI_taiwan_info"

	trigger = {
	OR = {
		is_chinese_tag = yes
		tag = TAN
		}
	NOT = { country_exists = TAI }
	owns_state = 716
	has_country_flag = RD_commies_love_each_other
	}

	fire_only_once = yes

	option = {
		name = china_socialistgenerals.0.a
		add_political_power = -50
		add_stability = -0.08
		hidden_effect = {
		NSW = {
		every_unit_leader = {
			limit = {
			has_trait = TAI_socialist_officer
			}
			set_nationality = ROOT
			}
		}
	}
	}
	option = {
		name = china_socialistgenerals.0.b
		add_stability = 0.05
		add_political_power = 25
		add_war_support = 0.02
	}
}

country_event = { #HNN
	id = china_socialistgenerals.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event hnn.1" }
	title = china_socialistgenerals.0.t
	desc = china_socialistgenerals.2.a
	picture = GFX_report_event_HNN_map

	trigger = {
	OR = {
		is_chinese_tag = yes
		tag = TAN
		tag = TAI
		}
	NOT = { country_exists = HNN }
	owns_state = 602
	owns_state = 1013
	owns_state = 1052
	owns_state = 1049
	has_country_flag = RD_commies_love_each_other
	}

	fire_only_once = yes

	option = {
		name = china_socialistgenerals.0.a
		add_political_power = -50
		add_stability = -0.08
		hidden_effect = {
		NSW = {
		every_unit_leader = {
			limit = {
			has_trait = HNN_socialist_officer
			}
			set_nationality = ROOT
			}
		}
	}
	}
	option = {
		name = china_socialistgenerals.0.b
		add_stability = 0.05
		add_political_power = 25
		add_war_support = 0.02
	}
}




