###########################
# League of Eight Provinces Events
###########################
# By Flamefang, Erag, WordZero
###########################
# Lore groundwork by Flamefang, Mikus, GP93, and others
###########################

add_namespace = lep
add_namespace = lepcollapse
add_namespace = leppeace
add_namespace = lepaog

country_event = { # Sun Chuanfang meets with Governors
	id = lepcollapse.1
	title = lepcollapse.1.t
	desc = lepcollapse.1.d
	picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes # Triggered by history file

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepcollapse.1"
		hidden_effect = {
			country_event = { # The Zhegan Railway
				id = lepcollapse.2
				days = 4
			}
		}
	}

	option = { # Interesting
		name = lepcollapse.1.a
		add_stability = 0.01
		add_political_power = 30
	}
}

country_event = { # The Zhegan Railway
	id = lepcollapse.2
	title = lepcollapse.2.t
	desc = lepcollapse.2.d
	picture = GFX_report_event_FNG_railway_strike

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepcollapse.2"
		hidden_effect = {
			country_event = { # An Unexpected Announcement
				id = lepcollapse.3
				days = 3
			}
		}
	}

	option = { # Railways bring Prospersity!
		name = lepcollapse.2.a
		add_political_power = 20
		add_stability = 0.03
		1044 = { # Gandongbei
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		1067 = { #Jinhua
			add_building_construction = {
				type = infrastructure
				level =1
				instant_build = yes
			}
		}
	}
}

country_event = { # An Unexpected Announcement
	id = lepcollapse.3
	title = lepcollapse.3.t
	desc = lepcollapse.3.d
	picture = GFX_report_event_FNG_railway_construction_1

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepcollapse.3"
		hidden_effect = {

			country_event = { # Unrest Spreads
				id = lepcollapse.4
				days = 2
			}
			QIE = { #QIE reaction
				country_event = {
					id = qielepcollapse.1
					days = 3
				}
			}
			GEA = { #GEA reaction
				country_event = {
					id = Ostasien.207
					days = 1
				}
			}
		}
	}

	option = { # An unpleasant surprise...
		name = lepcollapse.3.a
		add_ideas = LEP_low_level_unrest
	}
}

country_event = { # Unrest Spreads
	id = lepcollapse.4
	title = lepcollapse.4.t
	desc = lepcollapse.4.d
	picture = GFX_report_event_FNG_prisoner

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepcollapse.4"
		hidden_effect = {
			country_event = { # Attacks on Foreigners
				id = lepcollapse.5
				days = 4
			}
			SZC = {
				country_event = { # Unrest in the South
					id = sichuan.5
					days = 4
				}
			}
			SQI = {
				country_event = { # Prepare Shandong
					id = shandong.439
					days = 4
				}
			}
		}
	}

	option = { # Do they have nothing better to do?
		name = lepcollapse.4.a
		add_political_power = -10
		add_stability = -0.01
	}
}

country_event = { # Attacks on Foreigners
	id = lepcollapse.5
	title = lepcollapse.5.t
	desc = lepcollapse.5.d
	picture = GFX_report_event_LEC_shanghai_police_patrol

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepcollapse.5"
		hidden_effect = {
			country_event = { # Boycotts and Beijing
				id = lepcollapse.6
				days = 2
			}
		}
	}

	option = { # Troubling
		name = lepcollapse.5.a
		add_stability = -0.01
		add_manpower = -1500
	}
}

country_event = { # Boycotts and Beijing
	id = lepcollapse.6
	title = lepcollapse.6.t
	desc = lepcollapse.6.d
	picture = GFX_report_event_CHI_protest

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepcollapse.6"
		hidden_effect = {
			country_event = { # Railway Bombings
				id = lepcollapse.7
				days = 2
			}
		}
	}

	option = { #Use maximum force
		name = lepcollapse.6.a
		add_political_power = -50
		add_stability = 0.05
		add_war_support = -0.05
		add_manpower = -2500
		trigger = {
			is_ai = no
		}

	}

	option = { #Punish only the violent
		name = lepcollapse.6.b
		add_political_power = -20
		add_stability = 0.01
		add_war_support = -0.01
		add_manpower = -900
	}
}

country_event = { # Railway Bombings
	id = lepcollapse.7
	title = lepcollapse.7.t
	desc = lepcollapse.7.d
	picture = GFX_report_event_CHI_train_bombing

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepcollapse.7"
		hidden_effect = {
			country_event = { # Reports from North and South
				id = lepcollapse.8
				days = 3
			}
		}
	}

	option = { # Terrorism!
		name = lepcollapse.7.a
		add_stability = -0.01
		add_manpower = -800
		1044 = { # Gandongbei
			damage_building = {
				type = infrastructure
				damage = 0.5
			}
		}
		1067 = { # Jinhua
			damage_building = {
				type = infrastructure
				damage = 0.5
			}
		}
		596 = { # Qiantang
			damage_building = {
				type = infrastructure
				damage = 0.7
			}
		}
	}
}

country_event = { # Reports from North and South
	id = lepcollapse.8
	title = lepcollapse.8.t
	desc = lepcollapse.8.d
	picture = GFX_report_event_CHI_official_announcement

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepcollapse.8"
		hidden_effect = {
			country_event = { # A Telegram from Beijing
				id = lepcollapse.9
				days = 2
			}
		}
	}

	option = { # Temporary Setbacks...
		name = lepcollapse.8.a
		1047 = { #Xuzhou
			damage_building = {
				type = infrastructure
				damage = 0.15
			}
		}
		595 = { #Jiantang
			damage_building = {
				type = industrial_complex
				damage = 0.45
			}
			damage_building = {
				type = infrastructure
				damage = 0.15
			}
		}
		swap_ideas = {
			remove_idea = LEP_Low_Level_Unrest
			add_idea = LEP_Spreading_Unrest
		}
		add_ideas = LEP_Crippled_Industry3
	}
}

country_event = { # A Telegram from Beijing
	id = lepcollapse.9
	title = lepcollapse.9.t
	desc = lepcollapse.9.d
	picture = GFX_report_event_CHI_warlord_observer

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepcollapse.9"
		hidden_effect = {
			country_event = { # The Wuhu Incident
				id = lepcollapse.10
				days = 2
			}
		}
	}

	option = { #Everything is under control
		name = lepcollapse.9.a
	}
}

country_event = { # The Wuhu Incident
	id = lepcollapse.10
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepcollapse.10" }
	title = lepcollapse.10.t
	desc = lepcollapse.10.d
	picture = GFX_report_event_CHI_riot

	is_triggered_only = yes

	option = { #Could things get any worse?
		name = lepcollapse.10.a
		custom_effect_tooltip = LEP_wuhu_incident
		hidden_effect = {
			1014 = { #Wuhu
				remove_building = {
					type = industrial_complex
					level = 1
				}
				damage_building = {
					type = industrial_complex
					damage = 0.15
				}
			}
		}
		add_political_power = -30
		add_stability = -0.03
		hidden_effect = {
			country_event = { # Anqing Refuses Further Cooperation
				id = lepcollapse.11
				days = 2
			}
			QIE = {
				country_event = { #QIE informed of ANQ breakaway
					id = qielepcollapse.3
					days = 1
				}
			}
		}
	}
}

country_event = { # Anqing Refuses Further Cooperation
	id = lepcollapse.11
	title = lepcollapse.11.t
	desc = lepcollapse.11.d
	picture = GFX_report_event_ANQ_chen_tiaoyuan

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepcollapse.11"
		hidden_effect = {
			set_global_flag = TEMPORARY_DISABLED_FACTION_POPUP
			set_global_flag = ANQ_spawned
			random_unit_leader = {
				limit = {
					has_id = 1110 # Chen Tiaoyuan
				}
				set_nationality = ANQ
				promote_leader = yes
			}
			LEP = {
				if = {
					limit = { has_template = "Anhui Qibing Xie" }
					delete_unit_template_and_units = { division_template = "Anhui Qibing Xie" }
				}
				if = {
					limit = { has_template = "Anhui Bubing Xie" }
					delete_unit_template_and_units = { division_template = "Anhui Bubing Xie" }
				}
				if = {
					limit = { has_template = "Anhui Bubing Zhen" }
					delete_unit_template_and_units = { division_template = "Anhui Bubing Zhen" }
				}
				remove_state_core = 606 # Anqing
				remove_state_core = 1014 # Wuhu
				remove_state_core = 1050 # Huasi
				add_state_claim = 606
				add_state_claim = 1014
				add_state_claim = 1050
				set_party_name = {
					ideology = authoritarian_democrat
					long_name = LEP_paternal_autocrat_party_long
					name = LEP_paternal_autocrat_party
				}
				create_country_leader = {
					name = "Qi Xieyuan"
					desc = "POLITICS_LEP_QI_XIEYUAN_DESC"
					picture = "Portrait_LEP_Qi_Xieyuan.png"
					expire = "1965.1.1"
					ideology = authoritarian_democrat_subtype
				}
			}
			ANQ = {
				transfer_state = 606
				transfer_state = 1014
				transfer_state = 1050
				add_state_core = 606  # Anqing
				add_state_core = 1014 # Wuhu
				add_state_core = 1050 # Huasi
				set_cosmetic_tag = ANH
				set_division_template_lock = {
					division_template = "Minbing"
					is_locked = no
				}
				purge_LEP_templates = yes
				load_oob = ANQ
				set_division_template_lock = {
					division_template = "Minbing"
					is_locked = yes
				}
				country_event = {
					id = anq.1
					hours = 5
				}
			}
			QIE = {
				country_event = {
					id = qielepcollapse.4
					hours = 12
				}
				add_to_faction = ANQ
			}
			FNG = {
				country_event = {
					id = fengtian.114
					hours = 12
				}
			}
			every_state = {
				limit = {
					is_claim_or_core_of_ROOT = yes
					NOT = { is_claimed_by = ANQ }
					NOT = { is_core_of = ANQ }
				}
				add_claim_by = ANQ
			}
		}
	}

	option = { #We must bide our time
		ai_chance = {
			factor = 100
		}
		name = lepcollapse.11.a
		add_political_power = -30
		add_stability = -0.03
		ANQ = {
			set_country_flag = choice_made
		}
	}

	option = { #Let us join Governor Chen!
		trigger = {
			is_ai = no
		}
		name = lepcollapse.11.b
		custom_effect_tooltip = LEP_take_anhui_tt
		hidden_effect = {
			add_political_power = -30
			add_stability = -0.03
			ANQ = {
				set_country_flag = choice_made
				change_tag_from = LEP
			}
		}
	}
}

country_event = { # Black Monday Reaches the East
	id = lepcollapse.12
	title = lepcollapse.12.t
	desc = lepcollapse.12.d
	picture = GFX_report_event_LEC_shanghai_river

	is_triggered_only = yes # Triggered by black monday file

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepcollapse.12"
		hidden_effect = {
			country_event = { # Dissension in the Ranks
				id = lepcollapse.13
				days = 5
			}

			#putting this here to prevent lepcollapse11 to lag so much
			set_popularities = {
				totalist = 0
				radical_socialist = 0
				syndicalist = 0
				social_democrat = 0
				social_liberal = 7
				market_liberal = 24
				social_conservative = 10
				authoritarian_democrat = 10
				paternal_autocrat = 49
				national_populist = 0
			}
		}
	}

	option = { #How will we pay the troops?
		name = lepcollapse.12.a
		swap_ideas = {
			remove_idea = LEP_Crippled_Industry3
			add_idea = LEP_Crippled_Industry2
		}
	}
}

country_event = { # Dissension in the Ranks
	id = lepcollapse.13
	title = lepcollapse.13.t
	desc = lepcollapse.13.d
	picture = GFX_report_event_FNG_protest

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepcollapse.13"
		hidden_effect = {
			country_event = { # A Heinous Crime
				id = lepcollapse.14
				days = 3
			}
		}
	}

	option = { #Rebellion will be punished!
		name = lepcollapse.13.a
		custom_effect_tooltip = LEP_dissension_zhejiang
		custom_effect_tooltip = LEP_dissension_jiangxi
		custom_effect_tooltip = LEP_dissension_fujian
		hidden_effect = {
			if = {
				limit = { has_template = "Jiangxi Bubing Xie" }
				delete_unit_template_and_units = { division_template = "Jiangxi Bubing Xie" }
			}
			if = {
				limit = { has_template = "Fujian Bubing Xie" }
				delete_unit_template_and_units = { division_template = "Fujian Bubing Xie" }
			}
			if = {
				limit = { has_template = "Zhejiang Bubing Xie" }
				delete_unit_template_and_units = { division_template = "Zhejiang Bubing Xie" }
			}
		}
	}
}

country_event = { # A Heinous Crime
	id = lepcollapse.14
	title = lepcollapse.14.t
	desc = lepcollapse.14.d
	picture = GFX_report_event_CHI_official_announcement

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepcollapse.14"
		hidden_effect = {
			country_event = { # Spreading Insubordination
				id = lepcollapse.15
				days = 2
			}
			SZC = {
				country_event = { # Sun Chuanfang Shot!
					id = sichuan.6
					days = 3
				}
			}
			SQI = {
				country_event = { # Prepare Shandong
					id = shandong.440
					days = 4
				}
			}
			random_unit_leader = {
				limit = {
					has_id = 1099 # Sun Chuanfang
				}
				retire = yes
			}
			QIE = { #event about it happening, will trigger further qi going to wu for help
				country_event = {
					id = qielepcollapse.5
					days = 1
				}
			}
			country_event = {
				id = lep.5
				days = 45
			}
		}
	}

	option = { #Who could be responsible?
		name = lepcollapse.14.a
		add_political_power = -30
		add_stability = -0.03
		add_war_support = -0.03
	}
}

country_event = { # Spreading Insubordination
	id = lepcollapse.15
	title = lepcollapse.15.t
	desc = lepcollapse.15.d
	picture = GFX_report_event_CHI_militia

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepcollapse.15"
		hidden_effect = {
			country_event = { # Riots reach the Marshal's Palace
				id = lepcollapse.16
				days = 2
			}
			QIE = {
				country_event = {
					id = qielepcollapse.6 #navy flees nanjing due to riots
					hours = 10
				}
			}
			#every_unit_leader = {
			#	limit = {
			#		has_id = 1114 # Jiangxi/Deng Ruzhou
			#	}
			#	set_nationality = KOR
			#}
			#delete_unit_template_and_units = {
			#	division_template = "Jiangxi Bubing Zhen"
			#}
			if = {
				limit = { has_template = "Jiangsu Bubing Xie" }
				delete_unit_template_and_units = { division_template = "Jiangsu Bubing Xie" }
			}
			custom_effect_tooltip = LEP_dissension_jiangsu
		}
	}

	option = { # Marshal Sun must wake soon...
		name = lepcollapse.15.a
		#custom_effect_tooltip = LEP_lost_contact_jiangxi
		#custom_effect_tooltip = LEP_deng_disappears
		add_political_power = -50
		add_war_support = -0.03
	}
}

country_event = { # Riots reach the Marshal's Palace
	id = lepcollapse.16
	title = lepcollapse.16.t
	desc = lepcollapse.16.d
	picture = GFX_report_event_CHI_riot_police

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepcollapse.16"
		hidden_effect = {
			every_country = {
				limit = {
					OR = {
						tag = LEP
						tag = YUN
						tag = SHX
						tag = XSM
						tag = SZC
						tag = LEC
						tag = GEA
						tag = QIE
						tag = ANQ
						tag = FNG
						tag = JAP
						tag = TRM
						tag = SQI
						tag = SIK
						tag = TAN
						tag = TIB
						tag = MON
						tag = SZC
					}
				}
				news_event = { # The Illusion Shatters
					id = lepcollapse.17
					days = 1
				}
			}
			YUN = { country_event = { id = yun.54 days = 12 } }
			remove_ideas = LEP_Conspicuous_Kleptocracy
		}
	}

	option = { # What are we to do?
		name = lepcollapse.16.a
		custom_effect_tooltip = LEP_nanjing_defection
		add_political_power = -20
		hidden_effect = {
			if = {
				limit = { has_template = "Nanjing Bubing Zhen" }
				delete_unit_template_and_units = { division_template = "Nanjing Bubing Zhen" }
			}
			if = {
				limit = { has_template = "Nanjing Paobing Zhen" }
				delete_unit_template_and_units = { division_template = "Nanjing Paobing Zhen" }
			}
			#delete_unit_template_and_units = {
			#	division_template = "Zhejiang Bubing Zhen"
			#}
			#delete_unit_template_and_units = {
			#	division_template = "Jiangsu Bubing Zhen"
			#}
			#delete_unit_template_and_units = {
			#	division_template = "Jiangsu Bubing Xie"
			#}
		}
		swap_ideas = {
			remove_idea = LEP_Spreading_Unrest
			add_idea = LEP_anti-concessions_movement
		}
		swap_ideas = {
			remove_idea = LEP_Crippled_Industry2
			add_idea = LEP_Crippled_Industry1
		}
		#custom_effect_tooltip = LEP_lost_contact_governors
		#custom_effect_tooltip = LEP_zhou_disappears
		#custom_effect_tooltip = LEP_chen_disappears
		#custom_effect_tooltip = LEP_zheng_disappears
	}
}

news_event = {# The Illusion Shatters
	id = lepcollapse.17
	title = lepcollapse.17.t
	desc = {
		text = lepcollapse.17.d
		trigger = {
			tag = LEP
			tag = YUN
			tag = SHX
			tag = XSM
			tag = SZC
			tag = LEC
			tag = GEA
		}
	}
	desc = {
		text = lepcollapse.17.d_qie
		trigger = {
			tag = QIE
		}
	}
	desc = {
		text = lepcollapse.17.d_anq
		trigger = {
			tag = ANQ
		}
	}
	desc = {
		text = lepcollapse.17.d_fng
		trigger = {
			tag = FNG
		}
	}
	desc = {
		text = lepcollapse.17.d_jap
		trigger = {
			OR = {
				tag = JAP
				tag = TRM
			}
		}
	}
	desc = {
		text = lepcollapse.17.d_sqi
		trigger = {
			tag = SQI
		}
	}
	desc = {
		text = lepcollapse.17.d_sik
		trigger = {
			OR = {
				tag = SIK
				tag = TAN
			}
		}
	}
	desc = {
		text = lepcollapse.17.d_tib
		trigger = {
			tag = TIB
		}
	}
	desc = {
		text = lepcollapse.17.d_mon
		trigger = {
			tag = MON
		}
	}
	desc = {
		text = lepcollapse.17.d_szc
		trigger = {
			tag = SZC
		}
	}
	picture = GFX_news_event_QIE_illusion_shatters

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepcollapse.17"
		hidden_effect = {
			if = {
				limit = {
					tag = QIE
				}
				dismantle_faction = yes
			}
			if = {
				limit = {
					tag = LEP
				}
				set_global_flag = LEP_collapse
				set_country_flag = LEP_collapsed
				country_event = {
					id = lepcollapse.18
					days = 2
				}
			}
			if = {
				limit = {
					tag = SZC
				}
				country_event = {
					id = sichuan.7
					days = 10
				}
			}
			if = {
				limit = {
					tag = SHX
				}
				country_event = {
					id = shx.7
					days = 5
				}
			}
		}
	}

	option = { #Terrible news
		name = lepcollapse.17.a
		trigger = {
			OR = {
				tag = QIE
				tag = LEP
				tag = XSM
				tag = SZC
				tag = LEC
				tag = GEA
			}
		}
		hidden_effect = {
			if = {
				limit = {
					tag = XSM
				}
				country_event = {
					id = mac.5
					days = 2
				}
			}
		}
	}

	option = { #Wonderful news
		name = lepcollapse.17.b
		trigger = {
			OR = {
				tag = FNG
				tag = JAP
			}
		}
	}

	option = { #Interesting
		name = lepcollapse.17.c
		trigger = {
			OR = {
				tag = ANQ
				tag = SQI
				tag = SHX
				tag = SIK
				tag = TAN
				tag = TIB
				tag = YUN
				tag = MON
				tag = TRM
			}
		}
	}
}

country_event = { #Uprisings in Fujian
	id = lepcollapse.18
	title = lepcollapse.18.t
	desc = lepcollapse.18.d
	picture = GFX_report_event_CHI_warlord_battle

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepcollapse.18"
		hidden_effect = {
			595 = { # Jianan
				damage_building = {
					type = infrastructure
					damage = 0.5
				}
			}
			if = {
				limit = { has_template = "Fujian Bubing Zhen" }
				delete_unit_template_and_units = { division_template = "Fujian Bubing Zhen" }
			}
			load_oob = "LEP_collapse_fujian"
			custom_effect_tooltip = LEP_fujian_mobilisation
			country_event = { # General Qi Assumes Control
				id = lepcollapse.19
				hours = 19
			}

			hidden_effect = {
				1046 = {
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = 1006
					}
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 4053
					}
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 10010
					}
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 12084
					}
				}
				} # JiangFu Base Zone Fortifications
			QIE = {
				country_event = {
					id = qiefor.103
					hours = 1
				}
			}
			CHI = {
				add_state_core = 1046
				transfer_state = 1046
				set_capital = 1046

				add_state_core = 595
				set_state_owner = 595

				add_state_core = 600
				add_state_core = 1066

				set_cosmetic_tag = CHI_rebel
				load_oob = CHI_LEP_collapse
				purge_LEP_templates = yes
			}
		}
	}

	option = { # Syndicalist scum!
		name = lepcollapse.18.a
		ai_chance = {
			factor = 100
		}
		declare_war_on = {
			target = CHI
			type = annex_everything
		}
		hidden_effect = {
			CHI = {
				set_country_flag = choice_made
				activate_mission = CHI_mission_get_access_sea
				activate_mission = CHI_mission_secure_fujian
				activate_mission = CHI_mission_secure_gannan
				country_event = { id = chi_dom.1 days = 20 random = 10 }
				set_province_controller = 12057
				set_province_controller = 1193
				set_province_controller = 1138
				set_province_controller = 10084
				set_province_controller = 12030
				set_province_controller = 10112
				set_province_controller = 4081
			}
			add_ideas = LEP_war_surrender_limit_idea
		}
	}

	option = {
		name = lepcollapse.18.b
		custom_effect_tooltip = LEP_kuomintang_attack_tt
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			CHI = {
				set_country_flag = choice_made
				activate_mission = CHI_mission_get_access_sea
				activate_mission = CHI_mission_secure_fujian
				activate_mission = CHI_mission_secure_gannan
				country_event = { id = chi_dom.1 days = 20 random = 10 }
				set_province_controller = 12057
				set_province_controller = 1193
				set_province_controller = 1138
				set_province_controller = 10084
				set_province_controller = 12030
				set_province_controller = 10112
				set_province_controller = 4081
				change_tag_from = LEP
			}
			LEP = {
				declare_war_on = {
					target = CHI
					type = annex_everything
				}
				add_ideas = LEP_war_surrender_limit_idea
			}
		}
	}
}

country_event = { # General Qi Assumes Control
	id = lepcollapse.19
	title = lepcollapse.19.t
	desc = lepcollapse.19.d
	picture = GFX_report_event_CHI_new_government

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepcollapse.19"
		hidden_effect = {
			load_oob = "LEP_collapse_nanjing"
		}
	}

	option = { #A coup in all but name?
		name = lepcollapse.19.a
		custom_effect_tooltip = LEP_qi_marshal
		hidden_effect = {
			load_oob = "LEP_collapse_LY"
		}
		custom_effect_tooltip = LEP_qi_reinforcements
		add_stability = 0.1
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 200
			producer = LEP
		}
		hidden_effect = {
			country_event = worldtension.26
			retire_country_leader = yes #Sun Chuanfang
			create_country_leader = {
				name = "Qi Xieyuan"
				desc = "POLITICS_LEP_QI_XIEYUAN_DESC"
				picture = "Portrait_LEP_Qi_Xieyuan.png"
				expire = "1965.1.1"
				ideology = paternal_autocrat_subtype
			}
			set_country_flag = LEP_qi_takes_control
			add_ideas = LEP_Tian_Wenbing_hog_pau
			random_unit_leader = {
				limit = {
					has_id = 1111 # Qi Xieyuan
				}
				promote_leader = yes
			}
		}
		swap_ideas = {
			remove_idea = LEP_Crippled_Industry1
			add_idea = LEP_Crippled_Industry
		}
		add_ideas = LEP_Questionable_Authority
		hidden_effect = {
			country_event = {
				id = lepaog.58
				days = 5
			}
			GEA = {
				country_event = {
					id = lep.112
					hours = 12
				}
			}
			QIE = {
				if = {
					limit = {
						has_country_flag = QIE_wu_backs_chen
					}
					country_event = {
						id = qielepcollapse.13
						days = 1
					}
				}
				else_if = {
					limit = {
						has_country_flag = QIE_wu_backs_qi
					}
					country_event = {
						id = qielepcollapse.14
						days = 1
					}
				}
				#else_if = {
				#	limit = {
				#		has_country_flag = wu_goes_to_chen_second_time
				#	}
				#	country_event = {
				#		id = qielepcollapse.15
				#		days = 1
				#	}
				#}
				else_if = {
					limit = {
						ANQ = {
							NOT = { has_country_flag = ANQ_japanese_initial_support }
						}
					}
					ANQ = {
						country_event = {
							id = anq.10
							days = 1
						}
					}
				}
				else = {}
			}
			country_event = { id = lep.17 days = 3 }
		}
	}
}

country_event = { #Chen Tiaoyuan Declares War, triggered by anqing.9/10
	id = lepcollapse.20
	title = lepcollapse.20.t
	desc = lepcollapse.20.d
	picture = GFX_report_event_FNG_troops

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepcollapse.20"
		hidden_effect = {
			country_event = {
				id = lepcollapse.21
				days = 3
			}
			set_cosmetic_tag = LEP_NAN

			set_global_flag = LEP_war
		}
	}

	option = {
		name = lepcollapse.20.a
		swap_ideas = {
			remove_idea = LEP_Anti-Concessions_Movement
			add_idea = LEP_Rampant_Disorder
		}
	}
}

country_event = { #Liangguang Secedes!
	id = lepcollapse.21
	title = lepcollapse.21.t
	desc = lepcollapse.21.d
	picture = GFX_report_event_LEC_hong_kong_harbour

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepcollapse.21"
		hidden_effect = {
			add_offsite_building = {
				type = arms_factory
				level = -2
			}

			add_offsite_building = {
				type = industrial_complex
				level = -4
			}
			if = {
				limit = { has_template = "Polizeitruppe Liangguang" }
				delete_unit_template_and_units = { division_template = "Polizeitruppe Liangguang" }
			}

			country_event = {
				id = lepcollapse.22
				days = 1
			}
			QIE = {
				country_event = {
					id = qiefor.109
					hours = 1
				}
			}
			GXC = {
				transfer_state = 592 #Guangzhou
				transfer_state = 1012 #Chaoshan
				transfer_state = 593 #Yuehai
				transfer_state = 800 #Shaoguan
				transfer_state = 599 #Guilin
				transfer_state = 594 #Nanning
				transfer_state = 1056 #Qinlian
				transfer_state = 591 #Qiongya
				transfer_state = 1053 #Zhennan
				transfer_state = 1054 #Tiannan
				transfer_state = 1055 #Liujiang
				if = {
					limit = { has_template = "Bubing Zhen" }
					delete_unit_template_and_units = { division_template = "Bubing Zhen" }
				}
				load_oob = GXC
				purge_LEP_templates = yes
				country_event = {
					id = lng.1
					days = 1
				}
			}
		}
	}

	option = {
		name = lepcollapse.21.a
		ai_chance = {
			factor = 100
		}
		GXC = {
			set_country_flag = choice_made
		}
	}
	option = {
		name = lepcollapse.21.b
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			GXC = {
				set_country_flag = choice_made
				change_tag_from = LEP
			}
		}
	}
}

country_event = { #Hunan Secedes
	id = lepcollapse.22
	title = lepcollapse.22.t
	desc = lepcollapse.22.d
	picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepcollapse.22"
		hidden_effect = {
			add_offsite_building = {
				type = arms_factory
				level = -1
			}

			add_offsite_building = {
				type = industrial_complex
				level = -2
			}

			country_event = {
				id = lepcollapse.23
				days = 2
			}
			HNN = {
				transfer_state = 602 #Xiangjiang
				transfer_state = 1013 #Chenyuan
				transfer_state = 1049 #Shihe-WIP
				transfer_state = 1052 #Zhenyuan-WIP
				load_oob = HNN_Collapse
				purge_LEP_templates = yes
				country_event = {
					id = lng.6
					days = 1
				}
			}
			GXC = {
				country_event = {
					id = lng.5
					days = 1
				}
			}
			QIE = {
				country_event = {
					id = qiefor.104
					days = 2
				}
			}
			1049 = {
				remove_claim_by = LEP
				remove_claim_by = ANQ
			}
			1052 = {
				remove_claim_by = LEP
				remove_claim_by = ANQ
			}
		}
	}

	option = {
		name = lepcollapse.22.a
		ai_chance = {
			factor = 100
		}
		HNN = {
			set_country_flag = choice_made
		}
	}

	option = {
		name = lepcollapse.22.b
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			HNN = {
				change_tag_from = LEP
				set_country_flag = choice_made
			}
		}
	}
}

country_event = { #Sun Chuanfang Dies
	id = lepcollapse.23
	title = lepcollapse.23.t
	desc = lepcollapse.23.d
	picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepcollapse.23"
		hidden_effect = {
			#country_event = { #ANQ/QIE/GEA/OTHER Version
			#	id =
			#}
		}
	}

	option = {
		name = lepcollapse.23.a
	}
}

country_event = { #General Shangguan Rises is Zhejiang/General Chen Rises in Zhejiang!
	id = lepcollapse.24
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepcollapse.24" }

	title = {
		text = lepcollapse.24.t_1
		trigger = {
			ANQ = { NOT = { has_country_flag = ANQ_is_profengtian } }
		}
	}
	desc = {
		text = lepcollapse.24.d_1
		trigger = {
			ANQ = { NOT = { has_country_flag = ANQ_is_profengtian } }
		}
	}

	title = {
		text = lepcollapse.24.t_2
		trigger = {
			ANQ = { has_country_flag = ANQ_is_profengtian }
		}
	}
	desc = {
		text = lepcollapse.24.d_2
		trigger = {
			ANQ = { has_country_flag = ANQ_is_profengtian }
		}
	}

	picture = GFX_report_event_FNG_several_prisoners

	is_triggered_only = yes

	option = {
		name = lepcollapse.24.a
		if = {
			limit = {
				ANQ = { has_country_flag = ANQ_is_profengtian }
			}
			random_unit_leader = {
				limit = {
					has_id = 1112 # Chen Yi
				}
				set_nationality = ANQ
			}
			set_country_flag = LEP_chen_yi_gone
		}
		else = {
			random_unit_leader = {
				limit = {
					has_id = 1505 # Shangguang Yunxiang
				}
				set_nationality = ANQ
			}
			set_country_flag = LEP_shangguang_yunxiang_gone
		}
	}
}

country_event = { #barebones peace event with ANQ
	id = lepcollapse.25
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepcollapse.25" }
	title = lepcollapse.25.t
	desc = lepcollapse.25.d

	fire_only_once = yes

	trigger = {
		tag = LEP
		has_global_flag = LEP_war
		QIE = {
			has_country_flag = wu_intervenes_proLEP
		}
		ANQ = {
			exists = no
		}
		has_war = no
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = lepcollapse.25.a #yay we win!
		hidden_effect = {
			QIE = { country_event = { id = qielepcollapse.23 } }
		}
		add_political_power = 100
	}
}

#country_event = { #weaken KMT 1
#	id = lepcollapse.26
#	title = lepcollapse.26.t
#	desc = lepcollapse.26.d
#
#	fire_only_once = yes
#
#	trigger = {
#		tag = CHI
#	}
#
#	is_triggered_only = yes
#
#	option = {
#		name = lepcollapse.26.a
#	}
#}

#country_event = { #weaken KMT very much
#	id = lepcollapse.27
#	title = lepcollapse.27.t
#	desc = lepcollapse.27.d
#
#	fire_only_once = yes
#
#	trigger = {
#		tag = CHI
#	}
#
#	is_triggered_only = yes
#
#	option = {
#		name = lepcollapse.27.a
#	}
#}


#LEP Collapse Decision/Mission Events

country_event = { #Jiangxi Governor/Deng Ruzhou is rescued
	id = lepcollapse.101
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepcollapse.101" }
	title = lepcollapse.101.t
	desc = lepcollapse.101.d

	picture = GFX_report_event_CHI_warlords

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = lepcollapse.101.a
		add_political_power = 25
	}
}

country_event = { #Jiangxi Governor/Deng Ruzhou Escapes
	id = lepcollapse.102
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepcollapse.102" }
	title = lepcollapse.102.t
	desc = lepcollapse.102.d

	picture = GFX_report_event_CHI_warlords

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = lepcollapse.102.a
		add_political_power = 25
	}
}

country_event = { #Jiangsu Governor/Zheng Junyuan is rescued
	id = lepcollapse.103
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepcollapse.103" }
	title = lepcollapse.103.t
	desc = lepcollapse.103.d

	picture = GFX_report_event_CHI_warlords

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = lepcollapse.103.a
		add_political_power = 25
	}
}

country_event = { #Jiangsu Governor/Zheng Junyuan Escapes
	id = lepcollapse.104
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepcollapse.104" }
	title = lepcollapse.104.t
	desc = lepcollapse.104.d

	picture = GFX_report_event_CHI_warlords

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = lepcollapse.104.a
		add_political_power = 25
	}
}

country_event = { #Zhejiang Governor/Chen Yi is rescued
	id = lepcollapse.105
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepcollapse.105" }
	title = lepcollapse.105.t
	desc = lepcollapse.105.d

	picture = GFX_report_event_CHI_warlords

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = lepcollapse.105.a
		add_political_power = 25
	}
}

country_event = { #Zhejiang Governor/Chen Yi Escapes
	id = lepcollapse.106
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepcollapse.106" }
	title = lepcollapse.106.t
	desc = lepcollapse.106.d

	picture = GFX_report_event_CHI_warlords

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = lepcollapse.106.a
		add_political_power = 25
	}
}

country_event = { #Zhejiang Governor/Shangguan Yunxiang is rescued
	id = lepcollapse.107
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepcollapse.107" }
	title = lepcollapse.107.t
	desc = lepcollapse.107.d

	picture = GFX_report_event_CHI_warlords

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = lepcollapse.107.a
		add_political_power = 25
	}
}

country_event = { #Zhejiang Governor/Shangguan Yunxiang Escapes
	id = lepcollapse.108
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepcollapse.108" }
	title = lepcollapse.108.t
	desc = lepcollapse.108.d

	picture = GFX_report_event_CHI_warlords

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = lepcollapse.108.a
		add_political_power = 25
	}
}

country_event = { #Jiangxi Governor/Deng Ruzhou dies
	id = lepcollapse.109
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepcollapse.109" }
	title = lepcollapse.109.t
	desc = lepcollapse.109.d

	picture = GFX_report_event_CHI_warlords

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = lepcollapse.109.a
		set_country_flag = LEP_deng_ruzhou_dies
	}
}

country_event = { #Jiangsu Governor/Zheng Junyuan dies
	id = lepcollapse.110
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepcollapse.110" }
	title = lepcollapse.110.t
	desc = lepcollapse.110.d

	picture = GFX_report_event_CHI_warlords

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = lepcollapse.110.a
	}
}

country_event = { #Zhejiang Governor/Chen Yi dies
	id = lepcollapse.111
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepcollapse.111" }
	title = lepcollapse.111.t
	desc = lepcollapse.111.d

	picture = GFX_report_event_CHI_warlords

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = lepcollapse.111.a
		set_country_flag = LEP_chen_yi_dies
	}
}

country_event = { #Zhejiang Governor/Shangguan Yunxiang dies
	id = lepcollapse.112
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepcollapse.112" }
	title = lepcollapse.112.t
	desc = lepcollapse.112.d

	picture = GFX_report_event_CHI_warlords

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = lepcollapse.112.a
		set_country_flag = LEP_shangguan_yunxiang_dies
	}
}

######################################### Intro events

country_event = { # Introduction: Tension on the Yangtze
	id = lep.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.1" }
	title = lep.1.t
	desc = lep.1.d

	picture = GFX_report_event_CHI_warlords

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		is_ai = no
	}

	option = { # Qing
		name = lep.1.a
		country_event = { id = lep.2 }
	}

	option = { # German
		name = lep.1.b
		country_event = { id = lep.3 }
	}

	option = { # Insurrectionists
		name = lep.1.c
		country_event = { id = lep.4 }
	}

	option = { # No brief
		name = lep.1.e
	}
}

country_event = { # Briefing Event 1: The Qing
	id = lep.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.2" }
	title = lep.2.t
	desc = lep.2.d

	picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes

	trigger = {
		is_ai = no
	}

	option = { # German
		name = lep.2.a
		country_event = { id = lep.3 }
	}

	option = { # Insurrectionists
		name = lep.2.b
		country_event = { id = lep.4 }
	}

	option = { # No brief
		name = lep.2.c
	}
}

country_event = { # Briefing Event 2: Germans
	id = lep.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.3" }
	title = lep.3.t
	desc = lep.3.d

	picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes

	trigger = {
		is_ai = no
	}

	option = { # Qing
		name = lep.3.a
		country_event = { id = lep.2 }
	}

	option = { # Insurrectionists
		name = lep.3.b
		country_event = { id = lep.4 }
	}

	option = { # No brief
		name = lep.3.c
	}
}

country_event = { # Briefing Event 3: Insurrectionists
	id = lep.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.4" }
	title = lep.4.t
	desc = lep.4.d

	picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes

	trigger = {
		is_ai = no
	}

	option = { # Qing
		name = lep.4.a
		country_event = { id = lep.2 }
	}

	option = { # Germans
		name = lep.4.b
		country_event = { id = lep.3 }
	}

	option = { # No brief
		name = lep.4.c
	}
}

##################################################################### Sun Investigation

country_event = { # Start the Sun investigation: who will lead it?
	id = lep.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.5" }
	title = lep.5.t
	desc = lep.5.d
	picture = GFX_report_event_CHI_official_announcement

	fire_only_once = yes

	is_triggered_only = yes

	option = { # Close friend of Qi
		name = lep.5.a
		set_country_flag = LEP_sun_investigation_qi_loyalist_investigator
		country_event = { id = lep.6 days = 2 }
	}

	option = { # Close friend of Sun
		name = lep.5.b
		set_country_flag = LEP_sun_investigation_sun_loyalist_investigator
		country_event = { id = lep.6 days = 2 }
	}

	option = { # A German Inspector
		name = lep.5.c
		set_country_flag = LEP_sun_investigation_german_investigator
		country_event = { id = lep.6 days = 2 }
	}

	option = { # Northen Zhili
		name = lep.5.e
		set_country_flag = LEP_sun_investigation_northen_zhili_investigator
		country_event = { id = lep.6 days = 2 }
	}
}

country_event = { # A sense of direction
	id = lep.6
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.6" }
	title = lep.6.t
	desc = lep.6.d

	fire_only_once = yes

	is_triggered_only = yes

	#immediate = {
	#	hidden_effect = {
	#		if = {
	#			limit = {
	#				NOT = {
	#					has_country_flag = LEP_sun_investigation_german_investigator
	#				}
	#			}
	#			country_event = { id = lepaog.3 days = 15 }
	#		}
	#	}
	#}

	option = { # Yiguandao
		name = lep.6.a
		set_country_flag = LEP_sun_investigation_direction_yiguandao
		country_event = { id = lep.7 days = 30 }
	}

	option = { # Kuomintang
		name = lep.6.b
		set_country_flag = LEP_sun_investigation_direction_kuomintang
		country_event = { id = lep.7 days = 30 }
	}

	option = { # Nanjing man
		name = lep.6.c
		set_country_flag = LEP_sun_investigation_direction_nanjing_man
		country_event = { id = lep.7 days = 30 }
	}

	option = { # Chen man
		name = lep.6.e
		set_country_flag = LEP_sun_investigation_direction_chen_man
		country_event = { id = lep.7 days = 30 }
	}

	option = { # Woman wanted revenge
		name = lep.6.f
		set_country_flag = LEP_sun_investigation_direction_woman_wanted_revenge
		country_event = { id = lep.7 days = 30 }
	}
}

country_event = { # The report is almost finished
	id = lep.7
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.7" }
	title = lep.7.t
	desc = lep.7.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { # lets see the findings
		name = lep.7.a
		hidden_effect = {
			if = { # Qi investigator
				limit = {
					has_country_flag = LEP_sun_investigation_qi_loyalist_investigator
				}
				if = {
					limit = {
						has_country_flag = LEP_sun_investigation_direction_yiguandao
					}
					country_event = { id = lep.8 days = 3 }
				}
				if = {
					limit = {
						has_country_flag = LEP_sun_investigation_direction_kuomintang
					}
					country_event = { id = lep.9 days = 3 }
				}
				if = {
					limit = {
						has_country_flag = LEP_sun_investigation_direction_nanjing_man
					}
					country_event = { id = lep.10 days = 3 }
				}
				if = {
					limit = {
						has_country_flag = LEP_sun_investigation_direction_chen_man
					}
					country_event = { id = lep.11 days = 3 }
				}
				if = {
					limit = {
						has_country_flag = LEP_sun_investigation_direction_woman_wanted_revenge
					}
					country_event = { id = lep.12 days = 3 }
				}
			}
			if = { # Sun investigator
				limit = {
					has_country_flag = LEP_sun_investigation_sun_loyalist_investigator
				}
				random_list = {
					50 = { # Qi
						country_event = { id = lep.14 days = 3 }
					}
					10 = { # Germans
						country_event = { id = lep.13 days = 3 }
					}
					10 = { # Yiguandao
						country_event = { id = lep.8 days = 3 }
					}
					10 = { # Kuomintang
						country_event = { id = lep.9 days = 3 }
					}
					10 = { # Chen
						country_event = { id = lep.11 days = 3 }
					}
					10 = { # Woman revenge
						country_event = { id = lep.12 days = 3 }
					}
				}
			}
			if = { # German investigator
				limit = {
					has_country_flag = LEP_sun_investigation_german_investigator
				}
				random_list = {
					25 = { # Yiguandao
						country_event = { id = lep.8 days = 3 }
					}
					25 = { # Kuomintang
						country_event = { id = lep.9 days = 3 }
					}
					25 = { # Sun associate
						country_event = { id = lep.10 days = 3 }
					}
					25 = { # Woman getting revenge
						country_event = { id = lep.12 days = 3 }
					}
				}
			}
			if = { # North Zhili investigator
				limit = {
					has_country_flag = LEP_sun_investigation_northen_zhili_investigator
				}
				random_list = {
					15 = { # Qi
						country_event = { id = lep.14 days = 3 }
					}
					15 = { # Sun associate
						country_event = { id = lep.10 days = 3 }
					}
					15 = { # Kuomintang
						country_event = { id = lep.9 days = 3 }
					}
					15 = { # Yiguandao
						country_event = { id = lep.8 days = 3 }
					}
					40 = { # Germans
						country_event = { id = lep.13 days = 3 }
					}
				}
			}
		}
	}
}

country_event = { # Yiguandao guilty
	id = lep.8
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.8" }
	title = lep.8.t
	desc = lep.8.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #
		name = lep.8.a
		set_country_flag = LEP_sun_investigation_yiguandao_guilty
	}
}

country_event = { # Kuomintang guilty
	id = lep.9
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.9" }
	title = lep.9.t
	desc = lep.9.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #
		name = lep.9.a
		set_country_flag = LEP_sun_investigation_kuomintang_guilty
	}
}

country_event = { # Sun's friend guilty
	id = lep.10
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.10" }
	title = lep.10.t
	desc = lep.10.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #
		name = lep.10.a
		set_country_flag = LEP_sun_investigation_suns_associate_guilty
	}
}

country_event = { # Chen's guilty
	id = lep.11
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.11" }
	title = lep.11.t
	desc = lep.11.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #
		name = lep.11.a
		set_country_flag = LEP_sun_investigation_chen_man_guilty
	}
}

country_event = { # Woman wanted revenge
	id = lep.12
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.12" }
	title = lep.12.t
	desc = lep.12.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #
		name = lep.12.a
		set_country_flag = LEP_sun_investigation_woman_revenge_guilty
	}
}

country_event = { # Germans guilty
	id = lep.13
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.13" }
	title = lep.13.t
	desc = lep.13.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #
		name = lep.13.a
		set_country_flag = LEP_sun_investigation_germans_guilty
	}
}

country_event = { # Qi guilty
	id = lep.14
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.14" }
	title = lep.14.t
	desc = lep.14.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #
		name = lep.14.a
		set_country_flag = LEP_sun_investigation_qi_guilty
	}
}

country_event = { # FROM FOCUS - it is time to release the results, maybe should change them?
	id = lep.15
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.15" }
	title = lep.15.t
	desc = lep.15.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { # No, the result is good
		name = lep.15.a
		country_event = { id = lep.16 days = 7 }
	}

	option = { # Lets change it to Yiguandao
		name = lep.15.b
		trigger = {
			NOT = {
				has_country_flag = LEP_sun_investigation_yiguandao_guilty
			}
		}
		add_political_power = -50
		clr_country_flag = LEP_sun_investigation_kuomintang_guilty
		clr_country_flag = LEP_sun_investigation_suns_associate_guilty
		clr_country_flag = LEP_sun_investigation_chen_man_guilty
		clr_country_flag = LEP_sun_investigation_woman_revenge_guilty
		clr_country_flag = LEP_sun_investigation_germans_guilty
		clr_country_flag = LEP_sun_investigation_qi_guilty
		set_country_flag = LEP_sun_investigation_yiguandao_guilty
		country_event = { id = lep.16 days = 7 }
	}

	option = { # Lets change it to Kuomintang
		name = lep.15.c
		trigger = {
			NOT = {
				has_country_flag = LEP_sun_investigation_kuomintang_guilty
			}
		}
		add_political_power = -50
		clr_country_flag = LEP_sun_investigation_yiguandao_guilty
		clr_country_flag = LEP_sun_investigation_suns_associate_guilty
		clr_country_flag = LEP_sun_investigation_chen_man_guilty
		clr_country_flag = LEP_sun_investigation_woman_revenge_guilty
		clr_country_flag = LEP_sun_investigation_germans_guilty
		clr_country_flag = LEP_sun_investigation_qi_guilty
		set_country_flag = LEP_sun_investigation_kuomintang_guilty
		country_event = { id = lep.16 days = 7 }
	}

	option = { # Lets change it to Chen's man
		name = lep.15.e
		trigger = {
			NOT = {
				has_country_flag = LEP_sun_investigation_chen_man_guilty
			}
		}
		add_political_power = -50
		clr_country_flag = LEP_sun_investigation_yiguandao_guilty
		clr_country_flag = LEP_sun_investigation_suns_associate_guilty
		clr_country_flag = LEP_sun_investigation_kuomintang_guilty
		clr_country_flag = LEP_sun_investigation_woman_revenge_guilty
		clr_country_flag = LEP_sun_investigation_germans_guilty
		clr_country_flag = LEP_sun_investigation_qi_guilty
		set_country_flag = LEP_sun_investigation_chen_man_guilty
		country_event = { id = lep.16 days = 7 }
	}
}

country_event = { # Results released
	id = lep.16
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.16" }
	title = lep.16.t
	desc = { # Yiguandao guilty
		text = lep.16.d_yig
		trigger = {
			has_country_flag = LEP_sun_investigation_yiguandao_guilty
		}
	}
	desc = { # Sun's associate guilty
		text = lep.16.d_sun
		trigger = {
			has_country_flag = LEP_sun_investigation_suns_associate_guilty
		}
	}
	desc = { # Kuomintang guilty
		text = lep.16.d_kuo
		trigger = {
			has_country_flag = LEP_sun_investigation_kuomintang_guilty
		}
	}
	desc = { # Woman's revenge
		text = lep.16.d_wom
		trigger = {
			has_country_flag = LEP_sun_investigation_woman_revenge_guilty
		}
	}
	desc = { # Germans guilty
		text = lep.16.d_ger
		trigger = {
			has_country_flag = LEP_sun_investigation_germans_guilty
		}
	}
	desc = { # Qi's guilty
		text = lep.16.d_qi
		trigger = {
			has_country_flag = LEP_sun_investigation_qi_guilty
		}
	}
	desc = { # Chen guilty
		text = lep.16.d_chen
		trigger = {
			has_country_flag = LEP_sun_investigation_chen_man_guilty
		}
	}

	fire_only_once = yes

	is_triggered_only = yes

	option = { #
		name = lep.16.a
		add_stability = 0.05
		if = {
			limit = {
				OR = {
					has_country_flag = LEP_sun_investigation_qi_guilty
					has_country_flag = LEP_sun_investigation_germans_guilty
				}
			}
			add_political_power = -75
		}
	}
}

### Other events

country_event = { # Qi's forces have control of Nanjing arsenal
	id = lep.17
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.17" }
	title = lep.17.t
	desc = lep.17.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #
		name = lep.17.a
		add_stability = 0.02
		add_war_support = 0.02
		add_equipment_to_stockpile = {
			type = infantry_equipment_0
			amount = 800
			producer = LEP
		}
		hidden_effect = {
			country_event = { id = lep.18 days = 4 }
		}
	}
}

country_event = { # Qi puts down riots in Nanjing, peace there
	id = lep.18
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.18" }
	title = lep.18.t
	desc = lep.18.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #
		name = lep.18.a
		add_stability = 0.05
	}
}

country_event = { # North, South, or West?
	id = lep.19
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.19" }
	title = lep.19.t
	desc = lep.19.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { # North
		name = lep.19.a
		add_stability = 0.05
		add_war_support = 0.05
		trigger = {
			SQI = {
				has_war_with = LEP
			}
		}
		add_timed_idea = {
			idea = LEP_aim_north_idea
			days = 60
		}
	}

	option = { # South
		name = lep.19.b
		add_stability = 0.05
		add_war_support = 0.05
		trigger = {
			CHI = {
				has_war_with = LEP
			}
		}
		add_timed_idea = {
			idea = LEP_aim_south_idea
			days = 60
		}
	}

	option = { # West
		name = lep.19.c
		add_stability = 0.05
		add_war_support = 0.05
		trigger = {
			ANQ = {
				has_war_with = LEP
			}
		}
		add_timed_idea = {
			idea = LEP_aim_west_idea
			days = 60
		}
	}
}

country_event = { # Officers are now loyal
	id = lep.20
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.20" }
	title = lep.20.t
	desc = lep.20.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #
		name = lep.20.a
		add_war_support = -0.05
		add_political_power = 75
	}
}

country_event = { # Enforcing Media Controls
	id = lep.21
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.21" }
	title = lep.21.t
	desc = lep.21.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #
		name = lep.21.a
		add_stability = -0.02
		add_political_power = 30
	}
}

country_event = { # Start of the purge: who?
	id = lep.22
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.22" }
	title = lep.22.t
	desc = lep.22.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { # students
		name = lep.22.a
		#add_ideas =
		set_country_flag = LEP_purge_students_flag
		hidden_effect = {
			country_event = { id = lep.23 days = 3 }
		}
	}

	option = { # KMT
		name = lep.22.b
		#add_stability = -0.08
		set_country_flag = LEP_purge_kmt_flag
		hidden_effect = {
			country_event = { id = lep.23 days = 3 }
		}
	}

	option = { # yiguandao
		name = lep.22.c
		#add_war_support = -0.08
		set_country_flag = LEP_purge_yiguandao_flag
		hidden_effect = {
			country_event = { id = lep.23 days = 3 }
		}
	}

	option = { # sun loyalists
		name = lep.22.e
		#add_political_power = -75
		set_country_flag = LEP_purge_sun_loyalists_flag
		hidden_effect = {
			country_event = { id = lep.23 days = 3 }
		}
	}
}

country_event = { # how to approach
	id = lep.23
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.23" }
	title = lep.23.t
	desc = lep.23.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { # lock them up
		name = lep.23.a
		set_country_flag = LEP_purge_jail_them_flag
		hidden_effect = {
			country_event = { id = lep.24 days = 14 }
		}
	}

	option = { # harsh treatment
		name = lep.23.b
		set_country_flag = LEP_purge_harsh_treatment_flag
		hidden_effect = {
			country_event = { id = lep.24 days = 14 }
		}
	}
}

country_event = { # Purge complete
	id = lep.24
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.24" }
	title = lep.24.t
	desc = lep.24.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #
		name = lep.24.a
		if = {
			limit = {
				has_country_flag = LEP_purge_students_flag
			}
			if = {
				limit = {
					has_country_flag = LEP_purge_jail_them_flag
				}
				add_political_power = 50
				add_timed_idea = {
					idea = LEP_purged_students_idea
					days = 365
				}
			}
			if = {
				limit = {
					has_country_flag = LEP_purge_harsh_treatment_flag
				}
				add_political_power = 100
				add_timed_idea = {
					idea = LEP_purged_students_idea2
					days = 365
				}
			}
		}
		if = {
			limit = {
				has_country_flag = LEP_purge_kmt_flag
			}
			if = {
				limit = {
					has_country_flag = LEP_purge_jail_them_flag
				}
				add_stability = -0.05
				add_political_power = 50
			}
			if = {
				limit = {
					has_country_flag = LEP_purge_harsh_treatment_flag
				}
				add_stability = -0.10
				add_political_power = 100
			}
		}
		if = {
			limit = {
				has_country_flag = LEP_purge_yiguandao_flag
			}
			if = {
				limit = {
					has_country_flag = LEP_purge_jail_them_flag
				}
				add_war_support = -0.05
				add_political_power = 50
			}
			if = {
				limit = {
					has_country_flag = LEP_purge_harsh_treatment_flag
				}
				add_war_support = -0.10
				add_political_power = 100
			}
		}
		if = {
			limit = {
				has_country_flag = LEP_purge_sun_loyalists_flag
			}
			if = {
				limit = {
					has_country_flag = LEP_purge_jail_them_flag
				}
				add_political_power = -75
				add_war_support = 0.03
				add_stability = 0.03
			}
			if = {
				limit = {
					has_country_flag = LEP_purge_harsh_treatment_flag
				}
				add_political_power = -125
				add_war_support = 0.03
				add_stability = 0.03
			}
		}
	}
}

#25-26 open

country_event = { # green gang dealings
	id = lep.27
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.27" }
	title = lep.27.t
	desc = lep.27.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #
		name = lep.27.a
		add_political_power = -50
		add_ideas = LEP_green_gang_dealings_idea
		LEC = {
			country_event = {
				id = lep.28
			}
		}
	}
}

country_event = { # influence from nanjing
	id = lep.28
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.28" }
	title = lep.28.t
	desc = lep.28.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #
		name = lep.28.a
		add_popularity = {
			ideology = social_liberal
			popularity = 0.02
		}
		hidden_effect = {
			LEP = {
				country_event = {
					id = lep.29
					days = 42
				}
			}
		}
	}
}

country_event = { # Green Gang grows in Nanjing
	id = lep.29
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.29" }
	title = lep.29.t
	desc = lep.29.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #
		name = lep.29.a
		add_stability = -0.01
		LEP = {
			country_event = {
				id = lep.30
				days = 28
			}
		}
	}
}

country_event = { # anti-Qi activist holds speech in Nanjing
	id = lep.30
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.30" }
	title = lep.30.t
	desc = lep.30.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #
		name = lep.30.a
		add_stability = -0.02
		hidden_effect = {
			country_event = {
				id = lep.31
				days = 4
			}
		}
	}
}

country_event = { # anti-Qi activist group leaders killed
	id = lep.31
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.31" }
	title = lep.31.t
	desc = lep.31.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #
		name = lep.31.a
		add_political_power = 30
		hidden_effect = {
			country_event = {
				id = lep.32
				days = 40
			}
		}
	}
}

country_event = { # business investments in Nanjing
	id = lep.32
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.32" }
	title = lep.32.t
	desc = lep.32.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #
		name = lep.32.a
		add_political_power = 75
		if = {
			limit = {
				has_full_control_of_state = 613
			}
			613 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
}

#29-40 open

#Many of these following events have been adapted from WordZero's LEP KMT/Yiguandao events
country_event = { #ambush
	id = lep.41
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.41" }
	title = lep.41.t
	desc = lep.41.d

	trigger = {
		has_idea = LEP_kuomintang
	}


	is_triggered_only = yes

	option = { #
		name = lep.41.a
		custom_effect_tooltip = lep_kmt_unrest_triggered_by_decision_tt
		add_war_support = -0.05
	}
}

country_event = { # railway bomb
	id = lep.42
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.42" }
	title = lep.42.t
	desc = lep.42.d

	trigger = {
		has_idea = LEP_kuomintang
	}

	is_triggered_only = yes

	option = {
		name = lep.42.a
		custom_effect_tooltip = lep_kmt_unrest_triggered_by_decision_tt
		if = {
			limit = { check_variable = { lep_kmt_attack_location < 4 } }
			1046 = {
				damage_building = {
					type = infrastructure
					damage = 0.5
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 6 } }
			595 = {
				damage_building = {
					type = infrastructure
					damage = 0.5
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 7 } }
			1046 = {
				damage_building = {
					type = infrastructure
					damage = 0.5
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 10 } }
			1066 = {
				damage_building = {
					type = infrastructure
					damage = 0.5
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 11 } }
			802 = {
				damage_building = {
					type = infrastructure
					damage = 0.5
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 14 } }
			1069 = {
				damage_building = {
					type = infrastructure
					damage = 0.5
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 15 } }
			803 = {
				damage_building = {
					type = infrastructure
					damage = 0.5
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 17 } }
			600 = {
				damage_building = {
					type = infrastructure
					damage = 0.5
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 20 } }
			1044 = {
				damage_building = {
					type = infrastructure
					damage = 0.5
				}
			}
		}
	}
}

country_event = { # assassination
	id = lep.43
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.43" }
	title = lep.43.t
	desc = lep.43.d

	trigger = {
		has_idea = LEP_kuomintang
	}

	is_triggered_only = yes

	option = { #
		name = lep.43.a
		custom_effect_tooltip = lep_kmt_unrest_triggered_by_decision_tt

		add_war_support = -0.05
		add_stability = -0.03
	}
}

country_event = { # factory bomb
	id = lep.44
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.44" }
	title = lep.44.t
	desc = lep.44.d

	trigger = {
		has_idea = LEP_kuomintang
	}

	is_triggered_only = yes

	option = { #
		name = lep.44.a
		custom_effect_tooltip = lep_kmt_unrest_triggered_by_decision_tt
		if = {
			limit = { check_variable = { lep_kmt_attack_location < 4 } }
			1046 = {
				damage_building = {
					type = industrial_complex
					damage = 0.5
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 6 } }
			595 = {
				damage_building = {
					type = industrial_complex
					damage = 0.5
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 7 } }
			1046 = {
				damage_building = {
					type = industrial_complex
					damage = 0.5
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 10 } }
			1066 = {
				damage_building = {
					type = industrial_complex
					damage = 0.5
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 11 } }
			802 = {
				damage_building = {
					type = industrial_complex
					damage = 0.5
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 14 } }
			1069 = {
				damage_building = {
					type = industrial_complex
					damage = 0.5
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 15 } }
			803 = {
				damage_building = {
					type = industrial_complex
					damage = 0.5
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 17 } }
			600 = {
				damage_building = {
					type = industrial_complex
					damage = 0.5
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 20 } }
			1044 = {
				damage_building = {
					type = industrial_complex
					damage = 0.5
				}
			}
		}
	}
}

country_event = { # gunfight
	id = lep.45
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.45" }
	title = lep.45.t
	desc = lep.45.d

	trigger = {
		has_idea = LEP_kuomintang
	}

	is_triggered_only = yes

	option = { #
		name = lep.45.a
		custom_effect_tooltip = lep_kmt_unrest_triggered_by_decision_tt
		add_stability = -0.05
		add_manpower = -579
	}
}

country_event = { # heavy factory bombing
	id = lep.46
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.46" }
	title = lep.46.t
	desc = lep.46.d

	trigger = {
		has_idea = LEP_kuomintang
	}

	is_triggered_only = yes

	option = { #
		name = lep.46.a
		custom_effect_tooltip = lep_kmt_unrest_triggered_by_decision_tt
		if = {
			limit = { check_variable = { lep_kmt_attack_location < 4 } }
			1046 = {
				damage_building = {
					type = industrial_complex
					damage = 0.8
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 6 } }
			595 = {
				damage_building = {
					type = industrial_complex
					damage = 0.8
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 7 } }
			1046 = {
				damage_building = {
					type = industrial_complex
					damage = 0.8
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 10 } }
			1066 = {
				damage_building = {
					type = industrial_complex
					damage = 0.8
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 11 } }
			802 = {
				damage_building = {
					type = industrial_complex
					damage = 0.8
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 14 } }
			1069 = {
				damage_building = {
					type = industrial_complex
					damage = 0.8
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 15 } }
			803 = {
				damage_building = {
					type = industrial_complex
					damage = 0.8
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 17 } }
			600 = {
				damage_building = {
					type = industrial_complex
					damage = 0.8
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 20 } }
			1044 = {
				damage_building = {
					type = industrial_complex
					damage = 0.8
				}
			}
		}
	}
}

country_event = { # battle
	id = lep.47
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.47" }
	title = lep.47.t
	desc = lep.47.d

	trigger = {
		has_idea = LEP_kuomintang
	}

	is_triggered_only = yes

	option = { #
		name = lep.47.a
		custom_effect_tooltip = lep_kmt_unrest_triggered_by_decision_tt
		add_stability = -0.08
		add_manpower = -1746
	}
}

country_event = { #  multiple railway bombings
	id = lep.48
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.48" }
	title = lep.48.t
	desc = lep.48.d

	trigger = {
		has_idea = LEP_kuomintang
	}


	is_triggered_only = yes

	option = { #
		name = lep.48.a
		custom_effect_tooltip = lep_kmt_unrest_triggered_by_decision_tt
		if = {
			limit = { check_variable = { lep_kmt_attack_location < 9 } }
			1046 = {
				damage_building = {
					type = infrastructure
					damage = 0.6
				}
			}
			595 = {
				damage_building = {
					type = infrastructure
					damage = 0.6
				}
			}
			1066 = {
				damage_building = {
					type = infrastructure
					damage = 0.6
				}
			}
		}
		else_if = {
			limit = { always = yes }
			1046 = {
				damage_building = {
					type = infrastructure
					damage = 0.6
				}
			}
			1066 = {
				damage_building = {
					type = infrastructure
					damage = 0.6
				}
			}
			803 = {
				damage_building = {
					type = infrastructure
					damage = 0.6
				}
			}
		}
	}
}

country_event = { # multiple factory bombings
	id = lep.49
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.49" }
	title = lep.49.t
	desc = lep.49.d

	trigger = {
		has_idea = LEP_kuomintang
	}

	is_triggered_only = yes

	option = { #
		name = lep.49.a
		if = {
			limit = { check_variable = { lep_kmt_attack_location < 5 } }
			1046 = {
				damage_building = {
					type = industrial_complex
					damage = 0.6
				}
			}
			595 = {
				damage_building = {
					type = industrial_complex
					damage = 0.6
				}
			}
			1066 = {
				damage_building = {
					type = industrial_complex
					damage = 0.6
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 9 } }
			1046 = {
				damage_building = {
					type = industrial_complex
					damage = 0.6
				}
			}
			595 = {
				damage_building = {
					type = industrial_complex
					damage = 0.6
				}
			}
			1066 = {
				damage_building = {
					type = industrial_complex
					damage = 0.6
				}
			}
			803 = {
				damage_building = {
					type = industrial_complex
					damage = 0.6
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 12 } }
			595 = {
				damage_building = {
					type = industrial_complex
					damage = 0.6
				}
			}
			1066 = {
				damage_building = {
					type = industrial_complex
					damage = 0.6
				}
			}
			803 = {
				damage_building = {
					type = industrial_complex
					damage = 0.6
				}
			}
			600 = {
				damage_building = {
					type = industrial_complex
					damage = 0.6
				}
			}
		}
		else_if = {
			limit = { check_variable = { lep_kmt_attack_location < 15 } }
			595 = {
				damage_building = {
					type = industrial_complex
					damage = 0.6
				}
			}
			1066 = {
				damage_building = {
					type = industrial_complex
					damage = 0.6
				}
			}
			802 = {
				damage_building = {
					type = industrial_complex
					damage = 0.6
				}
			}
		}
		else_if = {
			limit = { always = yes }
			1046 = {
				damage_building = {
					type = industrial_complex
					damage = 0.6
				}
			}
			1066 = {
				damage_building = {
					type = industrial_complex
					damage = 0.6
				}
			}
			1069 = {
				damage_building = {
					type = industrial_complex
					damage = 0.6
				}
			}
			1044 = {
				damage_building = {
					type = industrial_complex
					damage = 0.6
				}
			}
		}
	}
}

country_event = { # KMT destroyed
	id = lep.50
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.50" }
	title = lep.50.t
	desc = lep.50.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #
		name = lep.50.a
		add_stability = 0.05
	}
}

country_event = { # opium storage attack
	id = lep.51
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.51" }
	title = lep.51.t
	desc = lep.51.d

	trigger = {
		has_idea = LEP_yiguandao
	}

	is_triggered_only = yes

	option = { #
		name = lep.51.a
		custom_effect_tooltip = lep_yiguandao_unrest_triggered_by_decision_tt
		add_stability = -0.01
	}
}

country_event = { # assault on caravan
	id = lep.52
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.52" }
	title = lep.52.t
	desc = lep.52.d

	trigger = {
		has_idea = LEP_yiguandao
	}

	is_triggered_only = yes

	option = { #
		name = lep.52.a
		custom_effect_tooltip = lep_yiguandao_unrest_triggered_by_decision_tt
		add_stability = -0.015
	}
}

country_event = { # patrol attack
	id = lep.53
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.53" }
	title = lep.53.t
	desc = lep.53.d

	trigger = {
		has_idea = LEP_yiguandao
	}

	is_triggered_only = yes

	option = { #
		name = lep.53.a
		custom_effect_tooltip = lep_yiguandao_unrest_triggered_by_decision_tt
		add_stability = -0.015
		add_manpower = -31
	}
}

country_event = { # barracks attack
	id = lep.54
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.54" }
	title = lep.54.t
	desc = lep.54.d

	trigger = {
		has_idea = LEP_yiguandao
	}

	is_triggered_only = yes

	option = { #
		name = lep.54.a
		custom_effect_tooltip = lep_yiguandao_unrest_triggered_by_decision_tt
		add_stability = -0.025
		add_manpower = -140
	}
}

country_event = { #town assault
	id = lep.55
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.55" }
	title = lep.55.t
	desc = lep.55.d

	trigger = {
		has_idea = LEP_yiguandao
	}

	is_triggered_only = yes

	option = { #
		name = lep.55.a
		custom_effect_tooltip = lep_yiguandao_unrest_triggered_by_decision_tt
		add_stability = -0.03
		add_manpower = -198
	}
}

country_event = { #railway occupation
	id = lep.56
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.56" }
	title = lep.56.t
	desc = lep.56.d

	trigger = {
		has_idea = LEP_yiguandao
	}

	is_triggered_only = yes

	option = { #
		name = lep.56.a
		custom_effect_tooltip = lep_yiguandao_unrest_triggered_by_decision_tt
		add_stability = -0.03
		1047 = {
			damage_building = {
				type = infrastructure
				damage = 0.6
			}
		}
	}
}

country_event = { #railway occupation
	id = lep.57
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.57" }
	title = lep.57.t
	desc = lep.57.d

	trigger = {
		has_idea = LEP_yiguandao
	}

	is_triggered_only = yes

	option = { #
		name = lep.57.a
		custom_effect_tooltip = lep_yiguandao_unrest_triggered_by_decision_tt
		add_stability = -0.05
		add_manpower = -1123
	}
}

country_event = { # Yiguandao destroyed
	id = lep.58
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.58" }
	title = lep.58.t
	desc = lep.58.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #
		name = lep.58.a
		add_stability = 0.05
	}
}

country_event = { # meeting with the Jiangzhe Caifa
	id = lep.59
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.59" }
	title = lep.59.t
	desc = lep.59.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #
		name = lep.59.a
		hidden_effect = {
			country_event = {
				id = lep.60
			}
		}
	}
}

country_event = { # resources from the Jiangzhe Caifa
	id = lep.60
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.60" }
	title = lep.60.t
	desc = lep.60.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #
		name = lep.60.a
		add_political_power = 100
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 1000
			producer = LEP
		}
	}
}

###



country_event = {
	id = lep.100
	title = lep.100.t
	desc = lep.100.d

	trigger = {
		tag = LEP
		has_global_flag = LEP_war
		NOT = {
			has_war_with = CHI
			has_war_with = ANQ
			has_war_with = SQI
		}
	}

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lep.100"
		hidden_effect = {
			clr_global_flag = LEP_collapse
			set_global_flag = LEP_victory

			remove_ideas = {
				LEP_Crippled_Industrym3
				LEP_Crippled_Industrym2b
				LEP_Crippled_Industrym2a
				LEP_Crippled_Industrym1
				LEP_Crippled_Industry
				LEP_war_surrender_limit_idea
			}

			add_ideas = LEP_Damaged_Industry
			if = {
				limit = { date < 1936.7.1 }
				add_ideas = LEP_Widespread_Destruction4
				set_country_flag = LEP_in_destruction_lvl4
			}
			if = {
				limit = { date < 1936.11.1 }
				add_ideas = LEP_Widespread_Destruction3
				set_country_flag = LEP_in_destruction_lvl3
			}
			else_if = {
				limit = { date < 1937.3.1 }
				add_ideas = LEP_Widespread_Destruction2
				set_country_flag = LEP_in_destruction_lvl2
			}
			else_if = {
				limit = { date < 1937.7.1 }
				add_ideas = LEP_Widespread_Destruction1
				set_country_flag = LEP_in_destruction_lvl1
			}
			else = {
				add_ideas = LEP_Widespread_Destruction
			}

			set_variable = { lep_kmt_unrest_level = 2 }
			set_variable = { lep_yiguandao_unrest_level = 2 }
			add_ideas = LEP_kuomintang
			add_ideas = LEP_yiguandao
			activate_mission = LEP_temp_suppress_kmt
			activate_mission = LEP_temp_suppress_yiguandao

			QIE = {
				if = {
					limit = {
						has_country_flag = wu_intervenes_proANQ
					}
					country_event = {
						id = qielepcollapse.29
						hours = 6
					}
				}
			}
			unlock_LEP_templates = yes
		}
	}

	fire_only_once = yes

	option = {
		name = lep.100.a
		if = {
			limit = {
				has_idea = LEP_Questionable_Authority2
			}
			remove_ideas = LEP_Questionable_Authority2
		}
		else_if = {
			limit = {
				has_idea = LEP_Questionable_Authority1
			}
			remove_ideas = LEP_Questionable_Authority1
		}
		else_if = {
			limit = {
				has_idea = LEP_Questionable_Authority
			}
			remove_ideas = LEP_Questionable_Authority
		}

		if = {
			limit = {
				has_idea = LEP_Rampant_Disorder3
			}
			remove_ideas = LEP_Rampant_Disorder3
		}
		else_if = {
			limit = {
				has_idea = LEP_Rampant_Disorder2
			}
			remove_ideas = LEP_Rampant_Disorder2
		}
		else_if = {
			limit = {
				has_idea = LEP_Rampant_Disorder1
			}
			remove_ideas = LEP_Rampant_Disorder1
		}
		else_if = {
			limit = {
				has_idea = LEP_Rampant_Disorder
			}
			remove_ideas = LEP_Rampant_Disorder
		}

		add_ideas = LEP_Chaotic_Order
	}
}

#For future Governor Question Event
country_event = {
	id = lep.102
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.102" }
	title = lep.102.t
	desc = lep.102.d

	fire_only_once = yes

	is_triggered_only = yes

	option = {
		name = lep.102.a
		custom_effect_tooltip = LEP_unlock_governor_decisions
		if = {
			limit = {
				has_idea = LEP_Chaotic_Order1a
			}
			swap_ideas = {
				remove_idea = LEP_Chaotic_Order1a
				add_idea = LEP_Chaotic_Order2ac
			}
		}
		else_if = {
			limit = {
				has_idea = LEP_Chaotic_Order1b
			}
			swap_ideas = {
				remove_idea = LEP_Chaotic_Order1b
				add_idea = LEP_Chaotic_Order2bc
			}
		}
		else_if = {
			limit = {
				has_idea = LEP_Chaotic_Order2ab
			}
			swap_ideas = {
				remove_idea = LEP_Chaotic_Order2ab
				add_idea = LEP_Chaotic_Order3
			}
		}
		else = {
			swap_ideas = {
				remove_idea = LEP_Chaotic_Order
				add_idea = LEP_Chaotic_Order1c
			}
		}
	}

	option = {
		name = lep.102.b
		custom_effect_tooltip = LEP_unlock_governor_decisions
		if = {
			limit = {
				has_idea = LEP_Chaotic_Order1a
			}
			swap_ideas = {
				remove_idea = LEP_Chaotic_Order1a
				add_idea = LEP_Chaotic_Order2ac
			}
		}
		else_if = {
			limit = {
				has_idea = LEP_Chaotic_Order1b
			}
			swap_ideas = {
				remove_idea = LEP_Chaotic_Order1b
				add_idea = LEP_Chaotic_Order2bc
			}
		}
		else_if = {
			limit = {
				has_idea = LEP_Chaotic_Order2ab
			}
			swap_ideas = {
				remove_idea = LEP_Chaotic_Order2ab
				add_idea = LEP_Chaotic_Order3
			}
		}
		else = {
			swap_ideas = {
				remove_idea = LEP_Chaotic_Order
				add_idea = LEP_Chaotic_Order1c
			}
		}
		add_political_power = 50
		add_stability = -0.05
	}
}


country_event = {
	id = lep.111
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.111" }
	title = lep.111.t
	desc = lep.111.d
	picture = GFX_report_event_GEA_falkenhausen

	fire_only_once = yes

	trigger = {
		tag = GEA
		LEP = { has_unit_leader = 12045 }
		OR = {
			has_global_flag = LEP_victory
			has_global_flag = second_weltkrieg_has_started
			LEP = {
				OR = {
					exists = no
					has_war_with = GER
					has_war_with = GEX
					has_war_with = GEA
					has_war_with = MAF
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 5
	}

	option = {
		name = lep.111.a
		LEP = {
			random_unit_leader = {
				limit = { has_id = 12045 }
				set_nationality = GEA
			}
			if = {
				limit = { has_template = "Polizeitruppe" }
				delete_unit_template_and_units = { division_template = "Polizeitruppe" }
			}
		}
		hidden_effect = {
			GEA = { clr_country_flag = Alexander_von_Falkenhausen_dead }
			LEP = { set_country_flag = Alexander_von_Falkenhausen_dead }
		}
	}
}

country_event = {
	id = lep.112
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.112" }
	title = lep.112.t
	desc = lep.112.d
	picture = GFX_report_event_CHI_militia

	fire_only_once = yes

	is_triggered_only = yes

	option = {
		name = lep.112.a
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -1000
			producer = GEA
		}
		LEP = {
			country_event = {
				id = lep.113
				days = 3
			}
		}
	}
	option = {
		name = lep.112.b
		trigger = { is_ai = no }
		add_political_power = -25
	}
}

country_event = {
	id = lep.113
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.113" }
	title = lep.113.t
	desc = lep.113.d
	picture = GFX_report_event_military_planning

	fire_only_once = yes

	is_triggered_only = yes

	option = {
		name = lep.113.a
		add_equipment_to_stockpile = {
			type = infantry_equipment_0
			amount = 1000
			producer = GEA
		}
	}
}

country_event = { #new Zhejiang governor
	id = lep.114
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.114" }
	title = lep.114.t
	desc = lep.114.d
	picture = GFX_report_event_military_planning

	fire_only_once = yes

	is_triggered_only = yes

	option = { # zhou fengqi
		name = lep.114.a
		add_war_support = 0.05
		set_country_flag = LEP_zhejiang_gov_done
	}
	option = { #  zhang qingxu
		name = lep.114.b
		add_stability = 0.05
		set_country_flag = LEP_zhejiang_gov_done
	}
	option = { # xia chao
		name = lep.114.c
		add_political_power = 50
		set_country_flag = LEP_zhejiang_gov_done
	}
}

country_event = { #new fujian governor
	id = lep.115
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.115" }
	title = lep.115.t
	desc = lep.115.d
	picture = GFX_report_event_military_planning

	fire_only_once = yes

	is_triggered_only = yes

	option = { # keep Zhou Yinren
		name = lep.115.a
		add_stability = 0.05
	}
	option = { #  Kong Zhaotong
		name = lep.115.b
		add_war_support = 0.05
		add_political_power = 25
	}
}

country_event = { #new jiangxi governor (ruzhou dead so its gotta be fang benren
	id = lep.116
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.116" }
	title = lep.116.t
	desc = lep.116.d
	picture = GFX_report_event_military_planning

	fire_only_once = yes

	is_triggered_only = yes

	option = { # fang benren
		name = lep.116.a
		add_war_support = 0.05
	}
}

country_event = { #new jiangxi governor
	id = lep.117
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.117" }
	title = lep.117.t
	desc = lep.117.d
	picture = GFX_report_event_military_planning

	fire_only_once = yes

	is_triggered_only = yes

	option = { # fang benren
		name = lep.117.a
		add_war_support = 0.05
	}
	option = { # deng
		name = lep.117.b
		add_political_power = -25
	}
}

### Foreign Policy Events

country_event = {
	id = lep.200 #QIE is losing to FNG, Germans ask us to support them
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.200" }
	title = lep.200.t
	desc = lep.200.d
	picture = GFX_report_event_military_planning

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		has_war = no
		QIE = {
			has_country_flag = wu_intervenes_proLEP
			has_war_with = FNG
			surrender_progress > 0.5
		}
	}

	option = {
		name = lep.200.a #yes
		ai_chance = { factor = 100 }
		add_political_power = 100
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 1000
			producer = GER
		}
		declare_war_on = {
			target = FNG
			type = annex_everything
		}
	}
	option = {
		name = lep.200.b #no
		ai_chance = { factor = 0 }
		add_political_power = -100
		add_stability = -0.10
	}
}

country_event = {
	id = lep.201 #QIE asks for help
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.201" }
	title = lep.201.t
	desc = lep.201.d
	picture = GFX_report_event_military_planning

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = lep.201.a #yes
		ai_chance = { factor = 75 }
		declare_war_on = {
			target = FNG
			type = annex_everything
		}
		diplomatic_relation = {
			country = FROM
			relation = non_aggression_pact
		}
		give_military_access = FROM
		FROM = {
			give_military_access = ROOT
			country_event = qiefor.22
		}
	}
	option = {
		name = lep.201.b #no
		ai_chance = { factor = 25 }
		add_stability = -0.025
		FROM = {
			country_event = qiefor.23
		}
	}
}

country_event = { #Send guns to XSM
	id = lep.202
	immediate = { log = "[GetDateText]: [Root.GetName]: event lep.202" }
	title = lep.202.t
	desc = lep.202.d
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = {
		name = lep.202.a
		effect_tooltip = {
			FROM = {
				send_equipment = {
					type = infantry_equipment
					amount = 250
					target = ROOT
				}
			}
		}
	}
}

country_event = { # Heads up to War Declaration Targets
	id = lep.203
	title = lep.203.t
	desc = lep.203.d
	
	picture = qie_soldiers_planning

	is_triggered_only = yes

	option = { #We have a short time to prepare.
		name = lep.203.a
		custom_effect_tooltip = QIE_invasion_discovery
	}
}

country_event = { # Heads up to Overlord
	id = lep.204
	title = lep.204.t
	desc = lep.204.d

	picture = qie_soldiers_planning

	is_triggered_only = yes

	option = { # We must prepare!
		name = lep.204.a
		custom_effect_tooltip = QIE_invasion_discovery
	}
}

country_event = { #Heads up to Fengtian of LEP intervention to support QIE
	id = lep.205
	title = lep.205.t
	desc = { #German has asked for intervention for QIE
		text = lep.205.d_ger
		trigger = {
			has_country_flag = ger_intervention_ask
		}
	}
	desc = { #QIE has asked for intervention directly
		text = lep.205._noger
		trigger = {
			NOT = {
				has_country_flag = ger_intervention_ask
			}
		}
	}

	picture = qie_zhili_battle

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = lep.205.a
		if = {
			limit = {
				has_country_flag = ger_intervention_ask
			}
			clr_country_flag = get_intervention_ask
		}
	}
}

country_event = { # meeting with the nanking kommission
	id = lepaog.1
	title = lepaog.1.t
	desc = lepaog.1.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes

	fire_only_once = yes


	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepaog.1"
		hidden_effect = {
			LEP = { country_event = { id = lepaog.2 days = 14 } }
		}
	}

	option = { # pp bonus
		name = lepaog.1.a
		add_political_power = 35
	}
}

country_event = { # new offices
	id = lepaog.2
	title = lepaog.2.t
	desc = lepaog.2.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes
	fire_only_once = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepaog.2"

	}

	option = { # new factory in nanking
		name = lepaog.2.a
		613 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}
}

#country_event = { # german factory director
#	id = lepaog.3
#	title = lepaog.3.t
#	desc = lepaog.3.d
#	#picture = GFX_report_event_CHI_warlords
#
#	is_triggered_only = yes
#
#	fire_only_once = yes
#
#
#	option = { # let it slide
#		name = lepaog.3.a
#		LEP_remove_tsingtau_spirit = yes
#		add_popularity = {
#			ideology = market_liberal
#			popularity = 0.03
#		}
#		LEP_calculate_tsingtau_level = yes
#		LEP_add_tsingtau_spirit = yes
#
#	}
#	option = { # prosecute
#		name = lepaog.3.b
#		add_political_power = -50
#	}
#}

country_event = { # rebuilding railway
	id = lepaog.4
	title = lepaog.4.t
	desc = lepaog.4.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes

	fire_only_once = yes


	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepaog.4"
		hidden_effect = {
			LEP = { country_event = { id = lepaog.5 days = 14 }}
		}
	}

	option = { # money to repair
		name = lepaog.4.a
		add_timed_idea = {
			idea = lep_aog_money_idea
			days = 120
		}
	}
	option = { # repair it
		name = lepaog.4.b
		add_timed_idea = {
			idea = lep_aog_repair_idea
			days = 240
		}
	}
}

country_event = { # leases
	id = lepaog.5
	title = lepaog.5.t
	desc = lepaog.5.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes #
	fire_only_once = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepaog.5"
		hidden_effect = {
			LEP = { country_event = { id = lepaog.6 days = 14 }}
		}
	}

	option = { # let them be
		name = lepaog.5.a
		add_political_power = 75
		LEP_remove_tsingtau_spirit = yes
		add_popularity = {
			ideology = market_liberal
			popularity = 0.02
		}
		LEP_calculate_tsingtau_level = yes
		LEP_add_tsingtau_spirit = yes
	}

	option = { # demand payment
		name = lepaog.5.b
		add_political_power = -35
		add_timed_idea = {
			idea = lep_aog_payment_idea
			days = 120
		}
		LEP_remove_tsingtau_spirit = yes
		add_popularity = {
			ideology = market_liberal
			popularity = -0.01
		}
		LEP_calculate_tsingtau_level = yes
		LEP_add_tsingtau_spirit = yes
	}
}

country_event = { # factory control
	id = lepaog.6
	title = lepaog.6.t
	desc = lepaog.6.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes #
	fire_only_once = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepaog.6"
		hidden_effect = {
			LEP = { country_event = { id = lepaog.7 days = 14 }}
		}
	}

	option = { #
		name = lepaog.6.a
		every_owned_state = {
			limit = {
				OR = {
					state = 803
					state = 1075
					state = 592
				}
			}
			add_state_modifier = {
				modifier = {
					local_building_slots_factor =  0.15
				}
			}
		}
	}
}

country_event = { # investment council
	id = lepaog.7
	title = lepaog.7.t
	desc = lepaog.7.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes #
	fire_only_once = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepaog.7"
		hidden_effect = {
			LEP = { country_event = { id = lepaog.8  days = 14 } }
		}
	}

	option = { # yes
		name = lepaog.7.a
		LEP_remove_tsingtau_spirit = yes
		add_popularity = {
			ideology = market_liberal
			popularity = 0.025
		}
		LEP_calculate_tsingtau_level = yes
		LEP_add_tsingtau_spirit = yes
		add_offsite_building = { type = industrial_complex level = 2 }


	}
	option = { # no
		name = lepaog.7.b
		add_political_power = -35
	}
}

country_event = { # reconstruction imports
	id = lepaog.8
	title = lepaog.8.t
	desc = lepaog.8.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes #
	fire_only_once = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepaog.8"
		hidden_effect = {
			LEP = { country_event = { id = lepaog.9  days = 14 } }
		}
	}

	option = { # relax imports
		name = lepaog.8.a
		add_timed_idea = {
			idea = lep_aog_german_imports_idea
			days = 365
		}
		LEP_remove_tsingtau_spirit = yes
		add_popularity = {
			ideology = market_liberal
			popularity = 0.01
		}
		LEP_calculate_tsingtau_level = yes
		LEP_add_tsingtau_spirit = yes


	}
	option = { # no deal
		name = lepaog.8.b
		add_political_power = -75
	}
}

country_event = { # inflation
	id = lepaog.9
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepaog.9" }
	title = lepaog.9.t
	desc = lepaog.9.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes #


	option = { # AOG help
		name = lepaog.9.a
		add_timed_idea = {
			idea = lep_aog_inflation_idea
			days = 365
		}
		LEP_remove_tsingtau_spirit = yes
		add_popularity = {
			ideology = market_liberal
			popularity = 0.02
		}
		LEP_calculate_tsingtau_level = yes
		LEP_add_tsingtau_spirit = yes
	}

	option = { # go it alone
		name = lepaog.9.b
		add_political_power = 35
	}

}

#loan events
country_event = { # introduction
	id = lepaog.10
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepaog.10" }
	title = lepaog.10.t
	desc = lepaog.10.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes

	fire_only_once = yes


	option = { # add idea?
		name = lepaog.10.a
		add_political_power = 35
		country_event = { id = lepaog.11 days = 5 }
	}


}

country_event = { # loan size
	id = lepaog.11
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepaog.11" }
	title = lepaog.11.t
	desc = lepaog.11.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes #
	fire_only_once = yes


	option = { # big
		name = lepaog.11.a
		set_country_flag = lepaog_loan_big
		country_event = { id = lepaog.12 days = 12 }

	}
	option = { # medium
		name = lepaog.11.b
		set_country_flag = lepaog_loan_medium
		country_event = { id = lepaog.12 days = 12 }

	}
	option = { # small
		name = lepaog.11.c
		set_country_flag = lepaog_loan_small
		country_event = { id = lepaog.12 days = 12 }

	}

}

country_event = { # loan location
	id = lepaog.12
	title = lepaog.12.t
	desc = lepaog.12.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes #
	fire_only_once = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepaog.12"
		random_list = {
			33 = {
				country_event = { id = lepaog.13 days = 365 }
			}
			33 = {
				country_event = { id = lepaog.13 days = 500 }
			}
			34 = {
				country_event = { id = lepaog.13 days = 750 }
			}
		}
	}
	option = { # production
		name = lepaog.12.a
		if = {
			limit = {
				has_country_flag = lepaog_loan_big
			}
			add_timed_idea = {
				idea = lep_aog_loan_production_3
				days = 900
			}
		}
		else_if = {
			limit = {
				has_country_flag = lepaog_loan_medium
			}
			add_timed_idea = {
				idea = lep_aog_loan_production_2
				days = 900
			}
		}
		else_if = {
			limit = {
				has_country_flag = lepaog_loan_small
			}
			add_timed_idea = {
				idea = lep_aog_loan_production_1
				days = 900
			}
		}

	}

	option = { # construction
		name = lepaog.12.b
		if = {
			limit = {
				has_country_flag = lepaog_loan_big
			}
			add_timed_idea = {
				idea = lep_aog_loan_construction_3
				days = 900
			}
		}
		else_if = {
			limit = {
				has_country_flag = lepaog_loan_medium
			}
			add_timed_idea = {
				idea = lep_aog_loan_construction_2
				days = 900
			}
		}
		else_if = {
			limit = {
				has_country_flag = lepaog_loan_small
			}
			add_timed_idea = {
				idea = lep_aog_loan_construction_1
				days = 900
			}
		}

	}

	option = { # military
		name = lepaog.12.c
		if = {
			limit = {
				has_country_flag = lepaog_loan_big
			}
			add_timed_idea = {
				idea = lep_aog_loan_military_3
				days = 900
			}
		}
		else_if = {
			limit = {
				has_country_flag = lepaog_loan_medium
			}
			add_timed_idea = {
				idea = lep_aog_loan_military_2
				days = 900
			}
		}
		else_if = {
			limit = {
				has_country_flag = lepaog_loan_small
			}
			add_timed_idea = {
				idea = lep_aog_loan_military_1
				days = 900
			}
		}

	}

}

country_event = { # aog wants early repayment, maybe make this a chance based?
	id = lepaog.13
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepaog.13" }
	title = lepaog.13.t
	desc = lepaog.13.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes #
	fire_only_once = yes


	option = { # agree
		name = lepaog.13.a
		remove_ideas = lep_aog_loan_production_3
		remove_ideas = lep_aog_loan_production_2
		remove_ideas = lep_aog_loan_production_1
		remove_ideas = lep_aog_loan_construction_3
		remove_ideas = lep_aog_loan_construction_2
		remove_ideas = lep_aog_loan_construction_1
		remove_ideas = lep_aog_loan_military_3
		remove_ideas = lep_aog_loan_military_2
		remove_ideas = lep_aog_loan_military_1
		add_timed_idea = {
			idea = lep_aog_loan_repayment
			days = 250
		}

	}

}

country_event = { # aog bank expansion, variable boost based on aog opinion/influence?
	id = lepaog.14
	title = lepaog.14.t
	desc = lepaog.14.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes #
	fire_only_once = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepaog.14"
		hidden_effect = {
			country_event = { id = lepaog.15 days = 55 }
		}
	}

	option = { #
		name = lepaog.14.a
		1075 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}

}

country_event = { # aog bank expansion 2
	id = lepaog.15
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepaog.15" }
	title = lepaog.15.t
	desc = lepaog.15.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes #
	fire_only_once = yes


	option = { # agree
		name = lepaog.15.a
		613 = {
			remove_building = {
				type = industrial_complex
				level = 1
			}
		}
		744 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		add_political_power = 75
		LEP_remove_tsingtau_spirit = yes
		add_popularity = {
			ideology = market_liberal
			popularity = 0.01
		}
		LEP_calculate_tsingtau_level = yes
		LEP_add_tsingtau_spirit = yes


	}

	option = { # disagree
		name = lepaog.15.b
		add_political_power = -50

	}

}

#aog inland expansion

country_event = { # introduction
	id = lepaog.16
	title = lepaog.16.t
	desc = lepaog.16.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes

	fire_only_once = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepaog.16"
		hidden_effect = {
			country_event = { id = lepaog.17 days = 5 }
		}
	}

	option = { # agree
		name = lepaog.16.a

	}


}

country_event = { # interior: chinese rights
	id = lepaog.17
	title = lepaog.17.t
	desc = lepaog.17.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes #
	fire_only_once = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepaog.17"
		hidden_effect = {
			country_event = { id = lepaog.18 days = 5 }
		}
	}

	option = { # chinese dominance
		name = lepaog.17.a
		set_country_flag = lep_aog_interior_chinese_3

	}

	option = { # even
		name = lepaog.17.b
		set_country_flag = lep_aog_interior_chinese_2

	}

	option = { # german dominance
		name = lepaog.17.c
		set_country_flag = lep_aog_interior_chinese_1
	}

}

country_event = { # rights of germans in the interior

	id = lepaog.18
	title = lepaog.18.t
	desc = lepaog.18.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes #
	fire_only_once = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepaog.18"
		hidden_effect = {
			country_event = { id = lepaog.19 days = 15 }
		}
	}

	option = { # new law for germans
		name = lepaog.18.a
		set_country_flag = lep_aog_interior_german_3
	}

	option = { # equality
		name = lepaog.18.b
		set_country_flag = lep_aog_interior_german_2

	}

	option = { # priviledged guests
		name = lepaog.18.c
		set_country_flag = lep_aog_interior_german_1

	}


}

country_event = { # germans set up shop: get idea based on previous choices
	id = lepaog.19
	title = lepaog.19.t
	desc = lepaog.19.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes #
	fire_only_once = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepaog.19"
		hidden_effect = {
			country_event = { id = lepaog.20 days = 45 }
			country_event = { id = lepaog.21 days = 121 }
		}
	}

	option = { #
		name = lepaog.19.a
		add_timed_idea = {
			idea = lep_aog_interior_development
			days = 120
		}


	}


}

country_event = { # chinese vs german business interests
	id = lepaog.20
	title = lepaog.20.t
	desc = lepaog.20.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes #
	fire_only_once = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepaog.20"

	}

	option = { # favour the chinese
		name = lepaog.20.a
		add_stability = 0.01
		add_political_power = -85

	}

	option = { # favour the germans
		name = lepaog.20.b
		add_political_power = 25
		LEP_remove_tsingtau_spirit = yes
		add_popularity = {
			ideology = market_liberal
			popularity = 0.005
		}
		LEP_calculate_tsingtau_level = yes
		LEP_add_tsingtau_spirit = yes


	}

	option = { # who's to say
		name = lepaog.20.c
		add_stability = -0.01
		add_political_power = -50

	}

}

country_event = { # open the interior: results
	id = lepaog.21
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepaog.21" }
	title = lepaog.21.t
	desc = lepaog.21.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes #
	fire_only_once = yes


	option = { #
		name = lepaog.21.a
		if = {
			limit = {
				OR = {
					AND = {
						has_country_flag = lep_aog_interior_chinese_3
						has_country_flag = lep_aog_interior_german_3
					}
					AND = {
						has_country_flag = lep_aog_interior_chinese_2
						has_country_flag = lep_aog_interior_german_2
					}
					AND = {
						has_country_flag = lep_aog_interior_chinese_1
						has_country_flag = lep_aog_interior_german_1
					}
				}
			}
			add_ideas = lep_aog_interior_chinese_dominant
		}
		if = {
			limit = {
				OR = {
					AND = {
						has_country_flag = lep_aog_interior_chinese_3
						has_country_flag = lep_aog_interior_german_1
					}
					AND = {
						has_country_flag = lep_aog_interior_chinese_3
						has_country_flag = lep_aog_interior_german_2
					}
					AND = {
						has_country_flag = lep_aog_interior_chinese_2
						has_country_flag = lep_aog_interior_german_1
					}
				}
			}
			add_ideas = lep_aog_interior_even
		}

		if = {
			limit = {
				OR = {
					AND = {
						has_country_flag = lep_aog_interior_chinese_1
						has_country_flag = lep_aog_interior_german_3
					}
					AND = {
						has_country_flag = lep_aog_interior_chinese_2
						has_country_flag = lep_aog_interior_german_3
					}
					AND = {
						has_country_flag = lep_aog_interior_chinese_1
						has_country_flag = lep_aog_interior_german_2
					}
				}
			}
			add_ideas = lep_aog_interior_german_dominant
		}

	}


}

#new german railroads

country_event = { # railroad ownership
	id = lepaog.22
	title = lepaog.22.t
	desc = lepaog.22.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes

	fire_only_once = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepaog.22"
		hidden_effect = {
			country_event = { id = lepaog.23 days = 12 }
		}
	}

	option = { # respect german buyout
		name = lepaog.22.a
		LEP_remove_tsingtau_spirit = yes
		add_popularity = {
			ideology = market_liberal
			popularity = 0.015
		}
		LEP_calculate_tsingtau_level = yes
		LEP_add_tsingtau_spirit = yes


	}

	option = { # demand equal ownership
		name = lepaog.22.b
		add_timed_idea = {
			idea = lep_aog_railroads_ownership
			days = 180
		}

	}

}

country_event = { # railroad reimbursement
	id = lepaog.23
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepaog.23" }
	title = lepaog.23.t
	desc = lepaog.23.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes #

	fire_only_once = yes


	option = { # repay with money
		name = lepaog.23.a
		if = {
			limit = {
				has_idea = lep_aog_railroads_ownership
			}
			remove_ideas = lep_aog_railroads_ownership
		}
		add_timed_idea = {
			idea = lep_aog_railroads_ownership_2
			days = 220
		}
		country_event = { id = lepaog.24 days = 5 }

	}

	option = { # repay with influence
		name = lepaog.23.b

		LEP_remove_tsingtau_spirit = yes
		add_popularity = {
			ideology = market_liberal
			popularity = 0.035
		}
		LEP_calculate_tsingtau_level = yes
		LEP_add_tsingtau_spirit = yes
		country_event = { id = lepaog.24 days = 5 }
	}

	option = { # what payment?
		name = lepaog.23.c
		add_political_power = -150


	}
}

country_event = { # railroad construction (optional only if you pay up)
	id = lepaog.24
	title = lepaog.24.t
	desc = lepaog.24.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes
	fire_only_once = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepaog.24"
		hidden_effect = {
			if = {
				limit = {
					OR = {
						has_idea = lep_aog_railroads_ownership
						has_idea = lep_aog_railroads_ownership_2
					}
				}
				country_event = { id = lepaog.25 days = 7 }
			}
		}
	}

	option = { # germans help
		name = lepaog.24.a
		every_owned_state = {
			limit = {
				state = 613
				state = 1014
				state = 1044
				state = 596
				state = 1067
			}
			add_building_construction = {
				type = infrastructure
				level = 2
				instant_build = yes
			}
		}
		if = {
			limit = {
				market_liberal > 0.30
			}
			every_owned_state = {
				limit = {
					state = 1045
					state = 600
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				market_liberal > 0.40
			}
			every_owned_state = {
				limit = {
					state = 595
					state = 1066
					state = 1046
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
}

country_event = { # rail tax?
	id = lepaog.25
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepaog.25" }
	title = lepaog.25.t
	desc = lepaog.25.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes #
	fire_only_once = yes

	option = { # yes
		name = lepaog.25.a
		if = {
			limit = {
				has_idea = lep_aog_railroads_ownership
			}
			modify_timed_idea = {
				idea = lep_aog_railroads_ownership
				days = -80
			}
			add_stability = -0.02
		}

		if = {
			limit = {
				has_idea = lep_aog_railroads_ownership_2
			}
			modify_timed_idea = {
				idea = lep_aog_railroads_ownership_2
				days = -80
			}
			add_stability = -0.05
		}
		hidden_effect = {
			country_event = { id = lepaog.26 days = 4 }
		}


	}

	option = { # no
		name = lepaog.25.b

	}
}

country_event = { # germans ask for exemption from tax
	id = lepaog.26
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepaog.26" }
	title = lepaog.26.t
	desc = lepaog.26.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes #
	fire_only_once = yes

	option = { # fine
		name = lepaog.26.a
		if = {
			limit = {
				has_idea = lep_aog_railroads_ownership
			}
			modify_timed_idea = {
				idea = lep_aog_railroads_ownership
				days = 35
			}
		}

		if = {
			limit = {
				has_idea = lep_aog_railroads_ownership_2
			}
			modify_timed_idea = {
				idea = lep_aog_railroads_ownership_2
				days = 35
			}
		}

	}

	option = { # hell no
		name = lepaog.26.b
		add_political_power = -50

	}

}


#resources
country_event = { # introduction
	id = lepaog.27
	title = lepaog.27.t
	desc = lepaog.27.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes

	fire_only_once = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event lepaog.27"
		hidden_effect = {
			country_event = { id = lepaog.28 days = 7 }
		}
	}

	option = { #
		name = lepaog.27.a

	}

}

country_event = { # german control of commission
	id = lepaog.28
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepaog.28" }
	title = lepaog.28.t
	desc = lepaog.28.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes #
	fire_only_once = yes

	option = { # major
		name = lepaog.28.a
		set_country_flag = lep_aog_german_commission_ownership
		LEP_remove_tsingtau_spirit = yes
		add_popularity = {
			ideology = market_liberal
			popularity = 0.015
		}
		LEP_calculate_tsingtau_level = yes
		LEP_add_tsingtau_spirit = yes

	}

	option = { # minimal
		name = lepaog.28.b
		add_political_power = -35

	}

}

#interior expansion 2

country_event = { # renegotiate german rights
	id = lepaog.29
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepaog.29" }
	title = lepaog.29.t
	desc = lepaog.29.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes

	fire_only_once = yes

	option = { # agree
		name = lepaog.29.a

		set_country_flag = lep_aog_german_commission_ownership
		LEP_remove_tsingtau_spirit = yes
		add_popularity = {
			ideology = market_liberal
			popularity = 0.03
		}
		LEP_calculate_tsingtau_level = yes
		LEP_add_tsingtau_spirit = yes

	}

	option = { # stay as they are
		name = lepaog.29.b
		add_political_power = -125

	}

}

country_event = { # german industrial expansion
	id = lepaog.30
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepaog.30" }
	title = lepaog.30.t
	desc = lepaog.30.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes

	fire_only_once = yes


	option = { # agree
		name = lepaog.30.a
		country_event = { id = lepaog.30 days = 1 }
		add_timed_idea = {
			idea = lep_aog_german_economic_boom
			days = 365
		}


	}


}

country_event = { # german exclusive economic zones
	id = lepaog.31
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepaog.31" }
	title = lepaog.31.t
	desc = lepaog.31.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes

	fire_only_once = yes

	option = { # oh no
		name = lepaog.31.a
		add_opinion_modifier = {
			target = GER
			modifier = lep_aog_german_trade
		}

	}


}

country_event = { # german free trade (not used rn)
	id = lepaog.32
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepaog.32" }
	title = lepaog.32.t
	desc = lepaog.32.d
	#picture = GFX_report_event_CHI_warlords


	is_triggered_only = yes

	fire_only_once = yes

	option = { # oh no
		name = lepaog.32.a
		add_ideas = lep_aog_german_free_trade

	}


}

country_event = { # complete german freedom
	id = lepaog.33
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepaog.33" }
	title = lepaog.33.t
	desc = lepaog.33.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes

	fire_only_once = yes


	option = { # oh no
		name = lepaog.33.a
		swap_ideas = {
			remove_idea = lep_aog_german_free_trade
			add_idea = lep_aog_german_free_trade_2
		}

	}

}


#gea events

country_event = { # gea relations improvement
	id = lepaog.50
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepaog.50" }
	title = lepaog.50.t
	desc = lepaog.50.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes

	fire_only_once = yes

	option = { # yes
		name = lepaog.50.a
		add_opinion_modifier = {
			target = GEA
			modifier = lep_aog_gea_relations
		}
		reverse_add_opinion_modifier = {
			target = GEA
			modifier = lep_aog_gea_relations
		}

	}


}



country_event = { # support GEA in indo-china war
	id = lepaog.51
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepaog.51" }
	title = lepaog.51.t
	desc = lepaog.51.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes

	fire_only_once = yes

	option = { # volunteers idea
		name = lepaog.51.a
		trigger = {
			has_war = no
		}
		add_political_power = 35
		add_ideas = lep_aog_volunteers_idea
		LEP_remove_tsingtau_spirit = yes
		add_popularity = {
			ideology = market_liberal
			popularity = 0.005
		}
		LEP_calculate_tsingtau_level = yes
		LEP_add_tsingtau_spirit = yes



	}

	option = { # send equipment
		name = lepaog.51.b
		send_equipment = {
			equipment = infantry_equipment
			amount = 750
			target = GEA
		}


	}

	option = { # nothing
		name = lepaog.51.c
		add_political_power = -50

	}

}

country_event = { # GEA border agreements
	id = lepaog.52
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepaog.52" }
	title = lepaog.52.t
	desc = lepaog.52.d
	#picture = GFX_report_event_CHI_warlords

	trigger = {
		tag = LEP
		has_war = no
		OR = {
			owns_state = 1053
			owns_state = 1056
		}
		date > 1937.01.01
		market_liberal > 0.25
		GEA = {
			has_war = no
			owns_state = 857
		}

	}

	fire_only_once = yes

	mean_time_to_happen = {
		days = 3
	}


	option = { # yes
		name = lepaog.52.a
		LEP_remove_tsingtau_spirit = yes
		add_popularity = {
			ideology = market_liberal
			popularity = 0.001
		}
		LEP_calculate_tsingtau_level = yes
		LEP_add_tsingtau_spirit = yes
		1053 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		1056 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		857 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}

	}

	option = { # no
		name = lepaog.52.b
		add_political_power = -25

	}

}


country_event = { # GEA upgrade relations
	id = lepaog.53
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepaog.53" }
	title = lepaog.53.t
	desc = lepaog.53.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes

	fire_only_once = yes



	option = { # yes
		name = lepaog.53.a
		add_opinion_modifier = {
			target = GEA
			modifier = lep_aog_gea_relations_2
		}
		reverse_add_opinion_modifier = {
			target = GEA
			modifier = lep_aog_gea_relations_2
		}
		
		add_opinion_modifier = {
			target = AOG
			modifier = lep_aog_gea_relations_2
		}
		reverse_add_opinion_modifier = {
			target = AOG
			modifier = lep_aog_gea_relations_2
		}

	}


}

country_event = { # gea docking rights
	id = lepaog.54
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepaog.54" }
	title = lepaog.54.t
	desc = lepaog.54.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes

	fire_only_once = yes

	option = { # yes
		name = lepaog.54.a

		diplomatic_relation = {
			country = GEA
			relation = docking_rights
			active = yes
		}
		diplomatic_relation = {
			country = AOG
			relation = docking_rights
			active = yes
		}

	}

	option = { # no
		name = lepaog.54.b
		add_political_power = -50

	}

}

country_event = { # gea military access
	id = lepaog.55
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepaog.55" }
	title = lepaog.55.t
	desc = lepaog.55.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes

	fire_only_once = yes


	option = { # yes
		name = lepaog.55.a
		diplomatic_relation = {
			country = GEA
			relation = military_access
			active = yes
		}
		diplomatic_relation = {
			country = AOG
			relation = military_access
			active = yes
		}

	}

	option = { # no
		name = lepaog.55.b
		add_political_power = -50

	}

}

country_event = { # gea military guarantees
	id = lepaog.56
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepaog.56" }
	title = lepaog.56.t
	desc = lepaog.56.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes

	fire_only_once = yes


	option = { # yes
		name = lepaog.56.a
		diplomatic_relation = {
			country = GEA
			relation = military_access
			active = yes
		}

	}

	option = { # no
		name = lepaog.56.b
		add_political_power = -75

	}

}

country_event = { # transferring the concessions
	id = lepaog.57
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepaog.57" }
	title = lepaog.57.t
	desc = lepaog.57.d
	#picture = GFX_report_event_CHI_warlords

	is_triggered_only = yes

	fire_only_once = yes

	option = { # yes
		name = lepaog.57.a
		add_political_power = -150
		AOG = {
			every_owned_state = {
				add_building_construction = {
					type = arms_factory
					level = 2
				}
			}
			add_manpower = 5000
		}
	}

}

country_event = { # von falkenhausen returns to duty
	id = lepaog.58
	immediate = { log = "[GetDateText]: [Root.GetName]: event lepaog.58" }
	title = lepaog.58.t
	desc = lepaog.58.d
	picture = GFX_report_event_GEA_falkenhausen

	is_triggered_only = yes

	fire_only_once = yes

	option = { # yes
		name = lepaog.58.a

		add_stability = 0.01
		LEP_remove_tsingtau_spirit = yes
		add_popularity = {
			ideology = market_liberal
			popularity = 0.0015
		}
		LEP_calculate_tsingtau_level = yes
		LEP_add_tsingtau_spirit = yes

		create_field_marshal = {
			name = "Alexander von Falkenhausen"
			portrait_path = "gfx/leaders/GEA/Portrait_GEA_Alexander_von_Falkenhausen.png"
			traits = {
				infantry_officer
				defensive_doctrine
			}
			skill = 3
			attack_skill = 2
			defense_skill = 3
			planning_skill = 3
			logistics_skill = 2
			id = 12045
		}
		hidden_effect = {
			LEP = { clr_country_flag = Alexander_von_Falkenhausen_dead }
			GEA = { set_country_flag = Alexander_von_Falkenhausen_dead }
			remove_ideas_with_trait = chief_of_army
		}
		add_ideas = LEP_Alexander_von_Falkenhausen_carm_mli

	}

}

country_event = {
	id = lepaog.59
	immediate = {log = "[GetDateText]: [Root.GetName]: event legcities.101"}
	title = lepaog.59.t
	desc = lepaog.59.d
	picture = GFX_report_event_LEG_red_revolt
	
	is_triggered_only = yes

	option = {
		name = lepaog.59.a
		ANQ = { release = CNH } 
		ANQ = { declare_war_on = {
				target = CNH
				type = annex_everything
				}
			}
		declare_war_on = {
				target = CNH
				type = annex_everything
			}
		release = CNH
		CNH = { add_state_core = 1044 }
		CNH = { add_state_core = 1064 }
		CNH = { add_state_core = 1065 }
		CNH = { add_state_core = 595 }
		CNH = { add_state_core = 613 }
		CNH = {
			 country_event = {
				id = lepaog.60
				days = 1
			}
		
		}
		
	}
	
	option = {
		name = lepaog.59.b
		delete_unit_template_and_units = {
				division_template = "Legation Volunteer Force"
				disband = yes #will refund equipment and manpower
			}
		delete_unit_template_and_units = {
				division_template = "Legation Volunteer Force"
				disband = yes #will refund equipment and manpower
			}
		release = CNH
		CNH = { add_state_core = 1044 }
		CNH = { add_state_core = 1064 }
		CNH = { add_state_core = 1065 }
		CNH = { add_state_core = 595 }
		CNH = { add_state_core = 613 }
		CNH = { add_state_core = 597 }
		
		CNH = {
			 country_event = {
				id = lepaog.60
				days = 1
			}
		
		}
		
	}
	
}

country_event = {
	id = lepaog.60
	immediate = {log = "[GetDateText]: [Root.GetName]: event legcities.101"}
	title = lepaog.60.t
	desc = lepaog.60.d
	picture = GFX_report_event_LEG_red_revolt
	
	is_triggered_only = yes

	option = {
		name = lepaog.60.a
		load_oob = "ANG_communist_revolt"
	}
	
}