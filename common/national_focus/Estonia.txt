###########################
# Estonian Focus Tree
# By Fort
# Revised by Alpinia
###########################

focus_tree = {
	id = Estonia_Focus

	country = {
		factor = 0
		modifier = {
			add = 10
			tag = EST
		}
	}

	default = no
	continuous_focus_position = { x = 1100 y = 1100 }

	focus = {
		id = EST_national_personal_autonomy
		icon = GFX_focus_generic_treaty
		x = 3
		y = 0
		cost = 6
		ai_will_do = {
			factor = 20
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_national_personal_autonomy"
			add_stability = 0.1
		}
	}
	focus = {
		id = EST_nationalizing_baltic_german_industry
		icon = GFX_goal_generic_seize_money
		relative_position_id = EST_national_personal_autonomy
		x = 2
		y = 0
		cost = 6
		ai_will_do = {
			factor = 20
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_nationalizing_baltic_german_industry"
			random_owned_controlled_state = {
				prioritize = { 13 }
				limit = {
					is_core_of = ROOT
					is_valid_state_for_development = yes
					free_building_slots = { building = industrial_complex size > 0 include_locked = yes }
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = EST_estonian_freedom
		icon = GFX_goal_EST_Estonian_Eagle_Focus
		relative_position_id = EST_nationalizing_baltic_german_industry
		x = 2
		y = 0
		cost = 6
		ai_will_do = {
			factor = 20
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_estonian_freedom"
			add_political_power = 100
			hidden_effect = {
				country_event = { id = KREST.5 days = 4 }
			}
		}
	}
	focus = {
		id = EST_omakaitse
		icon = GFX_goal_EST_defence_league
		cost = 8
		prerequisite = {
			focus = EST_national_personal_autonomy
		}
		prerequisite = {
			focus = EST_nationalizing_baltic_german_industry
		}
		prerequisite = {
			focus = EST_estonian_freedom
		}
		select_effect = {
			country_event = KREST.15
		}
		relative_position_id = EST_nationalizing_baltic_german_industry
		x = 0
		y = 1
		ai_will_do = {
			factor = 20
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_omakaitse"
			add_stability = 0.05
			add_manpower = 8000
			hidden_effect = { country_event = { id = KREST.90 days = 20 } }
		}
	}

	### Vapsid Tree ###
	focus = {
		id = EST_pursue_autarky
		icon = GFX_goal_manage_industries
		allow_branch = {
			has_government = paternal_autocrat
		}
		available = {
			has_government = paternal_autocrat
		}
		prerequisite = {
			focus = EST_omakaitse
		}
		x = -4
		y = 1
		relative_position_id = EST_omakaitse
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_pursue_autarky"
			EST_reduce_roads_to_riga = yes
			unlock_decision_tooltip = EST_industrial_investments_in_dorpat
		}
	}
	focus = {
		id = EST_banking_reform
		icon = GFX_goal_generic_banking_legislation
		available = {
			has_government = paternal_autocrat
		}
		prerequisite = {
			focus = EST_pursue_autarky
		}
		x = 0
		y = 1
		relative_position_id = EST_pursue_autarky
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_banking_reform"
			EST_reduce_roads_to_riga = yes
		}
	}
	focus = {
		id = EST_military_armaments_industry
		icon = GFX_goal_generic_construct_mil_factory
		available = {
			has_government = paternal_autocrat
		}
		prerequisite = {
			focus = EST_banking_reform
		}
		x = -1
		y = 1
		relative_position_id = EST_banking_reform
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_military_armaments_industry"
			EST_reduce_roads_to_riga = yes
			unlock_decision_tooltip = EST_expand_tallinn_arms_factories
		}
	}
	focus = {
		id = EST_oil_exploitation
		icon = GFX_goal_oil_derrick
		available = {
			has_government = paternal_autocrat
		}
		prerequisite = {
			focus = EST_military_armaments_industry
		}
		x = 0
		y = 1
		relative_position_id = EST_military_armaments_industry
		cost = 5
		ai_will_do = {
			factor = 8
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_oil_exploitation"
			set_country_flag = EST_oil_decisions_unlocked
			unlock_decision_tooltip = EST_kohtla_jarve_oil_shale
			unlock_decision_tooltip = EST_estlandiche_steinoil
			unlock_decision_tooltip = EST_heat_generation_power_plants
		}
	}
	focus = {
		id = EST_industrializing_tallinn
		icon = GFX_ITA_urban
		available = {
			has_government = paternal_autocrat
		}
		prerequisite = {
			focus = EST_banking_reform
		}
		x = 1
		y = 1
		relative_position_id = EST_banking_reform
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_industrializing_tallinn"
			EST_reduce_roads_to_riga = yes
			unlock_decision_tooltip = EST_industrial_investments_in_tallinn
			unlock_decision_tooltip = EST_industrial_investments_in_narva
			unlock_decision_tooltip = EST_urbanisation_initiative
		}
	}
	focus = {
		id = EST_agricultural_credit_programmes
		icon = GFX_goal_agricultural_aid
		allow_branch = {
			has_government = paternal_autocrat
		}
		available = {
			has_government = paternal_autocrat
		}
		prerequisite = {
			focus = EST_omakaitse
		}
		x = 0
		y = 1
		relative_position_id = EST_omakaitse
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_agricultural_credit_programmes"
			EST_reduce_agrarian_issue = yes
		}
	}
	focus = {
		id = EST_modern_farming_methods
		icon = GFX_goal_SZC_improvised_farming_machinery
		available = {
			has_government = paternal_autocrat
		}
		prerequisite = {
			focus = EST_agricultural_credit_programmes
		}
		x = -2
		y = 1
		relative_position_id = EST_agricultural_credit_programmes
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_develop_northern_livonia"
			EST_reduce_agrarian_issue = yes
			unlock_decision_tooltip = EST_rural_infrastructure_in_southern_estonia
		}
	}
	focus = {
		id = EST_encourage_communal_farming
		icon = GFX_focus_generic_agriculture
		available = {
			has_government = paternal_autocrat
		}
		prerequisite = {
			focus = EST_agricultural_credit_programmes
		}
		x = 0
		y = 1
		relative_position_id = EST_agricultural_credit_programmes
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_encourage_communal_farming"
			EST_reduce_agrarian_issue = yes
			unlock_decision_tooltip = EST_develop_communal_farming_in_livonia
		}
	}
	focus = {
		id = EST_rural_electrification
		icon = GFX_focus_generic_electricity
		available = {
			has_government = paternal_autocrat
		}
		prerequisite = {
			focus = EST_agricultural_credit_programmes
		}
		x = 2
		y = 1
		relative_position_id = EST_agricultural_credit_programmes
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_rural_electrification"
			EST_reduce_agrarian_issue = yes
			unlock_decision_tooltip = EST_rural_infrastructure_in_northern_estonia
		}
	}
	focus = {
		id = EST_mechanized_farming
		icon = GFX_goal_generic_agriculture2
		available = {
			has_government = paternal_autocrat
		}
		prerequisite = {
			focus = EST_modern_farming_methods
		}
		prerequisite = {
			focus = EST_encourage_communal_farming
		}
		prerequisite = {
			focus = EST_rural_electrification
		}
		x = 0
		y = 2
		relative_position_id = EST_agricultural_credit_programmes
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_mechanized_farming"
			EST_reduce_agrarian_issue = yes
			unlock_decision_tooltip = EST_expand_mechanisation_in_northern_estonia
			unlock_decision_tooltip = EST_expand_mechanisation_in_southern_estonia
		}
	}
	focus = {
		id = EST_expanding_university_tartu
		icon = GFX_goal_KTG_Bookstack
		available = {
			has_government = paternal_autocrat
		}
		prerequisite = {
			focus = EST_mechanized_farming
		}
		x = -1
		y = 1
		relative_position_id = EST_mechanized_farming
		cost = 8
		ai_will_do = {
			factor = 20
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_expanding_university_tartu"
			add_research_slot_until_five = yes
		}
	}
	focus = {
		id = EST_embrace_etatism
		icon = GFX_goal_state_economy
		available = {
			has_government = paternal_autocrat
			has_completed_focus = EST_oil_exploitation
			has_completed_focus = EST_industrializing_tallinn
		}
		prerequisite = {
			focus = EST_mechanized_farming
		}
		x = 1
		y = 1
		relative_position_id = EST_mechanized_farming
		cost = 7
		ai_will_do = {
			factor = 20
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_embrace_etatism"
			add_ideas = EST_etatism
		}
	}
	focus = {
		id = EST_expand_omakaitse
		icon = GFX_goal_secret_agents
		allow_branch = {
			has_government = paternal_autocrat
		}
		available = {
			has_government = paternal_autocrat
		}
		prerequisite = {
			focus = EST_omakaitse
		}
		x = 4
		y = 1
		relative_position_id = EST_omakaitse
		cost = 7
		ai_will_do = {
			factor = 8
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_expand_omakaitse"
			if = {
				limit = { has_dlc = "La Resistance" }
				if = {
					limit = { has_intelligence_agency = yes }
					if = {
						limit = { NOT = { has_done_agency_upgrade = upgrade_commando_training } }
						upgrade_intelligence_agency = upgrade_commando_training
					}
					if = {
						limit = { NOT = { has_done_agency_upgrade = upgrade_crypto_strength } }
						upgrade_intelligence_agency = upgrade_crypto_strength
					}
					if = {
						limit = { NOT = { has_done_agency_upgrade = upgrade_decryption_boost } }
						upgrade_intelligence_agency = upgrade_decryption_boost
					}
					if = {
						limit = {
							OR = {
								has_done_agency_upgrade = upgrade_commando_training
								has_done_agency_upgrade = upgrade_crypto_strength
								has_done_agency_upgrade = upgrade_decryption_boost
							}
							NOT = { has_done_agency_upgrade = upgrade_training_centers }
						}
						upgrade_intelligence_agency = upgrade_training_centers
					}
				}
				else = {
					create_intelligence_agency = yes
				}
			}
			else = {
				add_ideas = EST_expanded_omakaitse
			}
		}
	}
	focus = {
		id = EST_one_people
		icon = GFX_goal_conspiracy
		available = {
			has_government = paternal_autocrat
		}
		prerequisite = {
			focus = EST_expand_omakaitse
		}
		x = -1
		y = 2
		relative_position_id = EST_expand_omakaitse
		cost = 6
		ai_will_do = {
			factor = 8
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_one_people"
			add_stability = 0.1
			add_political_power = 100
		}
	}
	focus = {
		id = EST_welfare_state
		icon = GFX_goal_Winterhilfe
		available = {
			has_government = paternal_autocrat
		}
		prerequisite = {
			focus = EST_expand_omakaitse
		}
		x = 0
		y = 1
		relative_position_id = EST_expand_omakaitse
		cost = 6
		ai_will_do = {
			factor = 8
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_welfare_state"
			add_ideas = EST_social_welfare
		}
	}
	focus = {
		id = EST_crush_the_opposition
		icon = GFX_goal_purge_opposition
		available = {
			has_government = paternal_autocrat
		}
		prerequisite = {
			focus = EST_expand_omakaitse
		}
		x = 1
		y = 2
		relative_position_id = EST_expand_omakaitse
		cost = 6
		ai_will_do = {
			factor = 8
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_crush_the_opposition"
			swap_ruler_traits = {
				remove = EST_era_of_silence_1
				add = EST_era_of_silence_2
			}
		}
	}
	focus = {
		id = EST_the_vapsid_state
		icon = GFX_goal_generic_council
		available = {
			has_government = paternal_autocrat
		}
		prerequisite = {
			focus = EST_one_people
		}
		prerequisite = {
			focus = EST_welfare_state
		}
		prerequisite = {
			focus = EST_crush_the_opposition
		}
		x = 0
		y = 2
		relative_position_id = EST_welfare_state
		cost = 7
		ai_will_do = {
			factor = 8
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_the_vapsid_state"
			add_ideas = EST_nationalist_state_1
		}
	}
	focus = {
		id = EST_fatherland_united
		icon = GFX_goal_imperial_legacy
		available = {
			has_government = paternal_autocrat
		}
		prerequisite = {
			focus = EST_the_vapsid_state
		}
		x = -1
		y = 1
		relative_position_id = EST_the_vapsid_state
		cost = 7
		ai_will_do = {
			factor = 8
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_fatherland_united"
			if = {
				limit = { has_idea = EST_nationalist_state_3 }
				swap_ideas = {
					remove_idea = EST_nationalist_state_3
					add_idea = EST_nationalist_state_4
				}
			}
			else = {
				swap_ideas = {
					remove_idea = EST_nationalist_state_1
					add_idea = EST_nationalist_state_2
				}
			}
			add_popularity = {
				ideology = paternal_autocrat
				popularity = 0.2
			}
		}
	}
	focus = {
		id = EST_loyalty_to_the_state
		icon = GFX_goal_generic_paramilitary
		available = {
			has_government = paternal_autocrat
		}
		prerequisite = {
			focus = EST_the_vapsid_state
		}
		x = 1
		y = 1
		relative_position_id = EST_the_vapsid_state
		cost = 7
		ai_will_do = {
			factor = 8
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_loyalty_to_the_state"
			if = {
				limit = { has_idea = EST_nationalist_state_2 }
				swap_ideas = {
					remove_idea = EST_nationalist_state_2
					add_idea = EST_nationalist_state_4
				}
			}
			else = {
				swap_ideas = {
					remove_idea = EST_nationalist_state_1
					add_idea = EST_nationalist_state_3
				}
			}
		}
	}

	### Isamaaliit Tree ###
	focus = {
		id = EST_control_unions
		icon = GFX_goal_generic_union_agreement
		prerequisite = {
			focus = EST_omakaitse
		}
		allow_branch = {
			has_government = authoritarian_democrat
		}
		available = {
			has_government = authoritarian_democrat
		}
		x = -2
		y = 1
		relative_position_id = EST_omakaitse
		cost = 3
		ai_will_do = {
			factor = 20
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_control_unions"
			country_event = KREST.42
		}
	}
	focus = {
		id = EST_control_plutocrats
		icon = GFX_goal_generic_tackle_corruption
		prerequisite = {
			focus = EST_omakaitse
		}
		allow_branch = {
			has_government = authoritarian_democrat
		}
		available = {
			has_government = authoritarian_democrat
		}
		x = 2
		y = 0
		relative_position_id = EST_control_unions
		cost = 3
		ai_will_do = {
			factor = 20
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_control_plutocrats"
			country_event = KREST.43
		}
	}
	focus = {
		id = EST_reform_bureaucracy
		icon = GFX_goal_agency
		prerequisite = {
			focus = EST_omakaitse
		}
		allow_branch = {
			has_government = authoritarian_democrat
		}
		available = {
			has_government = authoritarian_democrat
		}
		x = 2
		y = 0
		relative_position_id = EST_control_plutocrats
		cost = 3
		ai_will_do = {
			factor = 20
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_reform_bureaucracy"
			country_event = KREST.44
		}
	}
	focus = {
		id = EST_corporatist_democracy
		icon = GFX_focus_generic_authoritarian_government
		available = {
			has_government = authoritarian_democrat
		}
		prerequisite = {
			focus = EST_control_unions
		}
		prerequisite = {
			focus = EST_control_plutocrats
		}
		prerequisite = {
			focus = EST_reform_bureaucracy
		}
		x = 0
		y = 1
		relative_position_id = EST_control_plutocrats
		cost = 3
		ai_will_do = {
			factor = 20
		}
		select_effect = {
			country_event = { id = KREST.45 days = 2 }
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_corporatist_democracy"
			add_ideas = EST_corporatism_1
		}
	}
	focus = {
		id = EST_disregard_deficit
		icon = GFX_goal_generic_loans
		available = {
			has_government = authoritarian_democrat
		}
		prerequisite = {
			focus = EST_corporatist_democracy
		}
		x = -3
		y = 1
		relative_position_id = EST_corporatist_democracy
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_disregard_deficit"
			if = {
				limit = { has_idea = EST_corporatism_3 }
				swap_ideas = {
					remove_idea = EST_corporatism_3
					add_idea = EST_corporatism_4
				}
			}
			else = {
				swap_ideas = {
					remove_idea = EST_corporatism_1
					add_idea = EST_corporatism_2
				}
			}
		}
	}
	focus = {
		id = EST_estonian_russian_trade
		icon = GFX_goal_RUS_flag
		available = {
			has_government = authoritarian_democrat
			country_exists = RUS
			NOT = {
				has_war_with = RUS
				RUS = { has_war_with = SOV }
			}
		}
		prerequisite = {
			focus = EST_disregard_deficit
		}
		mutually_exclusive = {
			focus = EST_extensive_tariffs
		}
		x = -2
		y = 1
		relative_position_id = EST_disregard_deficit
		cost = 7
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				RUS = { has_completed_focus = RUS_Expansionism }
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_estonian_russian_trade"
			RUS = { country_event = KREST.39 }
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = if_accepted
			effect_tooltip = { add_ideas = EST_russian_trade }
		}
	}
	focus = {
		id = EST_extensive_tariffs
		icon = GFX_goal_AST_new_markets
		available = {
			has_government = authoritarian_democrat
		}
		prerequisite = {
			focus = EST_disregard_deficit
		}
		mutually_exclusive = {
			focus = EST_estonian_russian_trade
		}
		x = 0
		y = 1
		relative_position_id = EST_disregard_deficit
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_extensive_tariffs"
			add_ideas = EST_state_tariffs
		}
	}
	focus = {
		id = EST_port_expansions
		icon = GFX_goal_generic_shipyard
		available = {
			has_government = authoritarian_democrat
			13 = { is_owned_and_controlled_by = ROOT }
		}
		prerequisite = {
			focus = EST_estonian_russian_trade
			focus = EST_extensive_tariffs
		}
		x = -1
		y = 2
		relative_position_id = EST_disregard_deficit
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_port_expansions"
			EST_reduce_roads_to_riga = yes
			13 = {
				add_building_construction = {
					type = naval_base
					level = 3
					instant_build = yes
					province = 3152
				}
			}
		}
	}
	focus = {
		id = EST_control_productive_forces
		icon = GFX_goal_manage_industries
		available = {
			has_government = authoritarian_democrat
		}
		prerequisite = {
			focus = EST_corporatist_democracy
		}
		x = 0
		y = 1
		relative_position_id = EST_corporatist_democracy
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_control_productive_forces"
			EST_reduce_roads_to_riga = yes
			unlock_decision_tooltip = EST_industrial_investments_in_dorpat
			unlock_decision_tooltip = EST_expand_tallinn_arms_factories
		}
	}
	focus = {
		id = EST_reforming_the_banks
		icon = GFX_goal_generic_banking_legislation
		available = {
			has_government = authoritarian_democrat
		}
		prerequisite = {
			focus = EST_control_productive_forces
		}
		x = -1
		y = 1
		relative_position_id = EST_control_productive_forces
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_reforming_the_banks"
			EST_reduce_roads_to_riga = yes
		}
	}
	focus = {
		id = EST_industrial_modernization_programs
		icon = GFX_ITA_urban
		available = {
			has_government = authoritarian_democrat
		}
		prerequisite = {
			focus = EST_reforming_the_banks
		}
		x = -1
		y = 1
		relative_position_id = EST_reforming_the_banks
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_industrial_modernization_programs"
			EST_reduce_roads_to_riga = yes
			unlock_decision_tooltip = EST_urbanisation_initiative
			unlock_decision_tooltip = EST_industrial_investments_in_tallinn
			unlock_decision_tooltip = EST_industrial_investments_in_narva
		}
	}
	focus = {
		id = EST_increase_production_quotas
		icon = GFX_goal_workers_for_business
		available = {
			has_government = authoritarian_democrat
		}
		prerequisite = {
			focus = EST_industrial_modernization_programs
		}
		x = 0
		y = 1
		relative_position_id = EST_industrial_modernization_programs
		cost = 7
		ai_will_do = {
			factor = 12
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_increase_production_quotas"
			if = {
				limit = { has_idea = EST_corporatism_2 }
				swap_ideas = {
					remove_idea = EST_corporatism_2
					add_idea = EST_corporatism_4
				}
			}
			else = {
				swap_ideas = {
					remove_idea = EST_corporatism_1
					add_idea = EST_corporatism_3
				}
			}

		}
	}
	focus = {
		id = EST_search_for_oil
		icon = GFX_goal_oil_derrick
		available = {
			has_government = authoritarian_democrat
		}
		prerequisite = {
			focus = EST_reforming_the_banks
		}
		x = 1
		y = 1
		relative_position_id = EST_reforming_the_banks
		cost = 5
		ai_will_do = {
			factor = 8
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_search_for_oil"
			set_country_flag = EST_oil_decisions_unlocked
			unlock_decision_tooltip = EST_kohtla_jarve_oil_shale
			unlock_decision_tooltip = EST_estlandiche_steinoil
			unlock_decision_tooltip = EST_heat_generation_power_plants
		}
	}
	focus = {
		id = EST_plough_shares_for_tractors
		icon = GFX_goal_generic_agriculture2
		available = {
			has_government = authoritarian_democrat
		}
		prerequisite = {
			focus = EST_control_productive_forces
		}
		x = 1
		y = 1
		relative_position_id = EST_control_productive_forces
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_plough_shares_for_tractors"
			EST_reduce_agrarian_issue = yes
		}
	}
	focus = {
		id = EST_grain_for_fatherland
		icon = GFX_focus_generic_agriculture
		available = {
			has_government = authoritarian_democrat
		}
		prerequisite = {
			focus = EST_plough_shares_for_tractors
		}
		x = 0
		y = 2
		relative_position_id = EST_plough_shares_for_tractors
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_grain_for_fatherland"
			EST_reduce_agrarian_issue = yes
		}
	}
	focus = {
		id = EST_pursuit_of_mechanization
		icon = GFX_goal_generic_mechanisation
		available = {
			has_government = authoritarian_democrat
		}
		prerequisite = {
			focus = EST_grain_for_fatherland
		}
		x = -2
		y = 1
		relative_position_id = EST_grain_for_fatherland
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_pursuit_of_mechanization"
			EST_reduce_agrarian_issue = yes
			unlock_decision_tooltip = EST_expand_mechanisation_in_northern_estonia
			unlock_decision_tooltip = EST_expand_mechanisation_in_southern_estonia
		}
	}
	focus = {
		id = EST_create_an_estonian_landowning_class
		icon = GFX_goal_generic_land_reform
		available = {
			has_government = authoritarian_democrat
		}
		prerequisite = {
			focus = EST_grain_for_fatherland
		}
		x = 0
		y = 1
		relative_position_id = EST_grain_for_fatherland
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_create_an_estonian_landowning_class"
			EST_reduce_agrarian_issue = yes
			unlock_decision_tooltip = EST_develop_communal_farming_in_livonia
		}
	}
	focus = {
		id = EST_expand_railways
		icon = GFX_goal_generic_railway_construction
		available = {
			has_government = authoritarian_democrat
		}
		prerequisite = {
			focus = EST_grain_for_fatherland
		}
		x = 2
		y = 1
		relative_position_id = EST_grain_for_fatherland
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_expand_railways"
			EST_reduce_agrarian_issue = yes
			unlock_decision_tooltip = EST_rural_infrastructure_in_northern_estonia
			unlock_decision_tooltip = EST_rural_infrastructure_in_southern_estonia
		}
	}
	focus = {
		id = EST_mass_censorship_laws
		icon = GFX_goal_generic_media_controls
		available = {
			has_government = authoritarian_democrat
		}
		prerequisite = {
			focus = EST_corporatist_democracy
		}
		x = 3
		y = 1
		relative_position_id = EST_corporatist_democracy
		cost = 6
		ai_will_do = {
			factor = 8
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_mass_censorship_laws"
			if = {
				limit = { has_dlc = "La Resistance" }
				add_ideas = EST_mass_censorship_lar
			}
			else = {
				add_ideas = EST_mass_censorship
			}
		}
	}
	focus = {
		id = EST_suppress_dissident_voices
		icon = GFX_goal_generic_imprison_people
		available = {
			has_government = authoritarian_democrat
		}
		prerequisite = {
			focus = EST_mass_censorship_laws
		}
		x = 0
		y = 1
		relative_position_id = EST_mass_censorship_laws
		cost = 6
		ai_will_do = {
			factor = 8
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_suppress_dissident_voices"
			add_stability = 0.05
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.2
			}
		}
	}
	focus = {
		id = EST_free_education
		icon = GFX_goal_KTG_Educate_natives
		available = {
			has_government = authoritarian_democrat
		}
		prerequisite = {
			focus = EST_mass_censorship_laws
		}
		x = -1
		y = 2
		relative_position_id = EST_mass_censorship_laws
		cost = 8
		ai_will_do = {
			factor = 20
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_free_education"
			add_research_slot_until_five = yes
		}
	}
	focus = {
		id = EST_seize_enemy_assets
		icon = GFX_goal_generic_seize_money
		available = {
			has_government = authoritarian_democrat
		}
		prerequisite = {
			focus = EST_mass_censorship_laws
		}
		x = 1
		y = 2
		relative_position_id = EST_mass_censorship_laws
		cost = 6
		ai_will_do = {
			factor = 8
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_seize_enemy_assets"
			add_political_power = 100
			add_stability = -0.05
		}
	}

	### Democratic Tree ###
	focus = {
		id = EST_draft_a_new_constitution
		icon = GFX_goal_constitutional_guarantees
		prerequisite = {
			focus = EST_omakaitse
		}
		allow_branch = {
			has_elected_government = yes
		}
		available = {
			has_elected_government = yes
		}
		select_effect = {
			set_country_flag = { flag = EST_liberal_constitution value = 0 }
			country_event = { id = KREST.46 days = 2 }
			country_event = { id = KREST.47 days = 9 }
			country_event = { id = KREST.48 days = 16 }
			country_event = { id = KREST.49 days = 28 }
		}
		x = -3
		y = 1
		relative_position_id = EST_omakaitse
		cost = 6
		ai_will_do = {
			factor = 20
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_draft_a_new_constitution"
			add_ideas = EST_constitution
		}
	}
	focus = {
		id = EST_popular_front
		icon = GFX_goal_Fight_for_Freedom
		available = {
			has_elected_government = yes
		}
		prerequisite = {
			focus = EST_draft_a_new_constitution
		}
		x = -1
		y = 1
		relative_position_id = EST_draft_a_new_constitution
		cost = 6
		ai_will_do = {
			factor = 12
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_popular_front"
			add_political_power = 75
			set_temp_variable = { ideology_change_var = 10 }
			change_ruling_party_popularity = yes
		}
	}
	focus = {
		id = EST_safeguard_democracy
		icon = GFX_goal_generic_stable_government
		available = {
			has_elected_government = yes
		}
		prerequisite = {
			focus = EST_draft_a_new_constitution
		}
		x = 1
		y = 1
		relative_position_id = EST_draft_a_new_constitution
		cost = 6
		ai_will_do = {
			factor = 12
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_safeguard_democracy"
			add_stability = 0.1
		}
	}
	focus = {
		id = EST_state_funded_education
		icon = GFX_goal_KTG_Bookstack
		available = {
			has_elected_government = yes
		}
		prerequisite = {
			focus = EST_popular_front
		}
		prerequisite = {
			focus = EST_safeguard_democracy
		}
		x = 0
		y = 2
		relative_position_id = EST_draft_a_new_constitution
		cost = 8
		ai_will_do = {
			factor = 20
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_state_funded_education"
			add_research_slot_until_five = yes
		}
	}
	focus = {
		id = EST_khutor_programme
		icon = GFX_goal_agricultural_policies
		allow_branch = {
			has_elected_government = yes
		}
		available = {
			has_elected_government = yes
		}
		prerequisite = {
			focus = EST_omakaitse
		}
		x = -1
		y = 1
		relative_position_id = EST_omakaitse
		cost = 6
		ai_will_do = {
			factor = 6
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_khutor_programme"
			random_owned_controlled_state = {
				prioritize = { 13 }
				limit = {
					is_core_of = ROOT
					is_valid_state_for_development = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			random_owned_controlled_state = {
				prioritize = { 191 }
				limit = {
					is_core_of = ROOT
					is_valid_state_for_development = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		}
	}
	focus = {
		id = EST_detente_with_germany
		icon = GFX_goal_COS_German_Bailout
		allow_branch = {
			has_elected_government = yes
		}
		available = {
			has_elected_government = yes
			is_in_faction = no
			NOT = { has_war_with = GER }
			GER = { is_faction_leader = yes }
		}
		bypass_if_unavailable = yes
		prerequisite = {
			focus = EST_omakaitse
		}
		x = 0
		y = 3
		relative_position_id = EST_omakaitse
		cost = 6
		ai_will_do = {
			factor = 12
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_detente_with_germany"
			GER = { country_event = KREST.36 }
		}
	}
	focus = {
		id = EST_help_struggling_farmers
		icon = GFX_goal_agricultural_aid
		available = {
			has_elected_government = yes
			OR = {
				NOT = { has_completed_focus = EST_diversify_our_industrial_base }
				EST_has_roads_to_riga = no
			}
		}
		prerequisite = {
			focus = EST_detente_with_germany
		}
		x = -1
		y = 1
		relative_position_id = EST_detente_with_germany
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_help_struggling_farmers"
			EST_reduce_agrarian_issue = yes
		}
	}
	focus = {
		id = EST_comprehensive_land_reform
		icon = GFX_focus_generic_agriculture
		available = {
			has_elected_government = yes
			OR = {
				NOT = { has_completed_focus = EST_diversify_our_industrial_base }
				EST_has_roads_to_riga = no
			}
		}
		prerequisite = {
			focus = EST_help_struggling_farmers
		}
		x = -2
		y = 1
		relative_position_id = EST_help_struggling_farmers
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_comprehensive_land_reform"
			EST_reduce_agrarian_issue = yes
			add_ideas = EST_land_reform_1
			custom_effect_tooltip = tooltip_white_line
			unlock_decision_tooltip = EST_rural_infrastructure_in_northern_estonia
			unlock_decision_tooltip = EST_rural_infrastructure_in_southern_estonia
		}
	}
	focus = {
		id = EST_compromise_with_the_landowners
		icon = GFX_goal_generic_government_deals
		available = {
			has_elected_government = yes
			has_completed_focus = EST_draft_a_new_constitution
			OR = {
				NOT = { has_completed_focus = EST_diversify_our_industrial_base }
				EST_has_roads_to_riga = no
			}
		}
		prerequisite = {
			focus = EST_comprehensive_land_reform
		}
		mutually_exclusive = {
			focus = EST_land_redistribution
		}
		x = -1
		y = 1
		relative_position_id = EST_comprehensive_land_reform
		cost = 7
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = social_democrat
					has_government = social_liberal
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_compromise_with_the_landowners"
			EST_reduce_agrarian_issue = yes
			swap_ideas = {
				remove_idea = EST_land_reform_1
				add_idea = EST_land_reform_2
			}
			if = {
				limit = {
					OR = {
						has_government = social_democrat
						has_government = social_liberal
					}
				}
				custom_effect_tooltip = EST_against_government_policy
				add_political_power = -75
				set_temp_variable = { ideology_change_var = -10 }
				change_ruling_party_popularity = yes
			}
		}
	}
	focus = {
		id = EST_land_redistribution
		icon = GFX_goal_OTT_Land_Reform
		available = {
			has_elected_government = yes
			has_completed_focus = EST_draft_a_new_constitution
			OR = {
				NOT = { has_completed_focus = EST_diversify_our_industrial_base }
				EST_has_roads_to_riga = no
			}
		}
		prerequisite = {
			focus = EST_comprehensive_land_reform
		}
		mutually_exclusive = {
			focus = EST_compromise_with_the_landowners
		}
		x = 1
		y = 1
		relative_position_id = EST_comprehensive_land_reform
		cost = 7
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				NOT = {
					has_government = social_democrat
					has_government = social_liberal
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_land_redistribution"
			EST_reduce_agrarian_issue = yes
			swap_ideas = {
				remove_idea = EST_land_reform_1
				add_idea = EST_land_reform_3
			}
			if = {
				limit = {
					OR = {
						has_government = social_conservative
						has_government = market_liberal
					}
				}
				custom_effect_tooltip = EST_against_government_policy
				add_political_power = -75
				set_temp_variable = { ideology_change_var = -10 }
				change_ruling_party_popularity = yes
			}
		}
	}
	focus = {
		id = EST_mechanised_farming
		icon = GFX_goal_generic_agriculture2
		available = {
			has_elected_government = yes
			OR = {
				NOT = { has_completed_focus = EST_diversify_our_industrial_base }
				EST_has_roads_to_riga = no
			}
		}
		prerequisite = {
			focus = EST_help_struggling_farmers
		}
		x = 0
		y = 1
		relative_position_id = EST_help_struggling_farmers
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_mechanised_farming"
			EST_reduce_agrarian_issue = yes
			unlock_decision_tooltip = EST_expand_mechanisation_in_northern_estonia
			unlock_decision_tooltip = EST_expand_mechanisation_in_southern_estonia
		}
	}
	focus = {
		id = EST_communal_farms
		icon = GFX_focus_AUS_agriculture
		available = {
			has_elected_government = yes
			OR = {
				NOT = { has_completed_focus = EST_diversify_our_industrial_base }
				EST_has_roads_to_riga = no
			}
		}
		prerequisite = {
			focus = EST_help_struggling_farmers
		}
		x = 1
		y = 2
		relative_position_id = EST_help_struggling_farmers
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_communal_farms"
			EST_reduce_agrarian_issue = yes
			unlock_decision_tooltip = EST_develop_communal_farming_in_livonia
		}
	}
	focus = {
		id = EST_diversify_our_industrial_base
		icon = GFX_goal_factory_complex
		available = {
			has_elected_government = yes
			OR = {
				NOT = { has_completed_focus = EST_help_struggling_farmers }
				EST_has_agrarian_issue = no
			}
		}
		prerequisite = {
			focus = EST_detente_with_germany
		}
		x = 2
		y = 1
		relative_position_id = EST_detente_with_germany
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_diversify_our_industrial_base"
			EST_reduce_roads_to_riga = yes
		}
	}
	focus = {
		id = EST_introduce_the_kroon
		icon = GFX_goal_generic_cash_stimulus_plan
		available = {
			has_elected_government = yes
			OR = {
				NOT = { has_completed_focus = EST_help_struggling_farmers }
				EST_has_agrarian_issue = no
			}
		}
		prerequisite = {
			focus = EST_diversify_our_industrial_base
		}
		x = -1
		y = 1
		relative_position_id = EST_diversify_our_industrial_base
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_introduce_the_kroon"
			EST_reduce_roads_to_riga = yes
		}
	}
	focus = {
		id = EST_seek_foreign_investments
		icon = GFX_focus_mex_privatisation
		available = {
			has_elected_government = yes
			OR = {
				NOT = { has_completed_focus = EST_help_struggling_farmers }
				EST_has_agrarian_issue = no
			}
		}
		prerequisite = {
			focus = EST_diversify_our_industrial_base
		}
		x = 1
		y = 1
		relative_position_id = EST_diversify_our_industrial_base
		cost = 7
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_seek_foreign_investments"
			EST_reduce_roads_to_riga = yes
		}
	}
	focus = {
		id = EST_the_three_year_plan
		icon = GFX_goal_generic_improve_industry
		available = {
			has_elected_government = yes
			OR = {
				NOT = { has_completed_focus = EST_help_struggling_farmers }
				EST_has_agrarian_issue = no
			}
		}
		prerequisite = {
			focus = EST_introduce_the_kroon
		}
		prerequisite = {
			focus = EST_seek_foreign_investments
		}
		x = 0
		y = 2
		relative_position_id = EST_diversify_our_industrial_base
		cost = 7
		ai_will_do = {
			factor = 12
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_the_three_year_plan"
			EST_reduce_roads_to_riga = yes
			activate_mission = EST_three_year_plan_mission
			custom_effect_tooltip = tooltip_white_line
			unlock_decision_tooltip = EST_industrial_investments_in_tallinn
			unlock_decision_tooltip = EST_industrial_investments_in_narva
			unlock_decision_tooltip = EST_industrial_investments_in_dorpat
			unlock_decision_tooltip = EST_expand_tallinn_arms_factories
			unlock_decision_tooltip = EST_urbanisation_initiative
		}
	}
	focus = {
		id = EST_a_baltic_trade_hub
		icon = GFX_goal_generic_positive_trade_relations_gold
		available = {
			has_elected_government = yes
			EST_has_agrarian_issue = no
			EST_has_roads_to_riga = no
		}
		prerequisite = {
			focus = EST_communal_farms
			focus = EST_the_three_year_plan
		}
		x = 1
		y = 1
		relative_position_id = EST_communal_farms
		cost = 7
		ai_will_do = {
			factor = 12
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_a_baltic_trade_hub"
			add_ideas = EST_baltic_trade_hub
		}
	}
	focus = {
		id = EST_oil_investments
		icon = GFX_goal_oil_derrick
		allow_branch = {
			has_elected_government = yes
		}
		available = {
			has_elected_government = yes
		}
		prerequisite = {
			focus = EST_omakaitse
		}
		x = 1
		y = 1
		relative_position_id = EST_omakaitse
		cost = 5
		ai_will_do = {
			factor = 8
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_oil_investments"
			set_country_flag = EST_oil_decisions_unlocked
			unlock_decision_tooltip = EST_kohtla_jarve_oil_shale
			unlock_decision_tooltip = EST_estlandiche_steinoil
			unlock_decision_tooltip = EST_heat_generation_power_plants
		}
	}
	focus = {
		id = EST_new_refineries
		icon = GFX_goal_basic_oil
		available = {
			has_tech = fuel_silos
			has_elected_government = yes
		}
		prerequisite = {
			focus = EST_oil_investments
		}
		x = 0
		y = 1
		relative_position_id = EST_oil_investments
		cost = 7
		ai_will_do = {
			factor = 8
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_build_new_storage"
			if = {
				limit = { NOT = { has_tech = synth_oil_experiments } }
				set_technology = { synth_oil_experiments = 1 }
			}
			else = {
				add_tech_bonus = {
					name = EST_new_refineries
					bonus = 1
					uses = 1
					category = synth_resources
				}
			}
			13 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
		}
	}

	### Military Tree ###
	focus = {
		id = EST_planned_defences
		icon = GFX_goal_generic_army_grand_battleplan
		mutually_exclusive = {
			focus = EST_the_forest_brothers_legacy
		}
		offset = {
			x = 3
			trigger = { has_government = paternal_autocrat }
		}
		offset = {
			x = 1
			trigger = { has_government = authoritarian_democrat }
		}
		x = 11
		y = 0
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_planned_defences"
			add_ideas = EST_defensive_planning_1
		}
	}
	focus = {
		id = EST_a_plan_for_every_scenario
		icon = GFX_goal_planning_bonus
		prerequisite = {
			focus = EST_planned_defences
		}
		relative_position_id = EST_planned_defences
		x = -1
		y = 1
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_a_plan_for_every_scenario"
			swap_ideas = {
				remove_idea = EST_defensive_planning_1
				add_idea = EST_defensive_planning_2
			}
			add_tech_bonus = {
				name = EST_a_plan_for_every_scenario
				bonus = 0.75
				uses = 2
				category = land_doctrine
			}
		}
	}
	focus = {
		id = EST_army_manuals
		icon = GFX_focus_chi_army_reform
		prerequisite = {
			focus = EST_a_plan_for_every_scenario
		}
		relative_position_id = EST_a_plan_for_every_scenario
		x = -1
		y = 1
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_army_manuals"
			if = {
				limit = { has_idea = EST_defensive_planning_5 }
				swap_ideas = {
					remove_idea = EST_defensive_planning_5
					add_idea = EST_defensive_planning_6
				}
			}
			else = {
				swap_ideas = {
					remove_idea = EST_defensive_planning_2
					add_idea = EST_defensive_planning_3
				}
			}
			army_experience = 25
		}
	}
	focus = {
		id = EST_improved_communications
		icon = GFX_focus_generic_radio_equipment
		prerequisite = {
			focus = EST_army_manuals
		}
		relative_position_id = EST_army_manuals
		x = 0
		y = 1
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_improved_communications"
			if = {
				limit = { has_idea = EST_defensive_planning_6 }
				swap_ideas = {
					remove_idea = EST_defensive_planning_6
					add_idea = EST_defensive_planning_7
				}
			}
			else = {
				swap_ideas = {
					remove_idea = EST_defensive_planning_3
					add_idea = EST_defensive_planning_4
				}
			}
			if = {
				limit = { NOT = { has_tech = radio } }
				set_technology = { radio = 1 }
			}
			else = {
				add_tech_bonus = {
					name = EST_industrial_mobilisation
					bonus = 1
					uses = 1
					category = electronics
				}
			}
		}
	}
	focus = {
		id = EST_army_logistics
		icon = GFX_goal_generic_seize_railway
		prerequisite = {
			focus = EST_a_plan_for_every_scenario
		}
		relative_position_id = EST_a_plan_for_every_scenario
		x = 1
		y = 1
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_army_logistics"
			if = {
				limit = { has_idea = EST_defensive_planning_3 }
				swap_ideas = {
					remove_idea = EST_defensive_planning_3
					add_idea = EST_defensive_planning_6
				}
			}
			if = {
				limit = { has_idea = EST_defensive_planning_4 }
				swap_ideas = {
					remove_idea = EST_defensive_planning_4
					add_idea = EST_defensive_planning_7
				}
			}
			else = {
				swap_ideas = {
					remove_idea = EST_defensive_planning_2
					add_idea = EST_defensive_planning_5
				}
			}
		}
	}
	focus = {
		id = EST_expand_the_engineer_corps
		icon = GFX_goal_generic_construction2
		prerequisite = {
			focus = EST_planned_defences
		}
		relative_position_id = EST_planned_defences
		x = 1
		y = 1
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_expand_the_engineer_corps"
			custom_effect_tooltip = expanded_engineer_corps_tech_effect
			hidden_effect = {
				set_technology = { expanded_engineer_corps_tech = 1 popup = no }
			}
		}
	}
	focus = {
		id = EST_industrial_mobilisation
		icon = GFX_goal_generic_improve_industry
		prerequisite = {
			focus = EST_expand_the_engineer_corps
			focus = EST_integrate_the_omakaitse
		}
		relative_position_id = EST_planned_defences
		x = 2
		y = 2
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_industrial_mobilisation"
			add_ideas = EST_industrial_mobilisation_1
			add_tech_bonus = {
				name = EST_industrial_mobilisation
				bonus = 1
				uses = 1
				category = industry
			}
		}
	}
	focus = {
		id = EST_new_rifle_designs
		icon = GFX_goal_military_academy
		prerequisite = {
			focus = EST_industrial_mobilisation
		}
		relative_position_id = EST_industrial_mobilisation
		x = -1
		y = 1
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_new_rifle_designs"
			add_tech_bonus = {
				name = EST_new_rifle_designs
				bonus = 1
				uses = 2
				category = infantry_weapons
			}
		}
	}
	focus = {
		id = EST_dedicated_support_battalions
		icon = GFX_goal_generic_support_equipment
		prerequisite = {
			focus = EST_new_rifle_designs
		}
		relative_position_id = EST_new_rifle_designs
		x = -1
		y = 1
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_new_rifle_designs"
			add_tech_bonus = {
				name = EST_dedicated_support_battalions
				bonus = 1
				uses = 3
				category = support_tech
			}
		}
	}
	focus = {
		id = EST_womens_support_units
		icon = GFX_focus_generic_female_soldiers
		prerequisite = {
			focus = EST_dedicated_support_battalions
		}
		relative_position_id = EST_dedicated_support_battalions
		x = 0
		y = 1
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_womens_support_units"
			add_ideas = EST_womens_support_units
		}
	}
	focus = {
		id = EST_standardise_weapon_assembly_lines
		icon = GFX_goal_munitions_factories
		prerequisite = {
			focus = EST_industrial_mobilisation
		}
		relative_position_id = EST_industrial_mobilisation
		x = 1
		y = 1
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_standardise_weapon_assembly_lines"
			swap_ideas = {
				remove_idea = EST_industrial_mobilisation_1
				add_idea = EST_industrial_mobilisation_2
			}
		}
	}
	focus = {
		id = EST_artillery_advancements
		icon = GFX_goal_GEO_Artillery_Tactics
		prerequisite = {
			focus = EST_new_rifle_designs
			focus = EST_standardise_weapon_assembly_lines
		}
		relative_position_id = EST_standardise_weapon_assembly_lines
		x = -1
		y = 1
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_artillery_advancements"
			add_tech_bonus = {
				name = EST_dedicated_support_battalions
				bonus = 1
				uses = 2
				category = artillery
			}
		}
	}
	focus = {
		id = EST_create_an_estonian_air_force
		icon = GFX_goal_EST_air_force
		prerequisite = {
			focus = EST_standardise_weapon_assembly_lines
		}
		relative_position_id = EST_standardise_weapon_assembly_lines
		x = 0
		y = 2
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_create_an_estonian_air_force"
			air_experience = 40
		}
	}
	focus = {
		id = EST_hire_foreign_instructors
		icon = GFX_focus_generic_military_academy
		prerequisite = {
			focus = EST_create_an_estonian_air_force
		}
		relative_position_id = EST_create_an_estonian_air_force
		x = -1
		y = 1
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_hire_foreign_instructors"
			add_tech_bonus = {
				name = EST_hire_foreign_instructors
				bonus = 1
				uses = 2
				category = air_doctrine
			}
		}
	}
	focus = {
		id = EST_acquire_blueprints
		icon = GFX_goal_EST_Aviotehas_FF
		prerequisite = {
			focus = EST_create_an_estonian_air_force
		}
		relative_position_id = EST_create_an_estonian_air_force
		x = 1
		y = 1
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_acquire_blueprints"
			add_tech_bonus = {
				name = EST_acquire_blueprints
				bonus = 1
				uses = 1
				category = light_fighter
			}
			add_tech_bonus = {
				name = EST_acquire_blueprints
				bonus = 1
				uses = 1
				category = cas_bomber
			}
		}
	}
	focus = {
		id = EST_begin_aircraft_production
		icon = GFX_goal_EST_Aviotehas_PN3_1
		prerequisite = {
			focus = EST_acquire_blueprints
		}
		relative_position_id = EST_acquire_blueprints
		x = 0
		y = 1
		cost = 7
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_begin_aircraft_production"
			random_owned_controlled_state = {
				prioritize = { 13 }
				limit = {
					is_core_of = ROOT
					is_valid_state_for_development = yes
					free_building_slots = { building = arms_factory size > 0 include_locked = yes }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = EST_study_tank_designs
		icon = GFX_goal_generic_heavy_armour_russian
		prerequisite = {
			focus = EST_standardise_weapon_assembly_lines
		}
		relative_position_id = EST_standardise_weapon_assembly_lines
		x = 1
		y = 1
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_study_tank_designs"
			add_tech_bonus = {
				name = EST_acquire_blueprints
				bonus = 0.75
				uses = 2
				category = armor
			}
		}
	}
	focus = {
		id = EST_form_the_coast_guard
		icon = GFX_goal_EST_navy
		prerequisite = {
			focus = EST_standardise_weapon_assembly_lines
		}
		relative_position_id = EST_standardise_weapon_assembly_lines
		x = 3
		y = 1
		cost = 6
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_form_the_coast_guard"
			navy_experience = 40
		}
	}
	focus = {
		id = EST_new_ship_designs
		icon = GFX_goal_generic_design_equipment_standards
		prerequisite = {
			focus = EST_form_the_coast_guard
		}
		relative_position_id = EST_form_the_coast_guard
		x = -1
		y = 1
		cost = 6
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_new_ship_designs"
			add_tech_bonus = {
				name = EST_new_ship_designs
				bonus = 1
				uses = 2
				category = dd_tech
				category = ss_tech
			}
		}
	}
	focus = {
		id = EST_reopen_the_tallinn_shipyards
		icon = GFX_goal_generic_naval_fleet_in_being
		prerequisite = {
			focus = EST_form_the_coast_guard
		}
		relative_position_id = EST_form_the_coast_guard
		x = 1
		y = 1
		cost = 6
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_reopen_the_tallinn_shipyards"
			random_owned_controlled_state = {
				prioritize = { 13 }
				limit = {
					is_core_of = ROOT
					is_valid_state_for_development = yes
					free_building_slots = { building = dockyard size > 0 include_locked = yes }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = EST_train_our_sailors
		icon = GFX_goal_navy_hat_ships
		prerequisite = {
			focus = EST_new_ship_designs
		}
		prerequisite = {
			focus = EST_reopen_the_tallinn_shipyards
		}
		relative_position_id = EST_form_the_coast_guard
		x = 0
		y = 2
		cost = 6
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_train_our_sailors"
			add_tech_bonus = {
				name = EST_train_our_sailors
				bonus = 1
				uses = 2
				category = naval_doctrine
			}
		}
	}
	focus = {
		id = EST_the_forest_brothers_legacy
		icon = GFX_goal_trees
		mutually_exclusive = {
			focus = EST_planned_defences
		}
		relative_position_id = EST_planned_defences
		x = 4
		y = 0
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_the_forest_brothers_legacy"
			add_ideas = EST_legacy_of_the_forest_brothers_1
			army_experience = 25
		}
	}
	focus = {
		id = EST_integrate_the_omakaitse
		icon = GFX_goal_EST_defence_league
		prerequisite = {
			focus = EST_the_forest_brothers_legacy
		}
		relative_position_id = EST_the_forest_brothers_legacy
		x = 2
		y = 1
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_integrate_the_omakaitse"
			swap_ideas = {
				remove_idea = EST_legacy_of_the_forest_brothers_1
				add_idea = EST_legacy_of_the_forest_brothers_2
			}
			custom_effect_tooltip = improved_recon_units_tech_effect
			hidden_effect = {
				set_technology = { improved_recon_units_tech = 1 popup = no }
			}
		}
	}
	focus = {
		id = EST_citizen_guards
		icon = GFX_EGY_Palestine_Defence
		prerequisite = {
			focus = EST_integrate_the_omakaitse
		}
		relative_position_id = EST_integrate_the_omakaitse
		x = -2
		y = 1
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_citizen_guards"
			if = { #has tactics
				limit = { has_idea = EST_legacy_of_the_forest_brothers_4 }
				swap_ideas = {
					remove_idea = EST_legacy_of_the_forest_brothers_4
					add_idea = EST_legacy_of_the_forest_brothers_6
				}
			}
			else_if = { #has caches
				limit = { has_idea = EST_legacy_of_the_forest_brothers_5 }
				swap_ideas = {
					remove_idea = EST_legacy_of_the_forest_brothers_5
					add_idea = EST_legacy_of_the_forest_brothers_7
				}
			}
			else_if = { #has tactics + caches
				limit = { has_idea = EST_legacy_of_the_forest_brothers_8 }
				swap_ideas = {
					remove_idea = EST_legacy_of_the_forest_brothers_8
					add_idea = EST_legacy_of_the_forest_brothers_9
				}
			}
			else = {
				swap_ideas = {
					remove_idea = EST_legacy_of_the_forest_brothers_2
					add_idea = EST_legacy_of_the_forest_brothers_3
				}
			}
		}
	}
	focus = {
		id = EST_hit_and_run_tactics
		icon = GFX_focus_prc_infiltration
		prerequisite = {
			focus = EST_integrate_the_omakaitse
		}
		relative_position_id = EST_integrate_the_omakaitse
		x = 0
		y = 1
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_hit_and_run_tactics"
			if = { #has guards
				limit = { has_idea = EST_legacy_of_the_forest_brothers_3 }
				swap_ideas = {
					remove_idea = EST_legacy_of_the_forest_brothers_3
					add_idea = EST_legacy_of_the_forest_brothers_6
				}
			}
			else_if = { #has caches
				limit = { has_idea = EST_legacy_of_the_forest_brothers_5 }
				swap_ideas = {
					remove_idea = EST_legacy_of_the_forest_brothers_5
					add_idea = EST_legacy_of_the_forest_brothers_8
				}
			}
			else_if = { #has guards + caches
				limit = { has_idea = EST_legacy_of_the_forest_brothers_7 }
				swap_ideas = {
					remove_idea = EST_legacy_of_the_forest_brothers_7
					add_idea = EST_legacy_of_the_forest_brothers_9
				}
			}
			else = {
				swap_ideas = {
					remove_idea = EST_legacy_of_the_forest_brothers_2
					add_idea = EST_legacy_of_the_forest_brothers_4
				}
			}
			add_tech_bonus = {
				name = EST_a_plan_for_every_scenario
				bonus = 0.75
				uses = 2
				category = land_doctrine
			}
		}
	}
	focus = {
		id = EST_hidden_supply_caches
		icon = GFX_focus_generic_military_equipment
		prerequisite = {
			focus = EST_integrate_the_omakaitse
		}
		relative_position_id = EST_integrate_the_omakaitse
		x = 2
		y = 1
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_hidden_supply_caches"
			if = { #has guards
				limit = { has_idea = EST_legacy_of_the_forest_brothers_3 }
				swap_ideas = {
					remove_idea = EST_legacy_of_the_forest_brothers_3
					add_idea = EST_legacy_of_the_forest_brothers_7
				}
			}
			else_if = { #has tactics
				limit = { has_idea = EST_legacy_of_the_forest_brothers_4 }
				swap_ideas = {
					remove_idea = EST_legacy_of_the_forest_brothers_4
					add_idea = EST_legacy_of_the_forest_brothers_8
				}
			}
			else_if = { #has guards + tactics
				limit = { has_idea = EST_legacy_of_the_forest_brothers_6 }
				swap_ideas = {
					remove_idea = EST_legacy_of_the_forest_brothers_6
					add_idea = EST_legacy_of_the_forest_brothers_9
				}
			}
			else = {
				swap_ideas = {
					remove_idea = EST_legacy_of_the_forest_brothers_2
					add_idea = EST_legacy_of_the_forest_brothers_5
				}
			}
		}
	}
	focus = {
		id = EST_never_surrender
		icon = GFX_goal_flames_of_rebellion
		prerequisite = {
			focus = EST_citizen_guards
		}
		prerequisite = {
			focus = EST_hit_and_run_tactics
		}
		prerequisite = {
			focus = EST_hidden_supply_caches
		}
		relative_position_id = EST_hit_and_run_tactics
		x = 0
		y = 1
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus EST_never_surrender"
			swap_ideas = {
				remove_idea = EST_legacy_of_the_forest_brothers_9
				add_idea = EST_legacy_of_the_forest_brothers_10
			}
		}
	}
}

