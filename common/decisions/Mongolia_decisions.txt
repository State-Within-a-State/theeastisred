###########################################
# Mongolia decisions by a Cunt
###########################################

MON_dissident_decisions = {

    MON_deal_with_Ja ={
	    icon = decision_category_generic_political_actions
		
		allowed = {
			tag = MON
		}

		available = {
			is_subject = no
		}

		visible = {
			tag = MON
			has_completed_focus = MON_form_the_mongolian_empire
			has_country_flag = Gengis_Khan_II_HoS
		
		}
		fire_only_once = yes
		cost = 25

		ai_will_do = {
			factor = 5
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MON_deal_with_Ja"
			country_event = { id = mongolia.105 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove MON_deal_with_Ja"
		}
    }

    MON_deal_with_Ja1 ={
	    icon = decision_category_generic_political_actions
		
		allowed = {
			tag = MON
		}

		available = {
			is_subject = no
		}

		visible = {
			tag = MON
			has_completed_focus = MON_form_the_mongolian_empire
			has_country_flag = MON_sane
		
		}
		fire_only_once = yes
		cost = 25

		ai_will_do = {
			factor = 5
			}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MON_deal_with_Ja1"
			country_event = { id = mongolia.103 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove MON_deal_with_Ja1"
		}
    }

	MON_Gada_strikes ={
	    icon = decision_category_generic_crisis
		
		allowed = {
			tag = MON
		}

		available = {
			is_subject = no
		}

		visible = {
			tag = MON
			has_completed_focus = MON_form_the_mongolian_empire
		
		}
		fire_only_once = yes
		cost = 25

		ai_will_do = {
			factor = 5
			}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MON_Gada_strikes"
			country_event = { id = mongolia.106 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove MON_Gada_strikes"
		}
    }
}

MON_nuclear_decisions={
    MON_recruit_nuclear ={
	    icon = GFX_decision_cat_generic_nuclear
		
		allowed = {
			tag = MON
		}

		available = {
			is_subject = no
		}

		visible = {
		    tag = MON
			743 = {
                OR = {
                    is_owned_by = MON
                    any_country = { is_subject_of = MON }
                }
			}
			608 = {
                OR = {
                    is_owned_by = MON
                    any_country = { is_subject_of = MON }
                }
			}
			592 = {
                OR = {
                    is_owned_by = MON
                    any_country = { is_subject_of = MON }
                }
			}
			613 = {
                OR = {
                    is_owned_by = MON
                    any_country = { is_subject_of = MON }
                }
			}
			325 = {
                OR = {
                    is_owned_by = MON
                    any_country = { is_subject_of = MON }
                }
			}
			605 = {
                OR = {
                    is_owned_by = MON
                    any_country = { is_subject_of = MON }
                }
			}
		}	
		fire_only_once = yes
		cost = 50

		ai_will_do = {
			factor = 5
			
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MON_recruit_nuclear"
			add_tech_bonus = {
                bonus = 0.5
                uses = 2
                category = nuclear
			}
	    }
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove MON_recruit_nuclear"
		}
	}
}

MON_country_formation_decisions = { ###This is completly fucking retarded

	MON_budhi_king = {
	    icon = GFX_decision_hol_draw_up_staff_plans
		
		available = {
			is_subject = no
			owns_state = 604
            owns_state = 608
			owns_state = 1048
		}
		
		visible = {
		    has_country_flag = religious_control
		}
		
		fire_only_once = yes
		cost = 50

		ai_will_do = {
			factor = 5
			
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MON_budhi_king"
			country_event = { id = mongolia.138 }
			country_event = {
				id = mon.412
				days = 4
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove MON_budhi_king"
		}
	}

    MON_Yuan = {
	    icon = GFX_decision_hol_draw_up_staff_plans
		
		available = {
			is_subject = no
			owns_state = 604
			owns_state = 608
			owns_state = 592
			owns_state = 613
			owns_state = 609
			owns_state = 1048
		}
		visible = {
		    OR = {
				has_country_flag = Ja_Lama_control
				has_country_flag = Ja_Lama_control1
			}
		}
		
		fire_only_once = yes
		cost = 50

		ai_will_do = {
			factor = 5
			
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MON_Yuan"
			country_event = { id = mongolia.143 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove MON_Yuan"
		}
	}
}

MON_foreign_policy_decisions = {

	MON_did_you_forget_about_me = { #finally Mongolia won't forget ETS exists
		icon = generic_prepare_civil_war

		visible = {
			ETS = {
				exists = yes
				NOT = { is_subject_of = MON }
			}
			NOT = { is_in_faction_with = ETS }
			NOT = { has_war_with = ETS }
			NOT = { is_subject_of = ETS }
			has_completed_focus = MON_mongol_minority_in_xibei
			custom_trigger_tooltip = {
				tooltip = MON_sternberg_tooltip
				MON_sternberg_in_power = yes
			}
		}

		targets = { ETS }
		target_root_trigger = {
			has_completed_focus = MON_mongol_minority_in_xibei
		}
		target_trigger = {
			can_declare_war_on = FROM
		}

		fire_only_once = yes
		cost = 5
		days_remove = 14

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				strength_ratio = {
					tag = FROM
					ratio < 0.7
				}
			}
		}

		remove_effect = {
			ETS = {
				country_event = {
					id = mongolia.6
				}
			}
		}
	}
	
	MON_invade_china = { #catch all decision for invading China
		icon = generic_prepare_civil_war

		visible = {
			has_completed_focus = MON_claim_yuan
			custom_trigger_tooltip = {
				tooltip = MON_sternberg_tooltip
				MON_sternberg_in_power = yes
			}
			FROM = {
				exists = yes
				NOT = { is_subject_of = ROOT }
				any_neighbor_country = {
					OR = {
						tag = MON
						is_subject_of = MON
						is_in_faction_with = MON
					}
				}
			}
		}
		target_root_trigger = {
			has_completed_focus = MON_claim_yuan
			NOT = { is_in_faction_with = FROM }
			NOT = { has_war_with = FROM }
			NOT = { is_subject_of = FROM }
		}
		target_trigger = {
			can_declare_war_on = FROM
			FROM = {
				exists = yes
				NOT = { is_subject_of = ROOT }
				any_neighbor_country = {
					OR = {
						tag = MON
						is_subject_of = MON
						is_in_faction_with = MON
					}
				}
				OR = {
					tag = LEP
					tag = QIE
					tag = CHI
					tag = ANQ
					tag = HNN
					tag = GXC
					tag = YUN
					tag = SZC
					tag = SHX
					tag = SQI
					tag = PRC
					tag = FNG
				}
			}
		}

		cost = 50
		days_remove = 20

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				strength_ratio = {
					tag = FROM
					ratio < 0.7
				}
			}
		}

		remove_effect = {
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
	}
	
	MON_fengtian_ultimatum = { #demand fengtian integration
		icon = generic_prepare_civil_war

		visible = {
			FNG = { exists = yes }
			has_global_flag = MON_japan_brotherhood_flag
			OR = {
				has_global_flag = MON_yuan_proposal
				has_global_flag = MON_yiguandao_proposal
				has_global_flag = MON_qing_proposal
			}
			custom_trigger_tooltip = {
				tooltip = MON_sternberg_tooltip
				MON_sternberg_in_power = yes
			}
			NOT = {
				has_global_flag = MON_sent_fengtian_ultimatum
			}
		}
		target_root_trigger = {
			NOT = { is_in_faction_with = FROM }
			NOT = { has_war_with = FROM }
		}
		targets = { FNG }

		cost = 10
		days_remove = 20

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				strength_ratio = {
					tag = FROM
					ratio < 0.7
				}
			}
		}

		remove_effect = {
			set_global_flag = MON_sent_fengtian_ultimatum
			FNG = {
				country_event = {
					id = mon_khan.24
				}
			}
		}
	}
	
	MON_Invite_Bhutan = {
		name = MON_Invite_Country
		icon = generic_agreement
		
		available = {
			is_faction_leader = yes
		}

		visible = {
			has_completed_focus = MON_brotherhood_alliance
			FROM = {
				is_subject = no
				exists = yes
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
			}
		}

		targets = { BHU }
		target_root_trigger = {
			has_completed_focus = MON_brotherhood_alliance
			NOT = { has_country_flag = MON_invited_country }
		}
		
		target_trigger = {
			FROM = {
				is_subject = no
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
				has_socialist_government = no
			}
		}

		cost = 25
		days_remove = 20

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				FROM = {
					has_country_flag = MON_already_invited
				}
			}
		}

		complete_effect = {
			set_country_flag = MON_invited_country
			FROM = {
				country_event = {
					id = mon_khan.2
					days = 3
				}
			}
		}
		
		remove_effect = {
			clr_country_flag = MON_invited_country
		}
	}
	
	MON_Invite_Tibet = {
		name = MON_Invite_Country
		icon = generic_agreement
		
		available = {
			is_faction_leader = yes
		}

		visible = {
			has_completed_focus = MON_brotherhood_alliance
			always = no
			FROM = {
				is_subject = no
				exists = yes
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
			}
		}

		targets = { TIB }
		target_root_trigger = {
			has_completed_focus = MON_brotherhood_alliance
			NOT = { has_country_flag = MON_invited_country }
		}
		
		target_trigger = {
			FROM = {
				is_subject = no
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
				exists = yes
				OR = {
					has_government = paternal_autocrat
					has_government = authoritarian_democrat
				}
			}
		}

		cost = 25
		days_remove = 20

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				FROM = {
					has_country_flag = MON_already_invited
				}
			}
		}

		complete_effect = {
			set_country_flag = MON_invited_country
			FROM = {
				country_event = {
					id = mon_khan.2
					days = 3
				}
			}
		}
		
		remove_effect = {
			clr_country_flag = MON_invited_country
		}
	}
	
	MON_Invite_Transamur = {
		name = MON_Invite_Country
		icon = generic_agreement
		
		available = {
			is_faction_leader = yes
		}

		visible = {
			has_completed_focus = MON_brotherhood_alliance
			OR = {
				has_completed_focus = MON_ungern_alone
				AND = {
					is_in_faction_with = JAP
					JAP = { is_faction_leader = yes }
				}
			}
			FROM = {
				is_subject = no
				exists = yes
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
			}
		}

		targets = { TRM }
		target_root_trigger = {
			has_completed_focus = MON_brotherhood_alliance
			NOT = { has_country_flag = MON_invited_country }
		}
		
		target_trigger = {
			FROM = {
				is_subject = no
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
				OR = {
					AND = {
						has_government = totalist
						has_country_flag = TRM_Mlad_in_power
					}
					has_country_flag = TRM_Semyonov_Coup
				}
			}
		}

		cost = 25
		days_remove = 20

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				FROM = {
					has_country_flag = MON_already_invited
				}
			}
		}

		complete_effect = {
			set_country_flag = MON_invited_country
			FROM = {
				country_event = {
					id = mon_khan.2
					days = 3
				}
			}
		}
		
		remove_effect = {
			clr_country_flag = MON_invited_country
		}
	}
	
	MON_Invite_Siam = {
		name = MON_Invite_Country
		icon = generic_agreement
		
		available = {
			is_faction_leader = yes
		}

		visible = {
			has_completed_focus = MON_brotherhood_alliance
			has_completed_focus = MON_ungern_alone
			FROM = {
				is_subject = no
				exists = yes
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
			}
		}

		targets = { SIA }
		target_root_trigger = {
			has_completed_focus = MON_brotherhood_alliance
			NOT = { has_country_flag = MON_invited_country }
		}
		
		target_trigger = {
			FROM = {
				is_subject = no
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
				OR = {
					has_global_flag = SIA_SARIT_RULES
					has_global_flag = SIA_CONSTITUTION_GIVEN_BORIPATR
					has_global_flag = SIA_PRAJADHIPOK_REFORM
					has_completed_focus = SIA_halfleafdemocracy
				}
			}
		}

		cost = 25
		days_remove = 20

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				FROM = {
					has_country_flag = MON_already_invited
				}
			}
		}

		complete_effect = {
			set_country_flag = MON_invited_country
			FROM = {
				country_event = {
					id = mon_khan.2
					days = 3
				}
			}
		}
		
		remove_effect = {
			clr_country_flag = MON_invited_country
		}
	}
	
	
	MON_Invite_Nepal = {
		name = MON_Invite_Country
		icon = generic_agreement
		
		available = {
			is_faction_leader = yes
		}

		visible = {
			has_completed_focus = MON_brotherhood_alliance
			has_completed_focus = MON_ungern_alone
			FROM = {
				is_subject = no
				exists = yes
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
			}
		}

		targets = { NEP }
		target_root_trigger = {
			has_completed_focus = MON_brotherhood_alliance
			NOT = { has_country_flag = MON_invited_country }
		}
		
		target_trigger = {
			FROM = {
				is_subject = no
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
				has_country_leader = {
					name = "Tribhuvan"
					ruling_only = yes
				}
			}
		}

		cost = 25
		days_remove = 20

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				FROM = {
					has_country_flag = MON_already_invited
				}
			}
		}

		complete_effect = {
			set_country_flag = MON_invited_country
			FROM = {
				country_event = {
					id = mon_khan.2
					days = 3
				}
			}
		}
		
		remove_effect = {
			clr_country_flag = MON_invited_country
		}
	}
	
	MON_Invite_Burma = {
		name = MON_Invite_Country
		icon = generic_agreement
		
		available = {
			is_faction_leader = yes
		}

		visible = {
			has_completed_focus = MON_brotherhood_alliance
			has_completed_focus = MON_ungern_alone
			FROM = {
				is_subject = no
				exists = yes
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
			}
		}

		targets = { BRM }
		target_root_trigger = {
			has_completed_focus = MON_brotherhood_alliance
			NOT = { has_country_flag = MON_invited_country }
		}
		
		target_trigger = {
			FROM = {
				is_subject = no
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
				has_government = authoritarian_democrat
			}
		}

		cost = 25
		days_remove = 20

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				FROM = {
					has_country_flag = MON_already_invited
				}
			}
		}

		complete_effect = {
			set_country_flag = MON_invited_country
			FROM = {
				country_event = {
					id = mon_khan.2
					days = 3
				}
			}
		}
		
		remove_effect = {
			clr_country_flag = MON_invited_country
		}
	}
	
	MON_Invite_Afghanistan = {
		name = MON_Invite_Country
		icon = generic_agreement
		
		available = {
			is_faction_leader = yes
		}

		visible = {
			has_completed_focus = MON_brotherhood_alliance
			has_completed_focus = MON_ungern_alone
			FROM = {
				is_subject = no
				exists = yes
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
			}
		}

		targets = { AFG }
		target_root_trigger = {
			has_completed_focus = MON_brotherhood_alliance
			NOT = { has_country_flag = MON_invited_country }
		}
		
		target_trigger = {
			FROM = {
				is_subject = no
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
				has_government = paternal_autocrat
			}
		}

		cost = 25
		days_remove = 20

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				FROM = {
					has_country_flag = MON_already_invited
				}
			}
		}

		complete_effect = {
			set_country_flag = MON_invited_country
			FROM = {
				country_event = {
					id = mon_khan.2
					days = 3
				}
			}
		}
		
		remove_effect = {
			clr_country_flag = MON_invited_country
		}
	}
	
	MON_Invite_Princely_Fed = {
		name = MON_Invite_Country
		icon = generic_agreement
		
		available = {
			is_faction_leader = yes
		}

		visible = {
			has_completed_focus = MON_brotherhood_alliance
			has_completed_focus = MON_ungern_alone
			FROM = {
				is_subject = no
				exists = yes
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
			}
		}

		targets = { PRF }
		target_root_trigger = {
			has_completed_focus = MON_brotherhood_alliance
			NOT = { has_country_flag = MON_invited_country }
		}
		
		target_trigger = {
			FROM = {
				is_subject = no
				has_idea = PRF_united_india
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
				OR = {
					has_completed_focus = PRF_rebuke_council
					has_completed_focus = PRF_princes_united
				}
			}
		}

		cost = 25
		days_remove = 20

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				FROM = {
					has_country_flag = MON_already_invited
				}
			}
		}

		complete_effect = {
			set_country_flag = MON_invited_country
			FROM = {
				country_event = {
					id = mon_khan.2
					days = 3
				}
			}
		}
		
		remove_effect = {
			clr_country_flag = MON_invited_country
		}
	}
}

MON_foreign_policy_decisions = {
	MON_reclaim_china = { #catch all decision for invading China
		icon = generic_prepare_civil_war

		visible = {
			has_country_flag = MON_move_to_reclaim_china
			has_country_flag = MON_anfu_in_power_flag
			FROM = {
				exists = yes
				NOT = { is_subject_of = ROOT }
				any_neighbor_country = {
					OR = {
						tag = MON
						is_subject_of = MON
						is_in_faction_with = MON
					}
				}
			}
		}
		target_root_trigger = {
			NOT = { is_in_faction_with = FROM }
			NOT = { has_war_with = FROM }
			NOT = { is_subject_of = FROM }
		}
		target_trigger = {
			can_declare_war_on = FROM
			FROM = {
				exists = yes
				NOT = { is_subject_of = ROOT }
				any_neighbor_country = {
					OR = {
						tag = MON
						is_subject_of = MON
						is_in_faction_with = MON
					}
				}
				OR = {
					tag = LEP
					tag = XSM
					tag = TAN
					tag = SIK
					tag = ETS
					tag = TIB
					tag = QIE
					tag = CHI
					tag = ANQ
					tag = HNN
					tag = GXC
					tag = YUN
					tag = SZC
					tag = SHX
					tag = SQI
					tag = PRC
					tag = FNG
				}
			}
		}

		cost = 50
		days_remove = 20

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				strength_ratio = {
					tag = FROM
					ratio < 0.7
				}
			}
		}

		remove_effect = {
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
	}
	
	MON_ask_tibet_for_faction_decision = {

		icon = hol_exchange_intelligence_data

		allowed = {
			original_tag = MON
		}

		available = {
			is_subject = no
			has_socialist_government = no
			TIB = {
				has_socialist_government = no
				is_subject = no
			}
		}

		visible = {
			country_exists = TIB
			has_global_flag = northwest_conflict_ended
			NOT = {
				MON_sternberg_in_power = yes
			}
			NOT = {
				AND = {
					has_government = paternal_autocrat
					has_country_flag = MON_russia_friends_flag
				}
				AND = {
					has_government = paternal_autocrat
					NOT = { has_completed_focus = MON_look_at_russia_policy }
				}
			}
		}

		fire_only_once = yes

		cost = 0

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MON_ask_tibet_for_faction_decision"
			TIB = { country_event = mon.59 }
		}
	}
	MON_attack_the_mas_decision = {
		icon = generic_prepare_civil_war

		allowed = {
			original_tag = MON
		}

		available = {
			has_war = no
			is_subject = no
			can_declare_war_on = XSM
		}

		visible = {
			TIB = { has_war_with = XSM }
			NOT = {
				OR = {
					has_country_leader = {
					name = "Genghis Khan II"
					ruling_only = yes
					}
					has_country_leader = {
					name = "Roman von Ungern-Sternberg"
					ruling_only = yes
					}
				}
			}
		}

		fire_only_once = yes

		cost = 0

		ai_will_do = {
			factor = 100
		}

		war_with_on_complete = XSM

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MON_attack_the_mas_decision"
			declare_war_on = {
				target = XSM
				type = annex_everything
			}
		}
	}
	
	MON_attack_the_fng_decision = {
		icon = generic_prepare_civil_war

		allowed = {
			original_tag = MON
		}

		available = {
			has_war = no
		}

		visible = {
			has_completed_focus = MON_revenge_on_japan
		}

		fire_only_once = yes

		cost = 0

		ai_will_do = {
			factor = 100
		}

		war_with_on_complete = XSM

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MON_attack_the_mas_decision"
			declare_war_on = {
				target = FNG
				type = annex_everything
			}
		}
	}
	MON_pan_mongol_claims_decision = {

		icon = generic_nationalism

		allowed = {
			original_tag = MON
		}

		available = {
			is_subject = no
		}

		visible = {
			owns_state = 348
			owns_state = 616
			owns_state = 621
			NOT = {
				MON_sternberg_in_power = yes
			}
		}

		fire_only_once = yes

		cost = 0

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MON_pan_mongol_claims_decision"
			add_state_claim = 1083
			add_state_claim = 618
			add_state_claim = 611
			add_state_claim = 884
			if = {
				limit = {
					NOT = {
						has_country_flag = MON_russia_friends_flag
					}
				}
				add_state_claim = 563
				add_state_claim = 564
				add_state_claim = 654
			}
		}
	}
	MON_intervene_in_jap_chi_war_decision = {
		icon = generic_prepare_civil_war

		allowed = {
			original_tag = MON
		}

		available = {
			can_declare_war_on = FROM
		}

		visible = {
			is_subject = no
			OR = {
				is_in_faction = no
				is_faction_leader = yes
			}
			JAP = {
				NOT = {
					has_war_with = ROOT
					has_global_flag = JAP_Fading_Sun
				}
			}
			FROM = {
				has_war_with = JAP
				has_capitulated = no
				is_neighbor_of = ROOT
				NOT = { has_war_with = ROOT }
			}
		}

		cancel_trigger = {
			OR = {
				NOT = { can_declare_war_on = FROM }
				FROM = {
					NOT = { has_war_with = JAP }
				}
			}
		}

		cost = 0
		fire_only_once = no
		days_remove = 15

		war_with_target_on_remove = yes

		target_array = global.china_tags_array
		target_root_trigger = {
			is_subject = no
		}
		target_trigger = {
			can_declare_war_on = FROM
			FROM = {
				has_war_with = JAP
				has_capitulated = no
				is_neighbor_of = ROOT
				NOT = { has_war_with = ROOT }
			}
		}

		ai_will_do = {
			factor = 50
			modifier = {
				factor = 0
				has_country_flag = imminent_war
			}
			modifier = {
				factor = 0
				has_war = yes
				NOT = {
					any_enemy_country = {
						is_neighbor_of = ROOT
						has_capitulated = no
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					NOT = {
						any_owned_state = { is_claim_or_core_of_ROOT = yes }
					}
				}
			}
			modifier = {
				factor = 0
				JAP = { surrender_progress > 0.20 }
			}
			modifier = {
				factor = 0
				NOT = {
					strength_ratio = { tag = FROM ratio > 1.0 }
					FROM = { surrender_progress > 0.20 }
					FROM = {
						is_in_faction = yes
						strength_ratio = { tag = ROOT ratio < 2.50 }
						faction_leader = { surrender_progress > 0.20 }
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MON_intervene_in_jap_chi_war_decision target: [From.GetName]"
			set_country_flag = { flag = imminent_war days = 16 value = 1 }
			FROM = { country_event = kr.political.30 } #warning event
			setup_decision_attack_AI = yes
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove MON_intervene_in_jap_chi_war_decision target: [From.GetName]"
			clear_decision_attack_AI = yes
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
	}
}

MON_western_rebellion_decisions = {
	MON_reinforce_troops_in_west_decision = {
		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = MON
		}

		fire_only_once = no
		days_remove = 20
		cost = 25

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MON_reinforce_troops_in_west_decision"
			increase_ruling_party_popularity_by_5 = yes
			add_stability = 0.02
			add_war_support = 0.05
		}
	}
	MON_the_offer_decision = {
		icon = hol_exchange_intelligence_data

		visible = {
			MON_has_regular_govt = yes
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = {
			factor = 50
			modifier = {
				factor = 0
				MON_ruling_party_has_highest_pop = no
			}
			modifier = {
				factor = 0
				MON_ruling_party_has_highest_pop = yes
				MON_any_group_within_5_pop = yes
			}
			modifier = {
				factor = 2
				MON_ruling_party_has_highest_pop = yes
				MON_any_group_within_10_pop = no
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MON_the_offer_decision"
			country_event = { id = mon.61 }
		}
	}
	MON_bring_tuvan_garrison_decision = {
		icon = eng_blackshirt_march

		allowed = {
			original_tag = MON
		}

		visible = {
			owns_state = 329
			NOT = { has_country_flag = MON_bandits_occupy_tuva }
		}

		cost = 0

		fire_only_once = yes

		highlight_state_targets = {
			state = 329
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				has_stability < 0.25
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MON_bring_tuvan_garrison_decision target: [From.GetName]"
			add_stability = -0.02
			add_war_support = 0.08
		}
	}
	MON_reinvade_tuva_decision = {
		icon = generic_operation

		allowed = {
			original_tag = MON
		}

		visible = {
			has_country_flag = MON_bandits_occupy_tuva
			owns_state = 329
		}

		custom_cost_text = SZC_15_CP
		custom_cost_trigger = {
			command_power > 14.99
		}

		fire_only_once = yes

		highlight_state_targets = {
			state = 329
		}

		ai_will_do = {
			base = 25
			modifier = {
				add = ROOT.command_power
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MON_reinvade_tuva_decision target: [From.GetName]"
			hidden_effect = {
				add_command_power = -15
			}
			country_event = { id = mon.26 }
		}
	}
	MON_seige_of_uliastai_decision = {
		icon = generic_prepare_civil_war

		allowed = {
			original_tag = MON
		}

		visible = {
			owns_state = 1084
			has_country_flag = MON_bandits_occupy_uliastai
		}

		custom_cost_text = SZC_15_CP
		custom_cost_trigger = {
			command_power > 14.99
		}

		fire_only_once = yes

		highlight_state_targets = {
			state = 1084
		}

		ai_will_do = {
			base = 25
			modifier = {
				add = ROOT.command_power
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MON_seige_of_uliastai_decision target: [From.GetName]"
			hidden_effect = {
				add_command_power = -15
			}
			country_event = { id = mon.33 }
		}
	}

}

MON_chaos_in_capital_decisions = {
	MON_force_control_in_urga_decision = {
		icon = generic_prepare_civil_war

		allowed = {
			original_tag = MON
		}

		available = {
			has_stability > 0
		}

		visible = {
			has_government = paternal_autocrat
		}

		cost = 25

		days_remove = 25

		ai_will_do = {
			factor = 50
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MON_force_control_in_urga_decision"
			add_stability = -0.05
			add_popularity = {
				ideology = paternal_autocrat
				popularity = 0.05
			}
		}
	}
	MON_crack_on_MAN_decision = {
		icon = oppression

		allowed = {
			original_tag = MON
		}

		available = {
			has_stability > 0
		}

		visible = {
			MON_has_regular_govt = yes
			NOT = { has_government = social_democrat }
			OR = {
				check_variable = { ROOT.party_popularity@social_democrat > 0.05 }
				check_variable = { ROOT.party_popularity@social_democrat > ROOT.party_popularity@ruling_party }
			}
		}

		cost = 25

		days_remove = 30

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				MON_socdem_within_10_pop = no
			}
			modifier = {
				factor = 5
				MON_socdem_within_5_pop = yes
			}
			modifier = {
				factor = 2
				check_variable = {
					var = ROOT.party_popularity@social_democrat
					value = ROOT.party_popularity@ruling_party
					compare = greater_than
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MON_crack_on_MAN_decision"
			add_stability = -0.05
			add_popularity = {
				ideology = social_democrat
				popularity = -0.05
			}
		}
	}
	MON_bribe_aristocrats_decision = {
		icon = hol_attract_foreign_investors

		allowed = {
			original_tag = MON
		}

		visible = {
			MON_has_regular_govt = yes
			NOT = { has_government = authoritarian_democrat }
			OR = {
				check_variable = { ROOT.party_popularity@authoritarian_democrat > 0.05 }
				check_variable = { ROOT.party_popularity@authoritarian_democrat > ROOT.party_popularity@ruling_party }
			}
		}

		cost = 50

		days_remove = 30

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				MON_authdem_within_10_pop = no
			}
			modifier = {
				factor = 5
				MON_authdem_within_5_pop = yes
			}
			modifier = {
				factor = 2
				check_variable = {
					var = ROOT.party_popularity@authoritarian_democrat
					value = ROOT.party_popularity@ruling_party
					compare = greater_than
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MON_bribe_aristocrats_decision"
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = -0.05
			}
		}
	}
	MON_discourse_in_MAN_decision = {
		icon = eng_propaganda_campaigns

		allowed = {
			original_tag = MON
		}

		available = {
			has_stability > 0
		}

		visible = {
			MON_has_regular_govt = yes
			NOT = { has_government = social_democrat }
		}

		cost = 15

		fire_only_once = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				MON_socdem_within_10_pop = no
			}
			modifier = {
				factor = 5
				MON_socdem_within_5_pop = yes
			}
			modifier = {
				factor = 2
				check_variable = {
					var = ROOT.party_popularity@social_democrat
					value = ROOT.party_popularity@ruling_party
					compare = greater_than
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MON_discourse_in_MAN_decision"
			add_stability = -0.05
			add_popularity = {
				ideology = social_democrat
				popularity = -0.05
			}
			add_popularity = {
				ideology = radical_socialist
				popularity = 0.05
			}
		}
	}
	MON_cede_to_aristocrats_decision = {
		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = MON
		}

		visible = {
			MON_has_regular_govt = yes
			NOT = { has_government = authoritarian_democrat }
		}

		days_remove = 30

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_political_power > 25
			}
			modifier = {
				factor = 0
				MON_ruling_party_has_highest_pop = yes
				MON_any_group_within_5_pop = no
			}
			modifier = {
				factor = 0
				MON_authdem_within_10_pop = yes
			}
			modifier = {
				factor = 5
				MON_ruling_party_has_highest_pop = no
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MON_cede_to_aristocrats_decision"
			add_political_power = 50
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.05
			}
		}
	}
	MON_cede_to_monks_decision = {
		icon = eng_blackshirt_march

		allowed = {
			original_tag = MON
		}

		visible = {
			MON_has_regular_govt = yes
			NOT = { has_government = national_populist }
		}

		days_remove = 30

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_political_power > 25
			}
			modifier = {
				factor = 0
				MON_ruling_party_has_highest_pop = yes
				MON_any_group_within_5_pop = no
			}
			modifier = {
				factor = 0
				MON_natpop_within_10_pop = yes
			}
			modifier = {
				factor = 5
				MON_ruling_party_has_highest_pop = no
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MON_cede_to_monks_decision"
			add_political_power = 50
			add_popularity = {
				ideology = national_populist
				popularity = 0.05
			}
		}
	}
}

MON_mongolian_highway_decisions = {
	MON_main_mongolian_road_decision = {
		icon = generic_construction

		allowed = {
			original_tag = MON
		}

		available = {
			num_of_civilian_factories_available_for_projects > 1
			controls_state = 330
		}

		visible = {
			owns_state = 330
		}

		highlight_state_targets = {
			state = 330
		}

		fire_only_once = yes

		cost = 25

		days_remove = 100

		modifier = {
			civilian_factory_use = 1
		}

		ai_will_do = {
			factor = 15
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove MON_main_mongolian_road_decision target: [From.GetName]"
			330 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			set_country_flag = MON_main_railway_built_flag
		}
	}
	MON_connect_to_the_west_decision = {
		icon = generic_construction

		allowed = {
			original_tag = MON
		}

		available = {
			num_of_civilian_factories_available_for_projects > 1
			has_country_flag = MON_main_railway_built_flag
			controls_state = 1084
		}

		visible = {
			owns_state = 1084
		}

		highlight_state_targets = {
			state = 1084
		}

		fire_only_once = yes

		cost = 25

		days_remove = 80

		modifier = {
			civilian_factory_use = 1
		}

		ai_will_do = {
			factor = 15
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove MON_connect_to_the_west_decision target: [From.GetName]"
			1084 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	MON_connect_to_tuva_decision = {
		icon = generic_construction

		allowed = {
			original_tag = MON
		}

		available = {
			num_of_civilian_factories_available_for_projects > 1
			has_country_flag = MON_main_railway_built_flag
			controls_state = 329
		}

		visible = {
			owns_state = 329
		}

		highlight_state_targets = {
			state = 329
		}

		fire_only_once = yes

		cost = 25

		days_remove = 80

		modifier = {
			civilian_factory_use = 1
		}

		ai_will_do = {
			factor = 15
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove MON_connect_to_tuva_decision target: [From.GetName]"
			329 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	MON_connect_to_chahar_decision = {
		icon = generic_construction

		allowed = {
			original_tag = MON
		}

		available = {
			num_of_civilian_factories_available_for_projects > 1
			has_country_flag = MON_main_railway_built_flag
			controls_state = 612
		}

		visible = {
			owns_state = 612
		}

		highlight_state_targets = {
			state = 612
		}

		fire_only_once = yes

		cost = 25

		days_remove = 80

		modifier = {
			civilian_factory_use = 1
		}

		ai_will_do = {
			factor = 15
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove MON_connect_to_chahar_decision target: [From.GetName]"
			612 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	MON_connect_to_ulanqab_decision = {
		icon = generic_construction

		allowed = {
			original_tag = MON
		}

		available = {
			num_of_civilian_factories_available_for_projects > 1
			has_country_flag = MON_main_railway_built_flag
			controls_state = 621
		}

		visible = {
			owns_state = 621
		}

		highlight_state_targets = {
			state = 621
		}

		fire_only_once = yes

		cost = 25

		days_remove = 80

		modifier = {
			civilian_factory_use = 1
		}

		ai_will_do = {
			factor = 15
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove MON_connect_to_ulanqab_decision target: [From.GetName]"
			621 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	MON_connect_to_ningxia_decision = {
		icon = generic_construction

		allowed = {
			original_tag = MON
		}

		available = {
			num_of_civilian_factories_available_for_projects > 1
			has_country_flag = MON_main_railway_built_flag
			controls_state = 348
		}

		visible = {
			owns_state = 348
		}

		highlight_state_targets = {
			state = 348
		}

		fire_only_once = yes

		cost = 25

		days_remove = 80

		modifier = {
			civilian_factory_use = 1
		}

		ai_will_do = {
			factor = 15
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove MON_connect_to_ningxia_decision target: [From.GetName]"
			add_state_core = 348
			348 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	MON_connect_to_ordos_decision = {
		icon = generic_construction

		allowed = {
			original_tag = MON
		}

		available = {
			num_of_civilian_factories_available_for_projects > 1
			has_country_flag = MON_main_railway_built_flag
			controls_state = 616
		}

		visible = {
			owns_state = 616
		}

		highlight_state_targets = {
			state = 616
		}

		fire_only_once = yes

		cost = 25

		days_remove = 80

		modifier = {
			civilian_factory_use = 1
		}

		ai_will_do = {
			factor = 15
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove MON_connect_to_ordos_decision target: [From.GetName]"
			add_state_core = 616
			616 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
}

MON_dealing_with_the_leftover_bandits_decisions = {
	MON_pacify_western_bandits_decision = {

		icon = oppression

		available = {
			divisions_in_state = {
				state = 1084
				size > 2
			}
		}

		highlight_state_targets = {
			state = 1084
		}

		cost = 0

		ai_will_do = {
			base = 0
			modifier = {
				add = 200
				divisions_in_state = {
					state = 1084
					size > 2
				}
			}
		}

		visible = {
			NOT = { has_active_mission = MON_maintain_western_control_mission }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MON_pacify_western_bandits_decision target: [From.GetName]"
			activate_mission = MON_maintain_western_control_mission
			custom_effect_tooltip = MON_pacify_bandits_mission_explanation
		}
	}

	MON_maintain_western_control_mission = {
		icon = generic_civil_support

		allowed = { always = no } #manually activated

		available = {
			hidden_trigger = { always = no }
		}

		days_mission_timeout = MAN_maintain_control_timer?180

		cancel_trigger = {
			divisions_in_state = {
				state = 1084
				size < 3
			}
		}

		highlight_state_targets = {
			state = 1084
		}

		is_good = yes

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout MON_maintain_western_control_mission target: [From.GetName]"
			army_experience = 10
			add_stability = 0.05
			add_war_support = 0.05
			set_country_flag = MON_bandits_beaten_flag
			remove_ideas = MON_western_banditry_idea
		}
	}
}

