technologies = {

	#######Salad's TODO:##########################################################
	####-Fix OOBS														      ####
	####-Fix GFX and Localization										      ####
	####-Figure out why the fuck some techs are not appearing/wrong size	  ####
	####-Fix positions/spacing(the submarine and torpedo tree mostly)         ####
	####-Non-MTG techs can be found in naval.txt							  ####
	##############################################################################

	###relative positions
	@1910 = -3
	@1918 = 0
	@1936 = 3
	@1940 = 6
	@1944 = 9

	@1 = -4
	@2 = 0
	@3 = 4
	@4 = 8
	@5 = 12
	@6 = 14
	@7 = 16
	@8 = 18
	@9 = 22
	@10 = 26
	@11 = 30
	@12 = 34
	@13 = 35
	@14 = 36
	@15 = 40
	@16 = 44

	###MTG###

###Destroyers

	weltkrieg_light_ship_hull = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech weltkrieg_light_ship_hull"}

		enable_equipments = {
			ship_hull_light_1
		}

		enable_equipment_modules = {
			light_ship_engine_1
			ship_depth_charge_1
		}

		path = {
			leads_to_tech = light_ship_hull_1936
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = smoke_generator
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = improved_depth_charges
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = sonar
			research_cost_coeff = 1
		}

		dependencies = {
			weltkrieg_naval_gunnery = 1
		}

		allow_branch = {
			has_dlc = "Man the Guns"
		}

		research_cost = 1

		start_year = 1920

		folder = {
			name = escort_ships_folder
			position = { x = @2 y = @1918 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			dd_tech
		}
	}

	light_ship_hull_1936 = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech light_ship_hull_1936"}

		enable_equipments = {
			ship_hull_light_2
		}

		enable_equipment_modules = {
			light_ship_engine_2
		}

		path = {
			leads_to_tech = light_ship_hull_1940
			research_cost_coeff = 1
		}

		research_cost = 1

		start_year = 1936

		folder = {
			name = escort_ships_folder
			position = { x = @2 y = @1936 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			dd_tech
		}
	}

	light_ship_hull_1940 = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech light_ship_hull_1940"}

		enable_equipments = {
			ship_hull_light_3
		}

		enable_equipment_modules = {
			light_ship_engine_3
		}

		path = {
			leads_to_tech = light_ship_hull_1944
			research_cost_coeff = 1
		}

		research_cost = 1

		start_year = 1940

		folder = {
			name = escort_ships_folder
			position = { x = @2 y = @1940 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			dd_tech
		}
	}

	light_ship_hull_1944 = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech light_ship_hull_1944"}

		enable_equipments = {
			ship_hull_light_4
		}

		enable_equipment_modules = {
			light_ship_engine_4
		}

		research_cost = 1

		start_year = 1944

		folder = {
			name = escort_ships_folder
			position = { x = @2 y = @1944 }
		}

		ai_will_do = {
			factor = 2

			modifier = {
				factor = 0
				OR = {
					date < "1937.1.1"
					NOT = { num_of_naval_factories > 1 }
				}
			}
			modifier = {
				factor = 1
				AND = {
					date > "1937.1.1"
					num_of_naval_factories > 1
				}
			}
		}

		categories = {
			naval_equipment
			dd_tech
		}
	}

### DESTROYER UTILITY

	smoke_generator = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech smoke_generator"}


		naval_retreat_speed = 0.2

		research_cost = 0.75

		start_year = 1920

		folder = {
			name = escort_ships_folder
			position = { x = @1 y = @1918 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			dd_tech
			asw_tech
			electronics
		}
	}

	## Sonar 1
	sonar = {
		on_research_complete = {
			log = "[GetDateText]: [Root.GetName]: add tech sonar"
			custom_effect_tooltip = sonar_advice_tt
		}

		enable_equipment_modules = {
			ship_sonar_1
		}

		path = {
			leads_to_tech = improved_sonar
			research_cost_coeff = 1
		}

		research_cost = 1.25
		xp_research_type = navy
		xp_research_cost = 25
		xp_research_bonus = 1.5

		start_year = 1936

		folder = {
			name = escort_ships_folder
			position = { x = @1 y = @1936 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			dd_tech
			asw_tech
			electronics
		}
	}

	##Sonar 2
	improved_sonar = {
		on_research_complete = {
			log = "[GetDateText]: [Root.GetName]: add tech improved_sonar"
			custom_effect_tooltip = sonar_advice_tt
		}

		enable_equipment_modules = {
			ship_sonar_2
		}

		research_cost = 1.25
		xp_research_type = navy
		xp_research_cost = 25
		xp_research_bonus = 1.5

		start_year = 1940

		folder = {
			name = escort_ships_folder
			position = { x = @1 y = @1940 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			dd_tech
			asw_tech
			electronics
		}
	}

### ANTI SUBMARINE WEAPONS	


	improved_depth_charges = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech improved_depth_charges"}

		enable_equipment_modules = {
			ship_depth_charge_2
		}

		path = {
			leads_to_tech = advanced_depth_charges
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_research_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1.5

		start_year = 1936

		folder = {
			name = escort_ships_folder
			position = { x = @3 y = @1936}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			asw_tech
			dd_tech
		}
	}

	advanced_depth_charges = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech advanced_depth_charges"}

		enable_equipment_modules = {
			ship_depth_charge_3
		}

		path = {
			leads_to_tech = modern_depth_charges
			research_cost_coeff = 1
		}

		research_cost = 1.5
		xp_research_type = navy
		xp_research_cost = 50
		xp_research_bonus = 1.50

		start_year = 1940

		folder = {
			name = escort_ships_folder
			position = { x = @3 y = @1940}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			asw_tech
			dd_tech
		}
	}

	modern_depth_charges = {

		enable_equipment_modules = {
			ship_depth_charge_4
		}
		on_research_complete = {
			log = "[GetDateText]: [Root.GetName]: add tech modern_depth_charges"
			custom_effect_tooltip = depth_charges_advice_tt
		}

		research_cost = 1.5
		xp_research_type = navy
		xp_research_cost = 50
		xp_research_bonus = 1.50

		start_year = 1944

		folder = {
			name = escort_ships_folder
			position = { x = @3 y = @1944}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			dd_tech
			asw_tech
		}
	}

###Cruisers

	weltkrieg_cruiser_hull = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech weltkrieg_cruiser_hull"}

		enable_equipments = {
			ship_hull_cruiser_1
			ship_hull_cruiser_coastal_defense_ship
		}

		enable_equipment_modules = {
			cruiser_ship_engine_1
			ship_airplane_launcher_1
			ship_armor_cruiser_1
		}

		path = {
			leads_to_tech = cruiser_hull_1936
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = improved_airplane_launcher
			research_cost_coeff = 1
		}

		allow_branch = {
			has_dlc = "Man the Guns"
		}

		dependencies = {
			weltkrieg_naval_gunnery = 1
		}

		research_cost = 1.5

		start_year = 1920

		folder = {
			name = escort_ships_folder
			position = { x = @4 y = @1918 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			cl_tech
			cr_tech
		}
	}

	cruiser_hull_1936 = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech cruiser_hull_1936"}

		enable_equipments = {
			ship_hull_cruiser_2
		}

		enable_equipment_modules = {
			cruiser_ship_engine_2
		}

		sub_technologies = {
			ship_hull_revived_ac
		}

		path = {
			leads_to_tech = cruiser_hull_1940
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = basic_cruiser_armor_scheme
			research_cost_coeff = 1
		}

		research_cost = 1.5

		start_year = 1936

		folder = {
			name = escort_ships_folder
			position = { x = @4 y = @1936 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			cl_tech
			cr_tech
		}
	}

	ship_hull_revived_ac = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech ship_hull_revived_ac"}

		enable_equipments = {
			ship_hull_cruiser_panzerschiff
		}

		enable_equipment_modules = {
			ship_armor_bc_1
		}

		research_cost = 1.5

		start_year = 1924

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 5
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 15
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 10 }
			}
		}

		categories = {
			naval_equipment
			ca_tech
		}
	}

	cruiser_hull_1940 = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech cruiser_hull_1940"}

		enable_equipments = {
			ship_hull_cruiser_3
		}

		enable_equipment_modules = {
			cruiser_ship_engine_3
		}

		path = {
			leads_to_tech = cruiser_hull_1944
			research_cost_coeff = 1
		}

		research_cost = 1.5

		start_year = 1940

		folder = {
			name = escort_ships_folder
			position = { x = @4 y = @1940 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			cl_tech
			cr_tech
		}
	}

	cruiser_hull_1944 = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech cruiser_hull_1944"}

		enable_equipments = {
			ship_hull_cruiser_4
		}

		enable_equipment_modules = {
			cruiser_ship_engine_4
		}

		research_cost = 1.5

		start_year = 1944

		folder = {
			name = escort_ships_folder
			position = { x = @4 y = @1944 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			cl_tech
			cr_tech
		}
	}

### Cruiser Armors

	basic_cruiser_armor_scheme = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech basic_cruiser_armor_scheme"}

		dependencies = {
			cruiser_hull_1936 = 1
		}

		enable_equipment_modules = {
			ship_armor_cruiser_2
		}

		path = {
			leads_to_tech = improved_cruiser_armor_scheme
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_research_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1.25

		start_year = 1936

		folder = {
			name = escort_ships_folder
			position = { x = @5 y = @1936}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			cl_tech
			cr_tech
		}


	}

	improved_cruiser_armor_scheme = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech improved_cruiser_armor_scheme"}

		enable_equipment_modules = {
			ship_armor_cruiser_3
		}

		path = {
			leads_to_tech = advanced_cruiser_armor_scheme
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_research_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1.25

		start_year = 1940

		folder = {
			name = escort_ships_folder
			position = { x = @5 y = @1940}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			cl_tech
			cr_tech
		}
	}

	advanced_cruiser_armor_scheme = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech advanced_cruiser_armor_scheme"}

		enable_equipment_modules = {
			ship_armor_cruiser_4
		}

		xp_research_type = navy
		xp_research_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1.25

		start_year = 1944

		folder = {
			name = escort_ships_folder
			position = { x = @5 y = @1944}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			cl_tech
			cr_tech
		}


	}

	improved_airplane_launcher = {
		on_research_complete = {
			log = "[GetDateText]: [Root.GetName]: add tech improved_airplane_launcher"
			custom_effect_tooltip = airplane_launcher_advice_tt
		}

		enable_equipment_modules = {
			ship_airplane_launcher_2
		}

		research_cost = 0.75

		start_year = 1920

		folder = {
			name = escort_ships_folder
			position = { x = @5 y = @1918}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			cl_tech
			cv_tech
		}
	}

####Gunnery TECHS

	weltkrieg_naval_gunnery = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech weltkrieg_naval_gunnery"}


		enable_equipment_modules = {
			ship_light_battery_1
			ship_light_medium_battery_1
			ship_heavy_battery_1
			ship_secondaries_1
		}

		path = {
			leads_to_tech = light_battery_one
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = naval_ammo_one
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = capital_gunnery_one
			research_cost_coeff = 1
		}

		allow_branch = {
			has_dlc = "Man the Guns"
		}

		research_cost = 1.5

		start_year = 1916

		folder = {
			name = escort_ships_folder
			position = { x = @7 y = @1910 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			cat_gunnery
		}
	}

	light_battery_one = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech light_battery_one"}

		enable_equipment_modules = {
			ship_light_battery_2
			ship_light_medium_battery_2
			ship_secondaries_2
		}

		path = {
			leads_to_tech = light_battery_two
			research_cost_coeff = 1
		}

		research_cost = 1

		start_year = 1920

		folder = {
			name = escort_ships_folder
			position = { x = @6 y = @1918 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			cat_gunnery
		}
	}

	light_battery_two = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech light_battery_two"}

		enable_equipment_modules = {
			ship_light_battery_3
			ship_light_medium_battery_3
		}

		path = {
			leads_to_tech = light_battery_three
			research_cost_coeff = 1
		}

		research_cost = 1

		start_year = 1936

		folder = {
			name = escort_ships_folder
			position = { x = @6 y = @1936 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			cat_gunnery
		}
	}

	light_battery_three = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech light_battery_three"}

		enable_equipment_modules = {
			ship_light_battery_4
			ship_light_medium_battery_4
		}

		path = {
			leads_to_tech = modern_naval_gunnery
			research_cost_coeff = 1
		}

		research_cost = 1

		start_year = 1940

		folder = {
			name = escort_ships_folder
			position = { x = @6 y = @1940 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			cat_gunnery
		}
	}

	naval_ammo_one = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech naval_ammo_one"}

		destroyer = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		light_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		heavy_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}
		battleship = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}
		battle_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}
		SH_battleship = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}
		carrier = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}

		path = {
			leads_to_tech = naval_ammo_two
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_research_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2

		start_year = 1936

		folder = {
			name = escort_ships_folder
			position = { x = @7 y = @1918}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			cat_gunnery
		}
	}

	naval_ammo_two = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech naval_ammo_two"}

		destroyer = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		light_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		heavy_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}
		battleship = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}
		battle_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}
		SH_battleship = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}
		carrier = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}

		path = {
			leads_to_tech = naval_ammo_three
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_research_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2

		start_year = 1939

		folder = {
			name = escort_ships_folder
			position = { x = @7 y = @1936 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			cat_gunnery
		}
	}

	naval_ammo_three = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech naval_ammo_three"}

		enable_equipment_modules = {
			dp_ship_secondaries
			dp_light_battery
		}

		destroyer = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		light_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		heavy_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}
		battleship = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}
		battle_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}
		SH_battleship = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}
		carrier = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}

		dependencies = {
			advanced_centimetric_radar = 1
		}

		path = {
			leads_to_tech = modern_naval_gunnery
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_research_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2

		start_year = 1942

		folder = {
			name = escort_ships_folder
			position = { x = @7 y = @1940 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			cat_gunnery
		}
	}

	capital_gunnery_one = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech capital_gunnery_one"}

		enable_equipment_modules = {
			ship_medium_battery_1
			ship_heavy_battery_2
			ship_super_heavy_battery_1
		}

		path = {
			leads_to_tech = capital_gunnery_two
			research_cost_coeff = 1
		}

		research_cost = 1

		start_year = 1920

		folder = {
			name = escort_ships_folder
			position = { x = @8 y = @1918 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			cat_gunnery
		}
	}

	capital_gunnery_two = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech capital_gunnery_two"}

		enable_equipment_modules = {
			ship_medium_battery_2
			ship_heavy_battery_3
			ship_super_heavy_battery_2
		}

		path = {
			leads_to_tech = capital_gunnery_three
			research_cost_coeff = 1
		}

		research_cost = 1

		start_year = 1936

		folder = {
			name = escort_ships_folder
			position = { x = @8 y = @1936 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			cat_gunnery
		}
	}

	capital_gunnery_three = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech capital_gunnery_three"}

		enable_equipment_modules = {
			ship_medium_battery_3
			ship_heavy_battery_4
		}

		path = {
			leads_to_tech = modern_naval_gunnery
			research_cost_coeff = 1
		}

		research_cost = 1

		start_year = 1940

		folder = {
			name = escort_ships_folder
			position = { x = @8 y = @1940 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1940.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			cat_gunnery
		}
	}

	modern_naval_gunnery = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech modern_naval_gunnery"}

		enable_equipment_modules = {
			ship_medium_battery_4
			ship_heavy_medium_battery
			dp_ship_secondaries_2
			dp_light_battery_2
			dp_ship_light_medium_battery
		}

		dependencies = {
			naval_ammo_three = 1
		}

		research_cost = 1

		start_year = 1944

		folder = {
			name = escort_ships_folder
			position = { x = @7 y = @1944 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1944.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			cat_gunnery
		}
	}

###Heavy Ships

	weltkrieg_heavy_ship_hull = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech weltkrieg_heavy_ship_hull"}

		enable_equipments = {
			ship_hull_heavy_1
			ship_hull_pre_dreadnought
		}

		enable_equipment_modules = {
			ship_armor_bb_1
			ship_armor_bc_1
			heavy_ship_engine_1
		}

		path = {
			leads_to_tech = heavy_ship_hull_1936
			research_cost_coeff = 1
		}

		sub_technologies = {
			ship_hull_super_heavy
		}

		dependencies = {
			weltkrieg_naval_gunnery = 1
		}

		allow_branch = {
			has_dlc = "Man the Guns"
		}

		research_cost = 1.75

		start_year = 1920

		folder = {
			name = escort_ships_folder
			position = { x = @9 y = @1918 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			bb_tech
			ca_tech
		}
	}

	ship_hull_super_heavy = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech ship_hull_super_heavy"}

		enable_equipments = {
			ship_hull_super_heavy_1
		}

		enable_equipment_modules = {
			ship_armor_shbb
		}

		research_cost = 1.5

		start_year = 1925

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 5
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 15
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 10 }
			}
		}

		categories = {
			naval_equipment
			bb_tech
			shbb_tech
		}
	}

	heavy_ship_hull_1936 = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech heavy_ship_hull_1936"}

		enable_equipments = {
			ship_hull_heavy_2
		}

		enable_equipment_modules = {
			heavy_ship_engine_2
		}

		path = {
			leads_to_tech = heavy_ship_hull_1940
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = basic_heavy_armor_scheme
			research_cost_coeff = 1
		}

		research_cost = 1.75

		start_year = 1936

		folder = {
			name = escort_ships_folder
			position = { x = @9 y = @1936 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			bb_tech
			ca_tech
		}
	}

	heavy_ship_hull_1940 = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech heavy_ship_hull_1940"}

		enable_equipments = {
			ship_hull_heavy_3
		}

		enable_equipment_modules = {
			heavy_ship_engine_3
		}

		path = {
			leads_to_tech = heavy_ship_hull_1944
			research_cost_coeff = 1
		}

		research_cost = 1.75

		start_year = 1940

		folder = {
			name = escort_ships_folder
			position = { x = @9 y = @1940 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			ca_tech
			bb_tech
		}
	}

	heavy_ship_hull_1944 = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech heavy_ship_hull_1944"}

		enable_equipments = {
			ship_hull_heavy_4
		}

		enable_equipment_modules = {
			heavy_ship_engine_4
		}

		research_cost = 1.75

		start_year = 1944

		folder = {
			name = escort_ships_folder
			position = { x = @9 y = @1944 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			ca_tech
			bb_tech
		}
	}

	##BB armor
	basic_heavy_armor_scheme = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech basic_heavy_armor_scheme"}

		path = {
			leads_to_tech = improved_heavy_armor_scheme
			research_cost_coeff = 1
		}


		enable_equipment_modules = {
			ship_armor_bb_2
			ship_armor_bc_2
			ship_armor_shbb_2
		}

		xp_research_type = navy
		xp_research_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1.25

		start_year = 1936

		folder = {
			name = escort_ships_folder
			position = { x = @10 y = @1936}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			ca_tech
			bb_tech
		}
	}

	improved_heavy_armor_scheme = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech improved_heavy_armor_scheme"}

		enable_equipment_modules = {
			ship_armor_bb_3
			ship_armor_bc_3
		}

		xp_research_type = navy
		xp_research_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1.25

		start_year = 1940

		folder = {
			name = escort_ships_folder
			position = { x = @10 y = @1940}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			ca_tech
			bb_tech
		}
	}

### Carrier TECHS
	carrier_conversion = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech carrier_conversion"}

		enable_equipments = {
			ship_hull_carrier_conversion_bb
			ship_hull_carrier_conversion_ca
			ship_hull_carrier_conversion_dng
		}

		enable_equipment_modules = {
			ship_armor_carrier_deck
			carrier_ship_engine_1
			ship_deck_space
		}

		path = {
			leads_to_tech = carrier_hull_1936
			research_cost_coeff = 1
		}

		allow_branch = {
			has_dlc = "Man the Guns"
		}

		dependencies = {
			weltkrieg_cruiser_hull = 1
		}

		start_year = 1920

		research_cost = 1.75

		folder = {
			name = escort_ships_folder
			position = { x = @11 y = @1918}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 10
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 10 }
			}
		}

		categories = {
			naval_equipment
			cv_tech
		}
	}

	carrier_hull_1936 = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech carrier_hull_1936"}

		enable_equipments = {
			ship_hull_carrier_1
		}

		enable_equipment_modules = {
			carrier_ship_engine_2
		}

		path = {
			leads_to_tech = carrier_hull_1940
			research_cost_coeff = 1
		}

		research_cost = 1.5

		start_year = 1936

		folder = {
			name = escort_ships_folder
			position = { x = @11 y = @1936}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			cv_tech
		}
	}

	carrier_hull_1940 = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech carrier_hull_1940"}

		enable_equipments = {
			ship_hull_carrier_2
		}

		enable_equipment_modules = {
			carrier_ship_engine_3
		}

		path = {
			leads_to_tech = carrier_hull_1944
			research_cost_coeff = 1
		}

		research_cost = 1.5

		start_year = 1940

		folder = {
			name = escort_ships_folder
			position = { x = @11 y = @1940}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			cv_tech
		}
	}

	carrier_hull_1944 = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech carrier_hull_1944"}

		enable_equipments = {
			ship_hull_carrier_3
		}

		enable_equipment_modules = {
			carrier_ship_engine_4
		}

		research_cost = 1.5

		start_year = 1944

		folder = {
			name = escort_ships_folder
			position = { x = @11 y = @1944}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			cv_tech
		}
	}

### Subamrines and Torpedoes Galore
	early_torpedo = {
		on_research_complete = {
			log = "[GetDateText]: [Root.GetName]: add tech early_torpedo"
			custom_effect_tooltip = torpedo_advice_tt
		}

		enable_equipment_modules = {
			ship_torpedo_1
		}

		path = {
			leads_to_tech = improved_ship_torpedo_launcher
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = weltkrieg_submarine_hull
			research_cost_coeff = 1
		}

		allow_branch = {
			has_dlc = "Man the Guns"
		}

		folder = {
			name = escort_ships_folder
			position = { x = @13 y = @1910}
		}

		research_cost = 1.5

		start_year = 1916


		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			ss_tech
			cat_torpedo
		}
	}

	improved_ship_torpedo_launcher = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech improved_ship_torpedo_launcher"}

		enable_equipment_modules = {
			ship_torpedo_2
		}

		path = {
			leads_to_tech = magnetic_detonator
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = advanced_ship_torpedo_launcher
			research_cost_coeff = 1
		}

		research_cost = 1.5

		start_year = 1920

		folder = {
			name = escort_ships_folder
			position = { x = @13 y = @1918}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			ss_tech
			cat_torpedo
		}
	}

	magnetic_detonator = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech magnetic_detonator"}

		destroyer = {
			torpedo_attack = 0.2
		}

		submarine = {
			torpedo_attack = 0.2
		}

		light_cruiser = {
			torpedo_attack = 0.2
		}

		heavy_cruiser = {
			torpedo_attack = 0.2
		}

		path = {
			leads_to_tech = electric_torpedo
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_research_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5

		start_year = 1936

		folder = {
			name = escort_ships_folder
			position = { x = @12 y = @1936}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			ss_tech
			cat_torpedo
		}
	}

	electric_torpedo = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech electric_torpedo"}

		naval_torpedo_reveal_chance_factor = -0.25

		path = {
			leads_to_tech = homing_torpedo
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_research_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5

		start_year = 1940

		folder = {
			name = escort_ships_folder
			position = { x = @12 y = @1940}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			ss_tech
			cat_torpedo
		}
	}

	advanced_ship_torpedo_launcher = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech advanced_ship_torpedo_launcher"}

		enable_equipment_modules = {
			ship_torpedo_3
		}

		path = {
			leads_to_tech = modern_ship_torpedo_launcher
			research_cost_coeff = 1
		}

		research_cost = 1.5

		start_year = 1936

		folder = {
			name = escort_ships_folder
			position = { x = @14 y = @1936}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			ss_tech
			cat_torpedo
		}
	}

	modern_ship_torpedo_launcher = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech modern_ship_torpedo_launcher"}

		enable_equipment_modules = {
			ship_torpedo_4
		}

		path = {
			leads_to_tech = homing_torpedo
			research_cost_coeff = 1
		}

		research_cost = 1.5

		start_year = 1940

		folder = {
			name = escort_ships_folder
			position = { x = @14 y = @1940}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			ss_tech
			cat_torpedo
		}
	}

	homing_torpedo = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech homing_torpedo"}

		destroyer = {
			torpedo_attack = 0.2
		}
		submarine = {
			torpedo_attack = 0.2
		}
		light_cruiser = {
			torpedo_attack = 0.2
		}
		heavy_cruiser = {
			torpedo_attack = 0.2
		}

		xp_research_type = navy
		xp_research_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5

		start_year = 1944

		folder = {
			name = escort_ships_folder
			position = { x = @13 y = @1944}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			ss_tech
			cat_torpedo
		}
	}

	weltkrieg_submarine_hull = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech weltkrieg_submarine_hull"}

		enable_equipments = {
			ship_hull_submarine_1
		}

		enable_equipment_modules = {
			ship_torpedo_sub_1
			sub_ship_engine_1
		}

		path = {
			leads_to_tech = submarine_hull_1936
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = cruiser_submarine
			research_cost_coeff = 1
		}

		research_cost = 1.25

		start_year = 1920

		folder = {
			name = escort_ships_folder
			position = { x = @15 y = @1918}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			ss_tech
		}
	}

	submarine_hull_1936 = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech submarine_hull_1936"}

		enable_equipments = {
			ship_hull_submarine_2
		}

		enable_equipment_modules = {
			ship_torpedo_sub_2
			sub_ship_engine_2
		}

		path = {
			leads_to_tech = submarine_hull_1940
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = snorkel_one
			research_cost_coeff = 1
		}

		research_cost = 1.25

		folder = {
			name = escort_ships_folder
			position = { x = @15 y = @1936}
		}

		start_year = 1936

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			ss_tech
		}
	}

	cruiser_submarine = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech cruiser_submarine"}

		enable_equipments = {
			ship_hull_cruiser_submarine
		}

		research_cost = 1.5

		start_year = 1936

		folder = {
			name = escort_ships_folder
			position = { x = 46 y = @1936}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			ss_tech
		}
	}

	submarine_hull_1940 = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech submarine_hull_1940"}

		enable_equipments = {
			ship_hull_submarine_3
		}

		enable_equipment_modules = {
			ship_torpedo_sub_3
			sub_ship_engine_3
		}

		path = {
			leads_to_tech = submarine_hull_1944
			research_cost_coeff = 1
		}

		research_cost = 1.5

		start_year = 1940

		folder = {
			name = escort_ships_folder
			position = { x = @15 y = @1940}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			ss_tech
		}
	}

	submarine_hull_1944 = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech submarine_hull_1944"}

		enable_equipments = {
			ship_hull_submarine_4
		}

		enable_equipment_modules = {
			ship_torpedo_sub_4
			sub_ship_engine_4
		}

		research_cost = 1.5

		start_year = 1944

		folder = {
			name = escort_ships_folder
			position = { x = @15 y = @1944}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			ss_tech
		}
	}

	snorkel_one = {
		on_research_complete = {
			log = "[GetDateText]: [Root.GetName]: add tech snorkel_one"
			custom_effect_tooltip = snorkel_advice_tt
		}

		enable_equipment_modules = {
			ship_sub_snorkel_1
		}

		path = {
			leads_to_tech = snorkel_two
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_research_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2

		start_year = 1940

		folder = {
			name = escort_ships_folder
			position = { x = @16 y = @1940}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			ss_tech
		}
	}

	snorkel_two = {
		on_research_complete = {
			log = "[GetDateText]: [Root.GetName]: add tech snorkel_two"
			custom_effect_tooltip = snorkel_advice_tt
		}

		enable_equipment_modules = {
			ship_sub_snorkel_2
		}

		xp_research_type = navy
		xp_research_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2

		start_year = 1944

		folder = {
			name = escort_ships_folder
			position = { x = @16 y = @1944 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
			ss_tech
		}
	}

### Extras

	fire_fighting_drills = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech fire_fighting_drills"}

		critical_receive_chance = -0.1
		naval_critical_effect_factor = -0.1
		xp_research_type = navy
		xp_research_cost = 50
		xp_research_bonus = 1.50

		path = {
			leads_to_tech = separate_fire_mains
			research_cost_coeff = 1
		}

		allow_branch = {
			has_dlc = "Man the Guns"
		}

		research_cost = 1

		start_year = 1920

		folder = {
			name = escort_ships_folder
			position = { x = 0 y = @1918}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
		}
	}

	separate_fire_mains = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech separate_fire_mains"}

		critical_receive_chance = -0.1
		naval_critical_effect_factor = -0.1

		path = {
			leads_to_tech = diesel_powered_pumps
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_research_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1

		start_year = 1936

		folder = {
			name = escort_ships_folder
			position = { x = 3 y = @1918}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
		}
	}

	diesel_powered_pumps = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech diesel_powered_pumps"}

		critical_receive_chance = -0.1
		naval_critical_effect_factor = -0.1

		xp_research_type = navy
		xp_research_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1

		start_year = 1940

		folder = {
			name = escort_ships_folder
			position = { x = 6 y = @1918}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
		}
	}

###Shooting
	bracket_shooting = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech bracket_shooting"}

		SH_battleship = {
			lg_attack = 0.05
			hg_attack = 0.05
		}
		battleship = {
			lg_attack = 0.05
			hg_attack = 0.05
		}
		battle_cruiser = {
			lg_attack = 0.05
			hg_attack = 0.05
		}

		path = {
			leads_to_tech = ladder_shooting
			research_cost_coeff = 1
		}

		allow_branch = {
			has_dlc = "Man the Guns"
		}

		xp_research_type = navy
		xp_research_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1

		start_year = 1920

		folder = {
			name = escort_ships_folder
			position = { x = 0 y = @1918}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
		}
	}

	ladder_shooting = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech ladder_shooting"}

		SH_battleship = {
			lg_attack = 0.1
			hg_attack = 0.1
		}
		battleship = {
			lg_attack = 0.1
			hg_attack = 0.1
		}
		battle_cruiser = {
			lg_attack = 0.1
			hg_attack = 0.1
		}
		heavy_cruiser = {
			lg_attack = 0.05
			hg_attack = 0.05
		}

		path = {
			leads_to_tech = shell_dyes
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_research_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1

		start_year = 1936

		folder = {
			name = escort_ships_folder
			position = { x = 3 y = @1918}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
		}
	}

	shell_dyes = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech shell_dyes"}

		SH_battleship = {
			lg_attack = 0.15
			hg_attack = 0.15
		}
		battleship = {
			lg_attack = 0.15
			hg_attack = 0.15
		}
		battle_cruiser = {
			lg_attack = 0.15
			hg_attack = 0.15
		}
		heavy_cruiser = {
			lg_attack = 0.1
			hg_attack = 0.1
		}
		light_cruiser = {
			lg_attack = 0.1
			hg_attack = 0.1
		}
		destroyer = {
			lg_attack = 0.05
			hg_attack = 0.05
		}

		xp_research_type = navy
		xp_research_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1

		start_year = 1940

		folder = {
			name = escort_ships_folder
			position = { x = 6 y = @1918}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_equipment
		}
	}

###landing crafts

	transport = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech transport"}

		transport_capacity = -0.5
		naval_invasion_capacity = 10

		path = {
			leads_to_tech = landing_craft
			research_cost_coeff = 1
		}

		allow_branch = {
			has_dlc = "Man the Guns"
		}

		research_cost = 1
		start_year = 1922

		folder = {
			name = escort_ships_folder
			position = { x = 0 y = @1918}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 0.5
				NOT = { has_war = yes }
			}
		}

		categories = {
			naval_equipment
			tp_tech
		}
	}

	landing_craft = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech landing_craft"}

		invasion_preparation = -0.5
		amphibious_invasion_defence = 0.15
		naval_invasion_capacity = 40

		path = {
			leads_to_tech = tank_landing_craft
			research_cost_coeff = 1
		}

		folder = {
			name = escort_ships_folder
			position = { x = 6 y = @1918}
		}


		research_cost = 2
		start_year = 1939

		ai_will_do = {
			factor = 2

			modifier = {
				factor = 0
				date < "1940.1.1"
			}
			modifier = {
				factor = 1
				date > "1940.1.1"
			}
		}

		categories = {
			naval_equipment
			tp_tech
		}
	}

	tank_landing_craft = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech tank_landing_craft"}

		amphibious_invasion = 0.25
		amphibious_invasion_defence = 0.5
		naval_invasion_capacity = 100


		research_cost = 2
		start_year = 1944

		folder = {
			name = escort_ships_folder
			position = { x = 9 y = @1918}
		}

		ai_will_do = {
			factor = 2

			modifier = {
				factor = 0
				date < "1944.1.1"
			}
			modifier = {
				factor = 1
				date > "1944.1.1"
			}
		}

		categories = {
			naval_equipment
			tp_tech
		}
	}


### Mines
	contact_mine = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech contact_mine"}

		path = {
			leads_to_tech = submarine_mine_laying
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = magnetic_mine
			research_cost_coeff = 1
		}

		allow_branch = {
			has_dlc = "Man the Guns"
		}

		enable_equipment_modules = {
			ship_mine_layer_1
		}

		enable_equipment_modules = {
			ship_mine_sweeper_1
		}

		research_cost = 1.75
		start_year = 1920

		folder = {
			name = escort_ships_folder
			position = { x = 0 y = @1918}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
		}

	}

	submarine_mine_laying = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech submarine_mine_laying"}

		dependencies = {
			contact_mine = 1
		}

		path = {
			leads_to_tech = torpedo_tube_magazines
			research_cost_coeff = 1
		}

		enable_equipment_modules = {
			ship_mine_layer_sub
		}

		research_cost = 1.75
		start_year = 1920

		folder = {
			name = escort_ships_folder
			position = { x = 0 y = @1936}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
		}
	}

	torpedo_tube_magazines = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech torpedo_tube_magazines"}

		submarine = {
			mines_planting = 0.2
		}

		research_cost = 1.75
		start_year = 1920

		folder = {
			name = escort_ships_folder
			position = { x = 6 y = @1936}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
		}
	}

	magnetic_mine = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech magnetic_mine"}

		path = {
			leads_to_tech = degausing
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = acoustic_mine
			research_cost_coeff = 1
		}

		naval_mines_damage_factor = 0.2 # more boom for the boom box

		research_cost = 1.75
		start_year = 1936

		folder = {
			name = escort_ships_folder
			position = { x = 3 y = @1918}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
		}
	}

	degausing = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech degausing"}

		naval_mines_effect_reduction = 0.5

		research_cost = 1
		start_year = 1936

		folder = {
			name = escort_ships_folder
			position = { x = 3 y = @1910}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
		}
	}

	acoustic_mine = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech acoustic_mine"}

		path = {
			leads_to_tech = aerial_mining
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = pressure_mine
			research_cost_coeff = 1
		}

		naval_mines_damage_factor = 0.2 # more boom for the boom box

		research_cost = 1.75
		start_year = 1940

		folder = {
			name = escort_ships_folder
			position = { x = 6 y = @1918}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
		}
	}

	aerial_mining = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech aerial_mining"}

		path = {
			leads_to_tech = aerial_demining
			research_cost_coeff = 1
		}

		category_nav_bomber = {
			mines_planting = 0.05
		}
		category_tac_bomber = {
			mines_planting = 0.08
		}
		category_strat_bomber = {
			mines_planting = 0.13
		}

		research_cost = 1.5
		start_year = 1940

		folder = {
			name = escort_ships_folder
			position = { x = 6 y = @1910}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
		}
	}

	aerial_demining = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech aerial_demining"}

		category_nav_bomber = {
			mines_sweeping = 0.1
		}

		category_tac_bomber = {
			mines_sweeping = 0.15
		}

		research_cost = 1.75
		start_year = 1944

		folder = {
			name = escort_ships_folder
			position = { x = 9 y = @1910}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
		}
	}

	pressure_mine = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech pressure_mine"}

		naval_mines_damage_factor = 0.2 # more boom for the boom box

		research_cost = 1.75
		start_year = 1940

		folder = {
			name = escort_ships_folder
			position = { x = 9 y = @1918}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 10
				AND = {
					date > "1936.1.3"
					num_of_naval_factories > 1
				}
			}

			modifier = {
				factor = 0
				NOT = { num_of_naval_factories > 1 }
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
		}
	}

### Special snowflake hulls 

	torpedo_cruiser_mtg = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech torpedo_cruiser_mtg"}

		enable_equipments = {
			ship_hull_torpedo_cruiser
		}

		research_cost = 1
		start_year = 1936

		#set at gamestart
		allow = {
			always = no
		}
	}

	pre_dreadnoughts = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech pre_dreadnoughts"}

		enable_equipments = {
			ship_hull_pre_dreadnought
		}

		research_cost = 1
		start_year = 1900

		#set at gamestart
		allow = {
			always = no
		}
	}

	coastal_defense_ships = {
		on_research_complete = { log = "[GetDateText]: [Root.GetName]: add tech coastal_defense_ships"}

		enable_equipments = {
			ship_hull_cruiser_coastal_defense_ship
		}

		research_cost = 1
		start_year = 1900

		#set at gamestart
		allow = {
			always = no
		}
	}

}
